(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Vt=(e,t)=>e===t,F=Symbol("solid-proxy"),oe=Symbol("solid-track"),se={equals:Vt};let ut=yt;const N=1,le=2,dt={owned:null,cleanups:null,context:null,owner:null};var S=null;let Ae=null,Ht=null,$=null,_=null,L=null,pe=0;function H(e,t){const n=$,r=S,i=e.length===0,o=t===void 0?r:t,s=i?dt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},l=i?e:()=>e(()=>P(()=>we(s)));S=s,$=null;try{return W(l,!0)}finally{$=n,S=r}}function me(e,t){t=t?Object.assign({},se,t):se;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),ht(n,i));return[gt.bind(n),r]}function x(e,t,n){const r=Ke(e,t,!1,N);ee(r)}function Ut(e,t,n){ut=Xt;const r=Ke(e,t,!1,N);r.user=!0,L?L.push(r):ee(r)}function M(e,t,n){n=n?Object.assign({},se,n):se;const r=Ke(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ee(r),gt.bind(r)}function Kt(e){return W(e,!1)}function P(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function Ue(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function je(){return $}function qt(e){const t=M(e),n=M(()=>Pe(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function gt(){if(this.sources&&this.state)if(this.state===N)ee(this);else{const e=_;_=null,W(()=>fe(this),!1),_=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function ht(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&W(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=Ae&&Ae.running;s&&Ae.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?_.push(o):L.push(o),o.observers&&bt(o)),s||(o.state=N)}if(_.length>1e6)throw _=[],new Error},!1)),t}function ee(e){if(!e.fn)return;we(e);const t=pe;zt(e,e.value,t)}function zt(e,t,n){let r;const i=S,o=$;$=S=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=N,e.owned&&e.owned.forEach(we),e.owned=null),e.updatedAt=n+1,pt(s)}finally{$=o,S=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ht(e,r):e.value=r,e.updatedAt=n)}function Ke(e,t,n,r=N,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return S===null||S!==dt&&(S.owned?S.owned.push(o):S.owned=[o]),o}function ce(e){if(e.state===0)return;if(e.state===le)return fe(e);if(e.suspense&&P(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<pe);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===N)ee(e);else if(e.state===le){const r=_;_=null,W(()=>fe(e,t[0]),!1),_=r}}function W(e,t){if(_)return e();let n=!1;t||(_=[]),L?n=!0:L=[],pe++;try{const r=e();return Wt(n),r}catch(r){n||(L=null),_=null,pt(r)}}function Wt(e){if(_&&(yt(_),_=null),e)return;const t=L;L=null,t.length&&W(()=>ut(t),!1)}function yt(e){for(let t=0;t<e.length;t++)ce(e[t])}function Xt(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:ce(r)}for(t=0;t<n;t++)ce(e[t])}function fe(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===N?r!==t&&(!r.updatedAt||r.updatedAt<pe)&&ce(r):i===le&&fe(r,t)}}}function bt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=le,n.pure?_.push(n):L.push(n),n.observers&&bt(n))}}function we(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)we(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Yt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function pt(e,t=S){throw Yt(e)}function Pe(e){if(typeof e=="function"&&!e.length)return Pe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Pe(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const ke=Symbol("fallback");function ae(e){for(let t=0;t<e.length;t++)e[t]()}function Jt(e,t,n={}){let r=[],i=[],o=[],s=0,l=t.length>1?[]:null;return Ue(()=>ae(o)),()=>{let c=e()||[],u=c.length,h,f;return c[oe],P(()=>{let A,d,a,g,b,y,E,v,C;if(u===0)s!==0&&(ae(o),o=[],r=[],i=[],s=0,l&&(l=[])),n.fallback&&(r=[ke],i[0]=H(j=>(o[0]=j,n.fallback())),s=1);else if(s===0){for(i=new Array(u),f=0;f<u;f++)r[f]=c[f],i[f]=H(T);s=u}else{for(a=new Array(u),g=new Array(u),l&&(b=new Array(u)),y=0,E=Math.min(s,u);y<E&&r[y]===c[y];y++);for(E=s-1,v=u-1;E>=y&&v>=y&&r[E]===c[v];E--,v--)a[v]=i[E],g[v]=o[E],l&&(b[v]=l[E]);for(A=new Map,d=new Array(v+1),f=v;f>=y;f--)C=c[f],h=A.get(C),d[f]=h===void 0?-1:h,A.set(C,f);for(h=y;h<=E;h++)C=r[h],f=A.get(C),f!==void 0&&f!==-1?(a[f]=i[h],g[f]=o[h],l&&(b[f]=l[h]),f=d[f],A.set(C,f)):o[h]();for(f=y;f<u;f++)f in a?(i[f]=a[f],o[f]=g[f],l&&(l[f]=b[f],l[f](f))):i[f]=H(T);i=i.slice(0,s=u),r=c.slice(0)}return i});function T(A){if(o[f]=A,l){const[d,a]=me(f);return l[f]=a,t(c[f],d)}return t(c[f])}}}function Qt(e,t,n={}){let r=[],i=[],o=[],s=[],l=0,c;return Ue(()=>ae(o)),()=>{const u=e()||[],h=u.length;return u[oe],P(()=>{if(h===0)return l!==0&&(ae(o),o=[],r=[],i=[],l=0,s=[]),n.fallback&&(r=[ke],i[0]=H(T=>(o[0]=T,n.fallback())),l=1),i;for(r[0]===ke&&(o[0](),o=[],r=[],i=[],l=0),c=0;c<h;c++)c<r.length&&r[c]!==u[c]?s[c](()=>u[c]):c>=r.length&&(i[c]=H(f));for(;c<r.length;c++)o[c]();return l=s.length=o.length=h,r=u.slice(0),i=i.slice(0,l)});function f(T){o[c]=T;const[A,d]=me(u[c]);return s[c]=d,t(A,c)}}}let Zt=!1;function m(e,t){return P(()=>e(t||{}))}const mt=e=>`Stale read from <${e}>.`;function Y(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(Jt(()=>e.each,e.children,t||void 0))}function en(e){const t="fallback"in e&&{fallback:()=>e.fallback};return M(Qt(()=>e.each,e.children,t||void 0))}function tn(e){const t=e.keyed,n=M(()=>e.when,void 0,{equals:(r,i)=>t?r===i:!r==!i});return M(()=>{const r=n();if(r){const i=e.children;return typeof i=="function"&&i.length>0?P(()=>i(t?r:()=>{if(!P(n))throw mt("Show");return e.when})):i}return e.fallback},void 0,void 0)}function Ye(e){let t=!1;const n=(o,s)=>(t?o[1]===s[1]:!o[1]==!s[1])&&o[2]===s[2],r=qt(()=>e.children),i=M(()=>{let o=r();Array.isArray(o)||(o=[o]);for(let s=0;s<o.length;s++){const l=o[s].when;if(l)return t=!!o[s].keyed,[s,l,o[s]]}return[-1]},void 0,{equals:n});return M(()=>{const[o,s,l]=i();if(o<0)return e.fallback;const c=l.children;return typeof c=="function"&&c.length>0?P(()=>c(t?s:()=>{if(P(i)[0]!==o)throw mt("Match");return l.when})):c},void 0,void 0)}function ne(e){return e}function nn(e,t,n){let r=n.length,i=t.length,o=r,s=0,l=0,c=t[i-1].nextSibling,u=null;for(;s<i||l<o;){if(t[s]===n[l]){s++,l++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const h=o<r?l?n[l-1].nextSibling:n[o-l]:c;for(;l<o;)e.insertBefore(n[l++],h)}else if(o===l)for(;s<i;)(!u||!u.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[l]===t[i-1]){const h=t[--i].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--o],h),t[i]=n[o]}else{if(!u){u=new Map;let f=l;for(;f<o;)u.set(n[f],f++)}const h=u.get(t[s]);if(h!=null)if(l<h&&h<o){let f=s,T=1,A;for(;++f<i&&f<o&&!((A=u.get(t[f]))==null||A!==h+T);)T++;if(T>h-l){const d=t[s];for(;l<h;)e.insertBefore(n[l++],d)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}const Je="_$DX_DELEGATE";function rn(e,t,n,r={}){let i;return H(o=>{i=o,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function w(e,t,n){let r;const i=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},o=t?()=>P(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function on(e,t=window.document){const n=t[Je]||(t[Je]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,sn))}}function I(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function O(e,t){t==null?e.removeAttribute("class"):e.className=t}function Qe(e,t,n,r){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ue(e,t,r,n);x(i=>ue(e,t(),i,n),r)}function sn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function ue(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(s){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=G(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=G(e,n,r);else{if(o==="function")return x(()=>{let l=t();for(;typeof l=="function";)l=l();n=ue(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],c=n&&Array.isArray(n);if(Le(l,t,n,i))return x(()=>n=ue(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=G(e,n,r),s)return n}else c?n.length===0?Ze(e,l,r):nn(e,n,l):(n&&G(e),Ze(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=G(e,n,r,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Le(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let l=t[o],c=n&&n[e.length],u;if(!(l==null||l===!0||l===!1))if((u=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Le(e,l,c)||i;else if(u==="function")if(r){for(;typeof l=="function";)l=l();i=Le(e,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||i}else e.push(l),i=!0;else{const h=String(l);c&&c.nodeType===3&&c.data===h?e.push(c):e.push(document.createTextNode(h))}}return i}function Ze(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function G(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(i!==l){const c=l.parentNode===e;!o&&!s?c?e.replaceChild(i,l):e.insertBefore(i,n):c&&l.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const de=Symbol("store-raw"),U=Symbol("store-node"),k=Symbol("store-has"),wt=Symbol("store-self");function $t(e){let t=e[F];if(!t&&(Object.defineProperty(e,F,{value:t=new Proxy(e,fn)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function K(e){let t;return e!=null&&typeof e=="object"&&(e[F]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function q(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[de])return n;if(!K(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,l=e.length;s<l;s++)i=e[s],(r=q(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let c=0,u=s.length;c<u;c++)o=s[c],!l[o].get&&(i=e[o],(r=q(i,t))!==i&&(e[o]=r))}return e}function ge(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function Z(e,t,n){if(e[t])return e[t];const[r,i]=me(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function ln(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===F||t===U||(delete n.value,delete n.writable,n.get=()=>e[F][t]),n}function vt(e){je()&&Z(ge(e,U),wt)()}function cn(e){return vt(e),Reflect.ownKeys(e)}const fn={get(e,t,n){if(t===de)return e;if(t===F)return n;if(t===oe)return vt(e),n;const r=ge(e,U),i=r[t];let o=i?i():e[t];if(t===U||t===k||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);je()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=Z(r,t,o)())}return K(o)?$t(o):o},has(e,t){return t===de||t===F||t===oe||t===U||t===k||t==="__proto__"?!0:(je()&&Z(ge(e,k),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:cn,getOwnPropertyDescriptor:ln};function z(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[k]&&e[k][t]&&i!==void 0&&e[k][t].$()):(e[t]=n,e[k]&&e[k][t]&&i===void 0&&e[k][t].$());let s=ge(e,U),l;if((l=Z(s,t,i))&&l.$(()=>n),Array.isArray(e)&&e.length!==o){for(let c=e.length;c<o;c++)(l=s[c])&&l.$();(l=Z(s,"length",o))&&l.$(e.length)}(l=s[wt])&&l.$()}function At(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];z(e,i,t[i])}}function an(e,t){if(typeof t=="function"&&(t=t(e)),t=q(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&z(e,n,i)}z(e,"length",r)}else At(e,t)}function J(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,l=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)J(e,[r[c]].concat(t),n);return}else if(l&&s==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&J(e,[c].concat(t),n);return}else if(l&&s==="object"){const{from:c=0,to:u=e.length-1,by:h=1}=r;for(let f=c;f<=u;f+=h)J(e,[f].concat(t),n);return}else if(t.length>1){J(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=q(o),r===void 0||K(i)&&K(o)&&!Array.isArray(o)?At(i,o):z(e,r,o))}function un(...[e,t]){const n=q(e||{}),r=Array.isArray(n),i=$t(n);function o(...s){Kt(()=>{r&&s.length===1?an(n,s[0]):J(n,s)})}return[i,o]}const he=new WeakMap,xt={get(e,t){if(t===de)return e;const n=e[t];let r;return K(n)?he.get(n)||(he.set(n,r=new Proxy(n,xt)),r):n},set(e,t,n){return z(e,t,q(n)),!0},deleteProperty(e,t){return z(e,t,void 0,!0),!0}};function Q(e){return t=>{if(K(t)){let n;(n=he.get(t))||he.set(t,n=new Proxy(t,xt)),e(n)}return t}}function dn(e,t){return e.nodes.map(n=>n.map(({edge:r,dest:i})=>({edge:r,dest:i,nbBalls:t})))}function gn(e,t){const n=new Array(e+1);for(let r=0;r<=e;r++){const i=[];for(const o of t)r-o>=0&&i.push({edge:o-1,dest:r-o});n[r]=i}return{nodes:n}}function hn(e,t){const n=new Array(e*t);for(let r=0;r<e;r++)for(let i=0;i<t;i++){const o=[];r>0&&o.push({edge:0,dest:i*e-r-1}),i>0&&o.push({edge:1,dest:(i-1)*e-r}),r>0&&i>0&&o.push({edge:2,dest:(i-1)*e-r-1}),n[i*e+r]=o}return{nodes:n}}function yn(e){return{width:800,height:400,position:t=>t==0?void 0:t<=8?{x:(t-1)*100,y:0}:{x:(t-9)*100,y:200},legend:e.map(t=>({edge:t-1,name:""+t})),vertexLabel:t=>""+t}}function bn(e,t){const n=Math.max(e,t);return{width:180*n,height:180*n,position:r=>r==0?void 0:{x:50+180*(r%e),y:50+180*(t-1-(r/e|0))},legend:[{edge:0,name:"⇐"},{edge:1,name:"⇙"},{edge:2,name:"⇓"}],vertexLabel:r=>{}}}function St(e,t){const n=e[t];if(n.length!==0)return n[Math.random()*n.length|0]}function pn(e,t,n){return t[n]?St(e,n):e[n].find(({dest:r})=>t[r])}function et(e,t){const n=e[t];let r=0;const i=[];for(let l=0;l<n.length;l++)r+=n[l].nbBalls,i.push(r);if(r==0)return;let o=Math.random()*r|0,s=i.findIndex(l=>o<l);return{dest:n[s].dest,edge:n[s].edge}}function mn(e){const t=e.config.graphType;return t.type==="nim"?gn(t.size,t.moves):hn(t.width,t.height)}function Tt(e){const t=mn(e),n=dn(t,e.config.ballsPerColor);return{...e,machine:n,victories:0,losses:0,isRunning:!1}}var wn=w('<div class="rounded overflow-hidden shadow-lg p-4"><div class="font-bold text-xl mb-2">');const xe="py-2.5 px-5 mr-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200",$n="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2",V="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",Se="block w-full px-3 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",qe=e=>(()=>{var t=wn(),n=t.firstChild;return p(n,()=>e.title),p(t,()=>e.children,null),t})();var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tt=1/0,Ct=9007199254740991,vn=17976931348623157e292,nt=NaN,An="[object Function]",xn="[object GeneratorFunction]",Sn="[object Symbol]",Tn=/^\s+|\s+$/g,_n=/^[-+]0x[0-9a-f]+$/i,Cn=/^0b[01]+$/i,En=/^0o[0-7]+$/i,On=/^(?:0|[1-9]\d*)$/,Mn=parseInt,jn=Object.prototype,Et=jn.toString,Pn=Math.ceil,kn=Math.max;function Ln(e,t,n,r){for(var i=-1,o=kn(Pn((t-e)/(n||1)),0),s=Array(o);o--;)s[++i]=e,e+=n;return s}function Nn(e){return function(t,n,r){return r&&typeof r!="number"&&Rn(t,n,r)&&(n=r=void 0),t=Te(t),n===void 0?(n=t,t=0):n=Te(n),r=r===void 0?t<n?1:-1:Te(r),Ln(t,n,r)}}function In(e,t){return t=t??Ct,!!t&&(typeof e=="number"||On.test(e))&&e>-1&&e%1==0&&e<t}function Rn(e,t,n){if(!ye(n))return!1;var r=typeof t;return(r=="number"?Bn(n)&&In(t,n.length):r=="string"&&t in n)?Fn(n[t],e):!1}function Fn(e,t){return e===t||e!==e&&t!==t}function Bn(e){return e!=null&&Gn(e.length)&&!Dn(e)}function Dn(e){var t=ye(e)?Et.call(e):"";return t==An||t==xn}function Gn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ct}function ye(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Vn(e){return!!e&&typeof e=="object"}function Hn(e){return typeof e=="symbol"||Vn(e)&&Et.call(e)==Sn}function Te(e){if(!e)return e===0?e:0;if(e=Un(e),e===tt||e===-tt){var t=e<0?-1:1;return t*vn}return e===e?e:0}function Un(e){if(typeof e=="number")return e;if(Hn(e))return nt;if(ye(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ye(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(Tn,"");var n=Cn.test(e);return n||En.test(e)?Mn(e.slice(2),n?2:8):_n.test(e)?nt:+e}var Kn=Nn(),qn=Kn;const ie=_t(qn);var zn=w("<div>Nombre de casiers"),_e=w("<select>"),Wn=w("<div>Coups possibles"),Xn=w('<div class="flex flex-row justify-between">'),Yn=w("<div>Hauteur de la grille"),Jn=w("<div>Largeur de la grille"),Qn=w("<button>Arrêter la machine"),Zn=w("<button>Lancer la machine"),er=w('<div class="grid grid-cols-2 gap-4"><div>type de jeu</div><select><option value=nim>Nim</option><option value=king>Roi</option></select><div>Adversaire</div><select><option value=random>Aléatoire</option><option value=expert>Expert</option><option value=machine>Machine</option></select><div>Billes par couleur</div><input type=number min=2 max=10><div>Récompense</div><input type=number min=1><div>Pénalité</div><input type=number max=0><div>La machine commence</div><select><option value=y>Oui</option><option value=n>Non</option></select><button>Accélerer'),Ce=w("<option>"),tr=w('<label><input type=checkbox><span class="ml-2 text-sm font-medium text-gray-900">');function nr(e,t,n){return n?[...e,t].toSorted():e.filter(r=>r!==t)}function rr(e,t){return{...e,graphType:t==="nim"?{type:"nim",size:8,moves:[1,2]}:{type:"king",width:3,height:3}}}const ir=e=>m(qe,{title:"Choix des paramètres",get children(){var t=er(),n=t.firstChild,r=n.nextSibling,i=r.nextSibling,o=i.nextSibling,s=o.nextSibling,l=s.nextSibling,c=l.nextSibling,u=c.nextSibling,h=u.nextSibling,f=h.nextSibling,T=f.nextSibling,A=T.nextSibling,d=A.nextSibling;return r.addEventListener("change",a=>e.actions.changeConfig(g=>rr(g,a.currentTarget.value))),O(r,V),p(t,m(Ye,{get children(){return[m(ne,{get when(){return e.config.graphType.type==="nim"},get children(){return[zn(),(()=>{var a=_e();return a.addEventListener("change",g=>e.actions.changeConfig(Q(b=>{b.graphType.size=Number(g.currentTarget.value)}))),O(a,V),p(a,m(Y,{get each(){return ie(8,17)},children:g=>(()=>{var b=Ce();return b.value=g,p(b,g),b})()})),x(()=>a.value=e.config.graphType.size),a})(),Wn(),(()=>{var a=Xn();return p(a,m(Y,{get each(){return ie(1,6)},children:g=>(()=>{var b=tr(),y=b.firstChild,E=y.nextSibling;return y.addEventListener("change",v=>e.actions.changeConfig(Q(C=>{const j=C.graphType;j.moves=nr(j.moves,g,v.currentTarget.checked)}))),O(y,$n),p(E,g),x(()=>y.checked=e.config.graphType.moves.includes(g)),b})()})),a})()]}}),m(ne,{get when(){return e.config.graphType.type==="king"},get children(){return[Yn(),(()=>{var a=_e();return a.addEventListener("change",g=>e.actions.changeConfig(Q(b=>{b.graphType.height=Number(g.currentTarget.value)}))),O(a,V),p(a,m(Y,{get each(){return ie(3,7)},children:g=>(()=>{var b=Ce();return b.value=g,p(b,g),b})()})),x(()=>a.value=e.config.graphType.height),a})(),Jn(),(()=>{var a=_e();return a.addEventListener("change",g=>e.actions.changeConfig(Q(b=>{b.graphType.width=Number(g.currentTarget.value)}))),O(a,V),p(a,m(Y,{get each(){return ie(3,7)},children:g=>(()=>{var b=Ce();return b.value=g,p(b,g),b})()})),x(()=>a.value=e.config.graphType.width),a})()]}})]}}),i),o.addEventListener("change",a=>e.actions.changeConfig(g=>({...g,adversary:a.currentTarget.value}))),O(o,V),l.addEventListener("change",a=>e.actions.changeConfig(g=>({...g,ballsPerColor:a.currentTarget.valueAsNumber}))),O(l,Se),u.addEventListener("change",a=>e.actions.changeConfig(g=>({...g,reward:a.currentTarget.valueAsNumber}))),O(u,Se),f.addEventListener("change",a=>e.actions.changeConfig(g=>({...g,penalty:a.currentTarget.valueAsNumber}))),O(f,Se),A.addEventListener("change",a=>e.actions.changeConfig(g=>({...g,machineStarts:a.currentTarget.value==="y"}))),O(A,V),p(t,m(Ye,{get children(){return[m(ne,{get when(){return e.isRunning},get children(){var a=Qn();return Qe(a,"click",e.actions.stopMachine),O(a,xe),a}}),m(ne,{get when(){return!e.isRunning},get children(){var a=Zn();return Qe(a,"click",e.actions.startMachine),O(a,xe),a}})]}}),d),d.addEventListener("pointerleave",()=>e.actions.setFastMode(!1)),d.$$pointerup=()=>e.actions.setFastMode(!1),d.$$pointerdown=()=>e.actions.setFastMode(!0),O(d,xe),x(()=>r.value=e.config.graphType.type),x(()=>o.value=e.config.adversary),x(()=>l.value=e.config.ballsPerColor),x(()=>u.value=e.config.reward),x(()=>f.value=e.config.penalty),x(()=>A.value=e.config.machineStarts?"y":"n"),t}});on(["click","pointerdown","pointerup"]);var or=w('<div class="grid grid-cols-2 gap-4">'),sr=w('<input type=color class="inline w-12 h-12">'),lr=w("<span class=text-2xl> : ");const cr=e=>m(qe,{title:"Légende",get children(){var t=or();return p(t,()=>e.legend.map(({edge:n,name:r},i)=>[(()=>{var o=sr();return o.addEventListener("change",s=>e.setColor(i,s.currentTarget.value)),x(()=>o.value=e.colors[n]??"#000000"),o})(),(()=>{var o=lr();return o.firstChild,p(o,r,null),o})()])),t}});var fr=w('<div class="flex flex-row justify-between mt-4 mb-2"><span class="text-blue-600 font-bold">Victoires: </span><div class="w-full bg-red-600 rounded-full h-6"><div class="h-6 bg-blue-600 rounded-l-full"></div></div><span class="text-red-600 font-bold">Défaites: ');const ar=e=>{const t=()=>e.victories+e.losses;return(()=>{var n=fr(),r=n.firstChild;r.firstChild;var i=r.nextSibling,o=i.firstChild,s=i.nextSibling;return s.firstChild,p(r,()=>e.victories,null),p(s,()=>e.losses,null),x(l=>(l=t()===0?"50%":`${100*e.victories/t()}%`)!=null?o.style.setProperty("width",l):o.style.removeProperty("width")),n})()};function ur(e,t){const n=new Array(e);return n.fill(t),n}function rt(e){const t=100*Math.sin(e+1);return t-Math.floor(t)}var it=1/0,Ot=9007199254740991,dr=17976931348623157e292,ot=NaN,gr=4294967295,hr="[object Arguments]",yr="[object Function]",br="[object GeneratorFunction]",Ne="[object Map]",pr="[object Object]",st="[object Promise]",Ie="[object Set]",mr="[object String]",wr="[object Symbol]",lt="[object WeakMap]",ct="[object DataView]",$r=/[\\^$.*+?()[\]{}|]/g,vr=/^\s+|\s+$/g,Ar=/^[-+]0x[0-9a-f]+$/i,xr=/^0b[01]+$/i,Sr=/^\[object .+?Constructor\]$/,Tr=/^0o[0-7]+$/i,_r=/^(?:0|[1-9]\d*)$/,ze="\\ud800-\\udfff",Mt="\\u0300-\\u036f\\ufe20-\\ufe23",jt="\\u20d0-\\u20f0",Pt="\\ufe0e\\ufe0f",Cr="["+ze+"]",Re="["+Mt+jt+"]",Fe="\\ud83c[\\udffb-\\udfff]",Er="(?:"+Re+"|"+Fe+")",kt="[^"+ze+"]",Lt="(?:\\ud83c[\\udde6-\\uddff]){2}",Nt="[\\ud800-\\udbff][\\udc00-\\udfff]",It="\\u200d",Rt=Er+"?",Ft="["+Pt+"]?",Or="(?:"+It+"(?:"+[kt,Lt,Nt].join("|")+")"+Ft+Rt+")*",Mr=Ft+Rt+Or,jr="(?:"+[kt+Re+"?",Re,Lt,Nt,Cr].join("|")+")",Pr=RegExp(Fe+"(?="+Fe+")|"+jr+Mr,"g"),kr=RegExp("["+It+ze+Mt+jt+Pt+"]"),Lr=parseInt,Nr=typeof re=="object"&&re&&re.Object===Object&&re,Ir=typeof self=="object"&&self&&self.Object===Object&&self,B=Nr||Ir||Function("return this")();function Rr(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Fr(e){return e.split("")}function Br(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Dr(e,t){return Rr(t,function(n){return e[n]})}function Gr(e,t){return e?.[t]}function Vr(e){return kr.test(e)}function Hr(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function Ur(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Kr(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function qr(e,t){return function(n){return e(t(n))}}function zr(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}function Wr(e){return Vr(e)?Xr(e):Fr(e)}function Xr(e){return e.match(Pr)||[]}var Yr=Function.prototype,$e=Object.prototype,Ee=B["__core-js_shared__"],ft=function(){var e=/[^.]+$/.exec(Ee&&Ee.keys&&Ee.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Bt=Yr.toString,ve=$e.hasOwnProperty,X=$e.toString,Jr=RegExp("^"+Bt.call(ve).replace($r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),at=B.Symbol,Oe=at?at.iterator:void 0,Qr=$e.propertyIsEnumerable,Zr=Math.floor,ei=qr(Object.keys,Object),ti=Math.random,Be=te(B,"DataView"),De=te(B,"Map"),Ge=te(B,"Promise"),Ve=te(B,"Set"),He=te(B,"WeakMap"),ni=D(Be),ri=D(De),ii=D(Ge),oi=D(Ve),si=D(He);function li(e,t){var n=Dt(e)||wi(e)?Br(e.length,String):[],r=n.length,i=!!r;for(var o in e)ve.call(e,o)&&!(i&&(o=="length"||hi(o,r)))&&n.push(o);return n}function ci(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),e=e>=t?e:t),e}function fi(e){return X.call(e)}function ai(e){if(!be(e)||yi(e))return!1;var t=Gt(e)||Hr(e)?Jr:Sr;return t.test(D(e))}function ui(e){if(!bi(e))return ei(e);var t=[];for(var n in Object(e))ve.call(e,n)&&n!="constructor"&&t.push(n);return t}function di(e,t){return e+Zr(ti()*(t-e+1))}function gi(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function te(e,t){var n=Gr(e,t);return ai(n)?n:void 0}var R=fi;(Be&&R(new Be(new ArrayBuffer(1)))!=ct||De&&R(new De)!=Ne||Ge&&R(Ge.resolve())!=st||Ve&&R(new Ve)!=Ie||He&&R(new He)!=lt)&&(R=function(e){var t=X.call(e),n=t==pr?e.constructor:void 0,r=n?D(n):void 0;if(r)switch(r){case ni:return ct;case ri:return Ne;case ii:return st;case oi:return Ie;case si:return lt}return t});function hi(e,t){return t=t??Ot,!!t&&(typeof e=="number"||_r.test(e))&&e>-1&&e%1==0&&e<t}function yi(e){return!!ft&&ft in e}function bi(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||$e;return e===n}function D(e){if(e!=null){try{return Bt.call(e)}catch{}try{return e+""}catch{}}return""}function pi(e,t,n){var r=-1,i=Si(e),o=i.length,s=o-1;for(t===void 0?t=1:t=ci(_i(t),0,o);++r<t;){var l=di(r,s),c=i[l];i[l]=i[r],i[r]=c}return i.length=t,i}function mi(e){return pi(e,gr)}function wi(e){return $i(e)&&ve.call(e,"callee")&&(!Qr.call(e,"callee")||X.call(e)==hr)}var Dt=Array.isArray;function We(e){return e!=null&&vi(e.length)&&!Gt(e)}function $i(e){return Xe(e)&&We(e)}function Gt(e){var t=be(e)?X.call(e):"";return t==yr||t==br}function vi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ot}function be(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Xe(e){return!!e&&typeof e=="object"}function Ai(e){return typeof e=="string"||!Dt(e)&&Xe(e)&&X.call(e)==mr}function xi(e){return typeof e=="symbol"||Xe(e)&&X.call(e)==wr}function Si(e){if(!e)return[];if(We(e))return Ai(e)?Wr(e):gi(e);if(Oe&&e[Oe])return Ur(e[Oe]());var t=R(e),n=t==Ne?Kr:t==Ie?zr:Oi;return n(e)}function Ti(e){if(!e)return e===0?e:0;if(e=Ci(e),e===it||e===-it){var t=e<0?-1:1;return t*dr}return e===e?e:0}function _i(e){var t=Ti(e),n=t%1;return t===t?n?t-n:t:0}function Ci(e){if(typeof e=="number")return e;if(xi(e))return ot;if(be(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=be(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(vr,"");var n=xr.test(e);return n||Tr.test(e)?Lr(e.slice(2),n?2:8):Ar.test(e)?ot:+e}function Ei(e){return We(e)?li(e):ui(e)}function Oi(e){return e?Dr(e,Ei(e)):[]}var Mi=mi;const ji=_t(Mi);var Pi=w('<svg><g><path d="M1 1 L10 109 L90 109 L99 1"stroke-width=3.0 stroke=#000 fill=transparent></svg>',!1,!0),ki=w("<svg><circle r=5></svg>",!1,!0),Li=w("<svg><rect y=115 height=20 stroke=black></svg>",!1,!0);const Ni=e=>{const t=M(()=>e.displayer.position(e.idx)),n=M(()=>ji(e.box.flatMap(({nbBalls:o,edge:s})=>ur(o,s)))),r=()=>Math.min(95,n().length),i=()=>{const o=[],s=e.box.reduce((c,{nbBalls:u})=>c+u,0);let l=0;for(const{nbBalls:c,edge:u}of e.box)o.push({begin:l/s,end:(l+c)/s,edge:u}),l+=c;return o};return m(tn,{get when(){return t()},get children(){var o=Pi();return o.firstChild,p(o,()=>n().map((s,l)=>(()=>{var c=ki();return x(u=>{var h=15+rt(e.idx+l)*71,f=100-rt(10+e.idx+l)*r(),T=e.colors[s];return h!==u.e&&I(c,"cx",u.e=h),f!==u.t&&I(c,"cy",u.t=f),T!==u.a&&I(c,"fill",u.a=T),u},{e:void 0,t:void 0,a:void 0}),c})()),null),p(o,m(en,{get each(){return i()},children:s=>(()=>{var l=Li();return x(c=>{var u=3+94*s().begin,h=94*(s().end-s().begin),f=e.colors[s().edge];return u!==c.e&&I(l,"x",c.e=u),h!==c.t&&I(l,"width",c.t=h),f!==c.a&&I(l,"fill",c.a=f),c},{e:void 0,t:void 0,a:void 0}),l})()}),null),x(s=>(s=`translate(${t().x}px, ${t().y}px)`)!=null?o.style.setProperty("transform",s):o.style.removeProperty("transform")),o}})};var Ii=w("<div class=w-[42vw]><svg>");const Ri=e=>(()=>{var t=Ii(),n=t.firstChild;return p(n,m(Y,{get each(){return e.machine},children:(r,i)=>m(Ni,{get displayer(){return e.displayer},get colors(){return e.colors},get idx(){return i()},box:r})})),x(()=>I(n,"viewBox",`0 0 ${e.displayer.width} ${e.displayer.height}`)),t})();var Me=(e,t,n)=>{const r=n(e,t);return Ue(()=>clearInterval(r))},Fi=(e,t,n)=>{if(typeof t=="number"){Me(e,t,n);return}let r=!1,i=performance.now(),o=0,s=!1;const l=()=>{P(e),i=performance.now(),r=n===setTimeout};Ut(c=>{if(r)return;const u=t();if(u===!1)return c&&(o+=(performance.now()-i)/c),u;if(c===!1&&(i=performance.now()),s){if(c&&(o+=(performance.now()-i)/c),i=performance.now(),o>=1)o=0,l();else if(o>0){const[h,f]=me(void 0,{equals:!1});return h(),Me(()=>{o=0,s=!1,f(),l()},(1-o)*u,setTimeout),u}}return s=!0,Me(l,u,n),u})},Bi=w('<div class="flex flex-col">'),Di=w('<div class="w-screen flex flex-row justify-around items-start">');const Gi=["#f6b73c","#ff0000","#00ffff","#90ee90","#900090"],Vi={graphType:{type:"nim",size:8,moves:[1,2]},adversary:"random",ballsPerColor:6,reward:3,penalty:-1,machineStarts:!0},Hi=Tt({config:Vi,victories:0,losses:0,machine:[],isRunning:!1,colors:Gi,fastMode:!1}),Ui=()=>{const[e,t]=un(Hi),n=()=>e.machine,r=()=>{const d=e.config.graphType;return d.type==="nim"?d.size:d.width*d.height-1},i=M(()=>{const d=e.config.graphType;return d.type==="nim"?yn(d.moves):bn(d.width,d.height)}),o=M(()=>{const d=n().length,a=new Array(d);for(let g=0;g<d;g++)a[g]=n()[g].every(({dest:b})=>!a[b]);return a}),s=d=>{switch(e.config.adversary){case"random":return St(n(),d);case"expert":return pn(n(),o(),d);case"machine":return et(n(),d)}};Fi(()=>{let d=e.config.machineStarts,a=r();const g=[];for(;;){const y=d?et(n(),a):s(a);if(y===void 0)break;g.push({pos:a,edge:y.edge,isMachineTurn:d}),d=!d,a=y.dest}const b=d;t(Q(y=>{b?y.victories++:y.losses++;for(const{pos:v,edge:C,isMachineTurn:j}of g)y.machine[v][C].nbBalls=Math.max(0,y.machine[v][C].nbBalls+(!j&&y.config.adversary!=="machine"?0:b===j?y.config.reward:y.config.penalty));const E=y.machine.length;for(let v=0;v<E;v++)if(y.machine[v].every(({nbBalls:C})=>C===0)){const C=y.machine[v].length;for(let j=0;j<C;j++)y.machine[v][j].nbBalls=y.config.ballsPerColor}}))},()=>e.isRunning&&(e.fastMode?100:500),setInterval);const c=d=>{const a=d(e.config),g=Tt({...e,config:a});t(g)},u=(d,a)=>{t("colors",d,a)},A={changeConfig:c,startMachine:()=>{t("isRunning",!0)},stopMachine:()=>{t("isRunning",!1)},setFastMode:d=>{t("fastMode",d)}};return(()=>{var d=Di();return p(d,m(qe,{title:"Visualisation de la machine",get children(){var a=Bi();return p(a,m(Ri,{get displayer(){return i()},get colors(){return e.colors},get machine(){return e.machine}}),null),p(a,m(ar,{get victories(){return e.victories},get losses(){return e.losses}}),null),a}}),null),p(d,m(cr,{get legend(){return i().legend},get colors(){return e.colors},setColor:u}),null),p(d,m(ir,{get config(){return e.config},get isRunning(){return e.isRunning},actions:A}),null),d})()},Ki=document.getElementById("root");rn(()=>m(Ui,{}),Ki);

(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const Ct=(e,t)=>e===t,ee=Symbol("solid-proxy"),ve=Symbol("solid-track"),be={equals:Ct};let ot=at;const Q=1,$e=2,lt={owned:null,cleanups:null,context:null,owner:null};var C=null;let Oe=null,Tt=null,A=null,M=null,J=null,Ee=0;function ie(e,t){const n=A,i=C,r=e.length===0,o=t===void 0?i:t,s=r?lt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},l=r?e:()=>e(()=>F(()=>pe(s)));C=s,A=null;try{return te(l,!0)}finally{A=n,C=i}}function Y(e,t){t=t?Object.assign({},be,t):be;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=r=>(typeof r=="function"&&(r=r(n.value)),ut(n,r));return[st.bind(n),i]}function kt(e,t,n){const i=Le(e,t,!0,Q);ce(i)}function q(e,t,n){const i=Le(e,t,!1,Q);ce(i)}function Et(e,t,n){ot=Bt;const i=Le(e,t,!1,Q);i.user=!0,J?J.push(i):ce(i)}function I(e,t,n){n=n?Object.assign({},be,n):be;const i=Le(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,ce(i),st.bind(i)}function G(e){return te(e,!1)}function F(e){if(A===null)return e();const t=A;A=null;try{return e()}finally{A=t}}function Lt(e){Et(()=>F(e))}function Ke(e){return C===null||(C.cleanups===null?C.cleanups=[e]:C.cleanups.push(e)),e}function Re(){return A}function Pt(e){const t=A,n=C;return Promise.resolve().then(()=>{A=t,C=n;let i;return te(e,!1),A=C=null,i?i.done:void 0})}const[Ot,ki]=Y(!1);function jt(){return[Ot,Pt]}function st(){if(this.sources&&this.state)if(this.state===Q)ce(this);else{const e=M;M=null,te(()=>we(this),!1),M=e}if(A){const e=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(e)):(A.sources=[this],A.sourceSlots=[e]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function ut(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&te(()=>{for(let r=0;r<e.observers.length;r+=1){const o=e.observers[r],s=Oe&&Oe.running;s&&Oe.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?M.push(o):J.push(o),o.observers&&ct(o)),s||(o.state=Q)}if(M.length>1e6)throw M=[],new Error},!1)),t}function ce(e){if(!e.fn)return;pe(e);const t=Ee;Mt(e,e.value,t)}function Mt(e,t,n){let i;const r=C,o=A;A=C=e;try{i=e.fn(t)}catch(s){return e.pure&&(e.state=Q,e.owned&&e.owned.forEach(pe),e.owned=null),e.updatedAt=n+1,ft(s)}finally{A=o,C=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ut(e,i):e.value=i,e.updatedAt=n)}function Le(e,t,n,i=Q,r){const o={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:C,context:C?C.context:null,pure:n};return C===null||C!==lt&&(C.owned?C.owned.push(o):C.owned=[o]),o}function xe(e){if(e.state===0)return;if(e.state===$e)return we(e);if(e.suspense&&F(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ee);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Q)ce(e);else if(e.state===$e){const i=M;M=null,te(()=>we(e,t[0]),!1),M=i}}function te(e,t){if(M)return e();let n=!1;t||(M=[]),J?n=!0:J=[],Ee++;try{const i=e();return Nt(n),i}catch(i){n||(J=null),M=null,ft(i)}}function Nt(e){if(M&&(at(M),M=null),e)return;const t=J;J=null,t.length&&te(()=>ot(t),!1)}function at(e){for(let t=0;t<e.length;t++)xe(e[t])}function Bt(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:xe(i)}for(t=0;t<n;t++)xe(e[t])}function we(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const r=i.state;r===Q?i!==t&&(!i.updatedAt||i.updatedAt<Ee)&&xe(i):r===$e&&we(i,t)}}}function ct(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=$e,n.pure?M.push(n):J.push(n),n.observers&&ct(n))}}function pe(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const o=r.pop(),s=n.observerSlots.pop();i<r.length&&(o.sourceSlots[s]=i,r[i]=o,n.observerSlots[i]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)pe(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)pe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Dt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ft(e,t=C){throw Dt(e)}const Ie=Symbol("fallback");function _e(e){for(let t=0;t<e.length;t++)e[t]()}function Rt(e,t,n={}){let i=[],r=[],o=[],s=0,l=t.length>1?[]:null;return Ke(()=>_e(o)),()=>{let u=e()||[],f=u.length,g,d;return u[ve],F(()=>{let L,b,$,v,m,T,k,j,a;if(f===0)s!==0&&(_e(o),o=[],i=[],r=[],s=0,l&&(l=[])),n.fallback&&(i=[Ie],r[0]=ie(c=>(o[0]=c,n.fallback())),s=1);else if(s===0){for(r=new Array(f),d=0;d<f;d++)i[d]=u[d],r[d]=ie(_);s=f}else{for($=new Array(f),v=new Array(f),l&&(m=new Array(f)),T=0,k=Math.min(s,f);T<k&&i[T]===u[T];T++);for(k=s-1,j=f-1;k>=T&&j>=T&&i[k]===u[j];k--,j--)$[j]=r[k],v[j]=o[k],l&&(m[j]=l[k]);for(L=new Map,b=new Array(j+1),d=j;d>=T;d--)a=u[d],g=L.get(a),b[d]=g===void 0?-1:g,L.set(a,d);for(g=T;g<=k;g++)a=i[g],d=L.get(a),d!==void 0&&d!==-1?($[d]=r[g],v[d]=o[g],l&&(m[d]=l[g]),d=b[d],L.set(a,d)):o[g]();for(d=T;d<f;d++)d in $?(r[d]=$[d],o[d]=v[d],l&&(l[d]=m[d],l[d](d))):r[d]=ie(_);r=r.slice(0,s=f),i=u.slice(0)}return r});function _(L){if(o[d]=L,l){const[b,$]=Y(d);return l[d]=$,t(u[d],b)}return t(u[d])}}}function It(e,t,n={}){let i=[],r=[],o=[],s=[],l=0,u;return Ke(()=>_e(o)),()=>{const f=e()||[],g=f.length;return f[ve],F(()=>{if(g===0)return l!==0&&(_e(o),o=[],i=[],r=[],l=0,s=[]),n.fallback&&(i=[Ie],r[0]=ie(_=>(o[0]=_,n.fallback())),l=1),r;for(i[0]===Ie&&(o[0](),o=[],i=[],r=[],l=0),u=0;u<g;u++)u<i.length&&i[u]!==f[u]?s[u](()=>f[u]):u>=i.length&&(r[u]=ie(d));for(;u<i.length;u++)o[u]();return l=s.length=o.length=g,i=f.slice(0),r=r.slice(0,l)});function d(_){o[u]=_;const[L,b]=Y(f[u]);return s[u]=b,t(L,u)}}}function w(e,t){return F(()=>e(t||{}))}function qt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(Rt(()=>e.each,e.children,t||void 0))}function je(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(It(()=>e.each,e.children,t||void 0))}function Gt(e,t,n){let i=n.length,r=t.length,o=i,s=0,l=0,u=t[r-1].nextSibling,f=null;for(;s<r||l<o;){if(t[s]===n[l]){s++,l++;continue}for(;t[r-1]===n[o-1];)r--,o--;if(r===s){const g=o<i?l?n[l-1].nextSibling:n[o-l]:u;for(;l<o;)e.insertBefore(n[l++],g)}else if(o===l)for(;s<r;)(!f||!f.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[l]===t[r-1]){const g=t[--r].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--o],g),t[r]=n[o]}else{if(!f){f=new Map;let d=l;for(;d<o;)f.set(n[d],d++)}const g=f.get(t[s]);if(g!=null)if(l<g&&g<o){let d=s,_=1,L;for(;++d<r&&d<o&&!((L=f.get(t[d]))==null||L!==g+_);)_++;if(_>g-l){const b=t[s];for(;l<g;)e.insertBefore(n[l++],b)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}const Ye="_$DX_DELEGATE";function Ft(e,t,n,i={}){let r;return ie(o=>{r=o,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{r(),t.textContent=""}}function x(e,t,n){let i;const r=()=>{const s=document.createElement("template");return s.innerHTML=e,n?s.content.firstChild.firstChild:s.content.firstChild},o=t?()=>F(()=>document.importNode(i||(i=r()),!0)):()=>(i||(i=r())).cloneNode(!0);return o.cloneNode=o,o}function fe(e,t=window.document){const n=t[Ye]||(t[Ye]=new Set);for(let i=0,r=e.length;i<r;i++){const o=e[i];n.has(o)||(n.add(o),t.addEventListener(o,Kt))}}function O(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Ut(e,t){t==null?e.removeAttribute("class"):e.className=t}function ge(e,t,n,i){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function Ht(e,t,n={}){const i=Object.keys(t||{}),r=Object.keys(n);let o,s;for(o=0,s=r.length;o<s;o++){const l=r[o];!l||l==="undefined"||t[l]||(Qe(e,l,!1),delete n[l])}for(o=0,s=i.length;o<s;o++){const l=i[o],u=!!t[l];!l||l==="undefined"||n[l]===u||!u||(Qe(e,l,!0),n[l]=u)}return n}function ye(e,t,n){return F(()=>e(t,n))}function y(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return Se(e,t,i,n);q(r=>Se(e,t(),r,n),i)}function Qe(e,t,n){const i=t.trim().split(/\s+/);for(let r=0,o=i.length;r<o;r++)e.classList.toggle(i[r],n)}function Kt(e){let t=e.target;const n=`$$${e.type}`,i=e.target,r=e.currentTarget,o=u=>Object.defineProperty(e,"target",{configurable:!0,value:u}),s=()=>{const u=t[n];if(u&&!t.disabled){const f=t[`${n}Data`];if(f!==void 0?u.call(t,f,e):u.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},l=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const u=e.composedPath();o(u[0]);for(let f=0;f<u.length-2&&(t=u[f],!!s());f++){if(t._$host){t=t._$host,l();break}if(t.parentNode===r)break}}else l();o(i)}function Se(e,t,n,i,r){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=i!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(s){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=ne(e,n,i,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=ne(e,n,i);else{if(o==="function")return q(()=>{let l=t();for(;typeof l=="function";)l=l();n=Se(e,l,n,i)}),()=>n;if(Array.isArray(t)){const l=[],u=n&&Array.isArray(n);if(qe(l,t,n,r))return q(()=>n=Se(e,l,n,i,!0)),()=>n;if(l.length===0){if(n=ne(e,n,i),s)return n}else u?n.length===0?Ve(e,l,i):Gt(e,n,l):(n&&ne(e),Ve(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ne(e,n,i,t);ne(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function qe(e,t,n,i){let r=!1;for(let o=0,s=t.length;o<s;o++){let l=t[o],u=n&&n[e.length],f;if(!(l==null||l===!0||l===!1))if((f=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))r=qe(e,l,u)||r;else if(f==="function")if(i){for(;typeof l=="function";)l=l();r=qe(e,Array.isArray(l)?l:[l],Array.isArray(u)?u:[u])||r}else e.push(l),r=!0;else{const g=String(l);u&&u.nodeType===3&&u.data===g?e.push(u):e.push(document.createTextNode(g))}}return r}function Ve(e,t,n=null){for(let i=0,r=t.length;i<r;i++)e.insertBefore(t[i],n)}function ne(e,t,n,i){if(n===void 0)return e.textContent="";const r=i||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(r!==l){const u=l.parentNode===e;!o&&!s?u?e.replaceChild(r,l):e.insertBefore(r,n):u&&l.remove()}else o=!0}}else e.insertBefore(r,n);return[r]}const Ae=Symbol("store-raw"),re=Symbol("store-node"),H=Symbol("store-has"),dt=Symbol("store-self");function pt(e){let t=e[ee];if(!t&&(Object.defineProperty(e,ee,{value:t=new Proxy(e,Jt)}),!Array.isArray(e))){const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let r=0,o=n.length;r<o;r++){const s=n[r];i[s].get&&Object.defineProperty(e,s,{enumerable:i[s].enumerable,get:i[s].get.bind(t)})}}return t}function se(e){let t;return e!=null&&typeof e=="object"&&(e[ee]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ue(e,t=new Set){let n,i,r,o;if(n=e!=null&&e[Ae])return n;if(!se(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,l=e.length;s<l;s++)r=e[s],(i=ue(r,t))!==r&&(e[s]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let u=0,f=s.length;u<f;u++)o=s[u],!l[o].get&&(r=e[o],(i=ue(r,t))!==r&&(e[o]=i))}return e}function Ce(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function he(e,t,n){if(e[t])return e[t];const[i,r]=Y(n,{equals:!1,internal:!0});return i.$=r,e[t]=i}function Wt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ee||t===re||(delete n.value,delete n.writable,n.get=()=>e[ee][t]),n}function gt(e){Re()&&he(Ce(e,re),dt)()}function Xt(e){return gt(e),Reflect.ownKeys(e)}const Jt={get(e,t,n){if(t===Ae)return e;if(t===ee)return n;if(t===ve)return gt(e),n;const i=Ce(e,re),r=i[t];let o=r?r():e[t];if(t===re||t===H||t==="__proto__")return o;if(!r){const s=Object.getOwnPropertyDescriptor(e,t);Re()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=he(i,t,o)())}return se(o)?pt(o):o},has(e,t){return t===Ae||t===ee||t===ve||t===re||t===H||t==="__proto__"?!0:(Re()&&he(Ce(e,H),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Xt,getOwnPropertyDescriptor:Wt};function ae(e,t,n,i=!1){if(!i&&e[t]===n)return;const r=e[t],o=e.length;n===void 0?(delete e[t],e[H]&&e[H][t]&&r!==void 0&&e[H][t].$()):(e[t]=n,e[H]&&e[H][t]&&r===void 0&&e[H][t].$());let s=Ce(e,re),l;if((l=he(s,t,r))&&l.$(()=>n),Array.isArray(e)&&e.length!==o){for(let u=e.length;u<o;u++)(l=s[u])&&l.$();(l=he(s,"length",o))&&l.$(e.length)}(l=s[dt])&&l.$()}function ht(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i+=1){const r=n[i];ae(e,r,t[r])}}function Yt(e,t){if(typeof t=="function"&&(t=t(e)),t=ue(t),Array.isArray(t)){if(e===t)return;let n=0,i=t.length;for(;n<i;n++){const r=t[n];e[n]!==r&&ae(e,n,r)}ae(e,"length",i)}else ht(e,t)}function de(e,t,n=[]){let i,r=e;if(t.length>1){i=t.shift();const s=typeof i,l=Array.isArray(e);if(Array.isArray(i)){for(let u=0;u<i.length;u++)de(e,[i[u]].concat(t),n);return}else if(l&&s==="function"){for(let u=0;u<e.length;u++)i(e[u],u)&&de(e,[u].concat(t),n);return}else if(l&&s==="object"){const{from:u=0,to:f=e.length-1,by:g=1}=i;for(let d=u;d<=f;d+=g)de(e,[d].concat(t),n);return}else if(t.length>1){de(e[i],t,[i].concat(n));return}r=e[i],n=[i].concat(n)}let o=t[0];typeof o=="function"&&(o=o(r,n),o===r)||i===void 0&&o==null||(o=ue(o),i===void 0||se(r)&&se(o)&&!Array.isArray(o)?ht(r,o):ae(e,i,o))}function mt(...[e,t]){const n=ue(e||{}),i=Array.isArray(n),r=pt(n);function o(...s){G(()=>{i&&s.length===1?Yt(n,s[0]):de(n,s)})}return[r,o]}const Te=new WeakMap,yt={get(e,t){if(t===Ae)return e;const n=e[t];let i;return se(n)?Te.get(n)||(Te.set(n,i=new Proxy(n,yt)),i):n},set(e,t,n){return ae(e,t,ue(n)),!0},deleteProperty(e,t){return ae(e,t,void 0,!0),!0}};function Me(e){return t=>{if(se(t)){let n;(n=Te.get(t))||Te.set(t,n=new Proxy(t,yt)),e(n)}return t}}const ze=e=>e.length===0?null:e[e.length-1];function Qt(e,t){let n=0;const i=e.length;for(let r=0;r<i;r++)t(e[r])&&n++;return n}const Ge=e=>new Promise(t=>setTimeout(t,e));function Vt(){return{adversary:"level1",machineStarts:!1}}function Fe(){return[{type:"E",position:9,owner:0},{type:"L",position:10,owner:0},{type:"G",position:11,owner:0},{type:"C",position:7,owner:0},{type:"E",position:2,owner:1},{type:"L",position:1,owner:1},{type:"G",position:0,owner:1},{type:"C",position:4,owner:1}]}function zt(){return{pieces:Fe(),turn:0,outcome:null,played:[],config:Vt(),isThinking:!1,dialog:null,tutorialStep:null}}const vt={C:[[0,1]],H:[[0,1],[1,0],[0,-1],[-1,0],[1,1],[-1,1]],G:[[0,1],[1,0],[0,-1],[-1,0]],E:[[1,1],[-1,1],[1,-1],[-1,-1]],L:[[0,1],[1,0],[0,-1],[-1,0],[1,1],[-1,1],[1,-1],[-1,-1]]};function bt(e,t){const n=new Array(12);n.fill(0);for(const l of e)l.position!==null&&(n[l.position]=l.owner+1);if(t.position===null){const l=[];for(let u=0;u<12;u++)n[u]||l.push(u);return l}let i=[];const r=t.position%3,o=t.position/3|0,s=vt[t.type];for(const l of s){const[u,f]=t.owner?[l[0],l[1]]:[-l[0],-l[1]],g=r+u,d=o+f;if(g>=0&&g<3&&d>=0&&d<4){const _=3*d+g;n[_]!==t.owner+1&&i.push(_)}}return i}const Zt=(e,t)=>e.owner===t.owner&&e.position===t.position&&e.type===t.type,en=(e,t)=>{for(let n=0;n<8;n++)if(!Zt(e[n],t[n]))return!1;return!0},tn=(e,t)=>Qt(t,n=>en(e,n.pieces))>=2,nn=(e,t)=>{const n=e[t?5:1].position;return n===null?!1:(t&&n>8||!t&&n<3)&&e.every(i=>i.owner===t||!bt(e,i).includes(n))},V={type:"read"},U=e=>["R",e],B=e=>["G",e],z=e=>["B",e],Z=[{text:["Bienvenue dans le ",z("tutoriel"),"!"],action:V},{text:[z("Catch the lion")," est un jeu à deux joueurs sur un plateau 4x3. ","Le but est de capturer le ",U("lion")," adverse."],action:V},{text:["Chaque joueur possède 4 pièces: un ",B("lion"),", une ",B("girafe"),", un",B("éléphant")," et un ",B("poussin"),". L'",z("orientation")," d'une pièce indique à quel joueur elle appartient."],action:V},{text:["Chaque pièce peut se déplacer d'une case dans une des directions indiquées sur la pièce si la case d'arrivée est vide ou si il y a une pièce adverse dessus."],action:V},{text:["Une pièce peut ",z("capturer")," une pièce adverse en se déplaçant dessus. ","Essaie de capturer mon ",U("poussin")," avec ton ",B("poussin")," en utilisant un ",z("Glisser-déposer"),"."],action:{type:"playerAction",from:3,to:4}},{text:["Bravo, le poussin adverse fait maintenant partie de ta ",B("réserve"),". A partir du tour suivant tu pourras le placer sur n'importe quelle case vide."],action:V},{text:["C'est maintenant à moi de jouer"],action:{type:"machineAction",from:4,to:4}},{text:["J'ai capturé ton ",B("poussin")," avec mon ",U("éléphant"),". Essaie maintenant déplacer le ",B("poussin")," de ta réserve vers la case indiquée."],action:{type:"playerAction",from:7,to:7}},{text:["Bravo! C'est maintenant à moi de jouer."],action:{type:"machineAction",from:4,to:6}},{text:["Je déplace à nouveau mon ",U("éléphant"),". Ton ",B("lion")," est menacé. Capture mon ",U("éléphant")," avec ton ",B("lion"),"pour parer la menace"],action:{type:"playerAction",from:1,to:6}},{text:["Bravo! Tu as paré la menace! C'est maintenant à moi de jouer."],action:{type:"machineAction",from:6,to:3}},{text:["Je déplace ma ",U("girafe")," menaçant ton ",B("lion"),". Tu ne peux pas la capturer car ton lion se ferait capturer au coup suivant. Tu dois donc fuir. Déplace ton ",B("lion")," vers la case indiquée."],action:{type:"playerAction",from:1,to:10}},{text:["Bravo! C'est maintenant à moi de jouer."],action:{type:"machineAction",from:3,to:6}},{text:["J'ai utilisé le ",U("poussin")," de ma réserve. Ton ",B("éléphant")," est bloqué, il va se faire prendre par mon ",U("poussin"),". Tu ne peux rien faire contre ça. Déplace ta ",B("girafe")," à la case indiquée."],action:{type:"playerAction",from:2,to:8}},{text:["Bravo! C'est maintenant à moi de jouer."],action:{type:"machineAction",from:3,to:9}},{text:["Mon ",U("poussin")," est arrivé sur la dernière rangée, il  est promu en ",U("poule"),". Cette poule est très dangereuse vu ses mouvements autorisés. Dépèche-toi de la capturer."],action:{type:"playerAction",from:1,to:9}},{text:["Une fois une ",z("poule")," capturée, elle redevient un ",z("poussin"),". Tu ne peux pas directement promouvoir un poussin de la réserve en poule."],action:V},{text:["Tu peux également gagner la partie en emmenant ton ",B("lion")," sur la dernière rangée. Le lion ne doit pas pouvoir être immédiatement capturé par l'adversaire."],action:V},{text:["Bravo! Tu as complété le tutoriel! Tu peux commencer à jouer en cliquant sur ",z("Nouvelle partie"),"."],action:V}];function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ze=1/0,$t=9007199254740991,on=17976931348623157e292,et=NaN,ln="[object Function]",sn="[object GeneratorFunction]",un="[object Symbol]",an=/^\s+|\s+$/g,cn=/^[-+]0x[0-9a-f]+$/i,fn=/^0b[01]+$/i,dn=/^0o[0-7]+$/i,pn=/^(?:0|[1-9]\d*)$/,gn=parseInt,hn=Object.prototype,xt=hn.toString,mn=Math.ceil,yn=Math.max;function vn(e,t,n,i){for(var r=-1,o=yn(mn((t-e)/(n||1)),0),s=Array(o);o--;)s[++r]=e,e+=n;return s}function bn(e){return function(t,n,i){return i&&typeof i!="number"&&xn(t,n,i)&&(n=i=void 0),t=Ne(t),n===void 0?(n=t,t=0):n=Ne(n),i=i===void 0?t<n?1:-1:Ne(i),vn(t,n,i)}}function $n(e,t){return t=t??$t,!!t&&(typeof e=="number"||pn.test(e))&&e>-1&&e%1==0&&e<t}function xn(e,t,n){if(!ke(n))return!1;var i=typeof t;return(i=="number"?_n(n)&&$n(t,n.length):i=="string"&&t in n)?wn(n[t],e):!1}function wn(e,t){return e===t||e!==e&&t!==t}function _n(e){return e!=null&&An(e.length)&&!Sn(e)}function Sn(e){var t=ke(e)?xt.call(e):"";return t==ln||t==sn}function An(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$t}function ke(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Cn(e){return!!e&&typeof e=="object"}function Tn(e){return typeof e=="symbol"||Cn(e)&&xt.call(e)==un}function Ne(e){if(!e)return e===0?e:0;if(e=kn(e),e===Ze||e===-Ze){var t=e<0?-1:1;return t*on}return e===e?e:0}function kn(e){if(typeof e=="number")return e;if(Tn(e))return et;if(ke(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ke(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(an,"");var n=fn.test(e);return n||dn.test(e)?gn(e.slice(2),n?2:8):cn.test(e)?et:+e}var En=bn(),Ln=En;const Pn=rn(Ln);var On=x('<svg><line stroke=red stroke-width=50 class="pointer-events-none animate-lion-arrow"marker-end=url(#arrowhead)></svg>',!1,!0),jn=x('<div class="w-[42rem] z-20"><svg viewBox="0 0 1600 1680"class="select-none touch-none"><defs><marker id=arrowhead markerWidth=6 markerHeight=4 refX=3 refY=2 orient=auto><polygon points="0 0, 4 2, 0 4"fill=red></polygon></marker></defs><symbol id=twice viewBox="0 0 40 40"><rect x=0 y=0 width=40 height=40 fill=red></rect><text x=20 y=30 fill=white font-size=30px font-weight=bold text-anchor=middle>2</text></symbol><image x=200 y=-500 width=1200 height=2580 href=./board4.webp preserveAspectRatio=xMidYMid>'),Mn=x('<svg><symbol viewBox="0 0 50 50"><rect x=0.5 y=0.5 width=49 height=49 rx=5 ry=5 stroke=black stroke-width=1></rect><image x=6 y=6 width=38 height=38></svg>',!1,!0),Nn=x("<svg><circle r=2 stroke=black fill=red></svg>",!1,!0),Bn=x('<svg><line x1=320 x2=1310 stroke=red stroke-width=5 stroke-dasharray="41.25 41.25"stroke-dashoffset=20.625></svg>',!1,!0),Dn=x('<svg><line y1=200 y2=1500 stroke=red stroke-width=5 stroke-dasharray="40.625 40.625"stroke-dashoffset=20.3125></svg>',!1,!0),Rn=x("<svg><rect width=310 height=305 stroke-width=20></svg>",!1,!0),In=x('<svg><use x=-130 y=-130 width=260 height=260 filter="drop-shadow(16px 16px 16px gray)"></svg>',!1,!0),tt=x("<svg><use href=#twice width=50 height=50></svg>",!1,!0),qn=x("<svg><use x=-130 y=-130 width=260 height=260 pointer-events=none></svg>",!1,!0);const oe=320,le=200,W=330,X=325,Gn={L:"#fbc0bf",G:"#d6b3d5",E:"#d6b3d5",C:"#f0f4a3",H:"#eef1a5"},Ue={C:0,E:1,G:2,L:3,H:4},Fn=e=>{const t=e.position;let n,i,r;t===null?(n=e.owner?1500:100,i=e.owner?200+200*Ue[e.type]:1570-200*Ue[e.type],r=.7):(n=oe+W/2+W*(t%3),i=le+X/2+X*(t/3|0),r=1);const o=e.owner?"180deg":"0";return`translate(${n}px, ${i}px) rotate(${o}) scale(${r})`},Un=(e,t)=>{const n=100*e.x,i=100*e.y,r=t.owner?"180deg":"0";return`translate(${n}%, ${i}%) rotate(${r})`},Hn=e=>{const t=I(()=>{const n=e.pieces[e.from],i=oe+W/2+W*(e.to%3),r=le+X/2+X*(e.to/3|0);return n.position===null?{x1:"100",y1:1570-200*Ue[n.type],x2:i,y2:r}:{x1:oe+W/2+W*(n.position%3),y1:le+X/2+X*(n.position/3|0),x2:i,y2:r}});return(()=>{var n=On();return q(i=>{var r=t().x1,o=t().x2,s=t().y1,l=t().y2;return r!==i.e&&O(n,"x1",i.e=r),o!==i.t&&O(n,"x2",i.t=o),s!==i.a&&O(n,"y1",i.a=s),l!==i.o&&O(n,"y2",i.o=l),i},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()},nt=e=>{let t;const[n,i]=Y(null),[r,o]=Y(null),[s,l]=Y(null),u=I(()=>n()!==null?bt(e.pieces,e.pieces[n()]):[]),f=v=>e.lastMove&&e.lastMove.includes(v);function g(v){const{left:m,top:T,width:k,height:j}=t.getBoundingClientRect();return{x:(v.clientX-m)/k,y:(v.clientY-T)/j}}const d=(v,m)=>e.pieces[v].owner===m&&e.pieces[v+4].owner===m&&e.pieces[v].position===null&&e.pieces[v+4].position===null&&n()!==v&&n()!==v+4,_=(v,m)=>{if(!(!e.canPlay||e.pieces[v].owner!==e.turn))return m.currentTarget.setPointerCapture(m.pointerId),m.currentTarget.releasePointerCapture(m.pointerId),G(()=>(i(v),o(v),l(g(m))))},L=v=>l(g(v)),b=(v,m)=>(m.stopPropagation(),G(()=>{l(null);const T=n();if(T!==null)return i(null),e.play(T,v)}),setTimeout(()=>o(null),500)),$=()=>G(()=>(l(null),i(null)));return(()=>{var v=jn(),m=v.firstChild,T=m.firstChild,k=T.nextSibling,j=k.nextSibling;m.$$pointerup=$,m.addEventListener("pointerleave",$),m.addEventListener("pointercancel",$),m.$$pointermove=L;var a=t;return typeof a=="function"?ye(a,m):t=m,y(m,()=>["L","G","E","C","H"].map(c=>(()=>{var p=Mn(),h=p.firstChild,S=h.nextSibling;return O(p,"id",`piece-${c}`),O(S,"href",`./piece-${c}.webp`),y(p,()=>vt[c].map(([E,D])=>(()=>{var P=Nn();return O(P,"cx",25+20*E),O(P,"cy",25-20*D),P})()),null),q(()=>O(h,"fill",Gn[c])),p})()),j),y(m,()=>[0,1,2,3,4].map(c=>(()=>{var p=Bn();return O(p,"y1",le+c*X),O(p,"y2",le+c*X),p})()),null),y(m,()=>[0,1,2,3].map(c=>(()=>{var p=Dn();return O(p,"x1",oe+c*W),O(p,"x2",oe+c*W),p})()),null),y(m,w(je,{get each(){return Pn(0,12)},children:c=>(()=>{var p=Rn();return p.$$pointerup=b,p.$$pointerupData=c(),q(h=>{var S=oe+10+W*(c()%3),E=le+10+X*(c()/3|0),D=u().includes(c())?"lightgreen":"transparent",P=!u().includes(c()),N=f(c())?"rgba(0, 255, 0, 0.3)":"transparent";return S!==h.e&&O(p,"x",h.e=S),E!==h.t&&O(p,"y",h.t=E),D!==h.a&&O(p,"stroke",h.a=D),P!==h.o&&p.classList.toggle("pointer-events-none",h.o=P),N!==h.i&&O(p,"fill",h.i=N),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),p})()}),null),y(m,w(je,{get each(){return e.pieces},children:(c,p)=>(()=>{var h=In();return h.$$pointerdown=_,h.$$pointerdownData=p,q(S=>{var E=Fn(c()),D=`#piece-${c().type}`,P={"pointer-events-none":n()!==null,"transition-transform duration-1000":r()!==p,"opacity-0":p===n()&&s()!==null};return E!==S.e&&((S.e=E)!=null?h.style.setProperty("transform",E):h.style.removeProperty("transform")),D!==S.t&&O(h,"href",S.t=D),S.a=Ht(h,P,S.a),S},{e:void 0,t:void 0,a:void 0}),h})()}),null),y(m,w(je,{each:[3,0,2],children:(c,p)=>[(()=>{var h=tt();return`translate(140px, ${1610-200*p}px)`!=null?h.style.setProperty("transform",`translate(140px, ${1610-200*p}px)`):h.style.removeProperty("transform"),q(()=>h.classList.toggle("opacity-0",!d(c(),0))),h})(),(()=>{var h=tt();return`translate(1540px, ${240+200*p}px)`!=null?h.style.setProperty("transform",`translate(1540px, ${240+200*p}px)`):h.style.removeProperty("transform"),q(()=>h.classList.toggle("opacity-0",!d(c(),1))),h})()]}),null),y(m,(()=>{var c=I(()=>!!(s()&&n()!==null));return()=>c()&&(()=>{var p=qn();return q(h=>{var S=Un(s(),e.pieces[n()]),E=`#piece-${e.pieces[n()].type}`;return S!==h.e&&((h.e=S)!=null?p.style.setProperty("transform",S):p.style.removeProperty("transform")),E!==h.t&&O(p,"href",h.t=E),h},{e:void 0,t:void 0}),p})()})(),null),y(m,(()=>{var c=I(()=>!!(e.requiredMove&&n()===null));return()=>c()&&w(Hn,{get from(){return e.requiredMove[0]},get to(){return e.requiredMove[1]},get pieces(){return e.pieces}})})(),null),v})()};fe(["pointermove","pointerup","pointerdown"]);var Kn=()=>{},it=(e,t)=>t();function Wn(e,t){const n=F(e),i=n?[n]:[],{onEnter:r=it,onExit:o=it}=t,[s,l]=Y(t.appear?[]:i),[u]=jt();let f,g=!1;function d(b,$){if(!b)return $&&$();g=!0,o(b,()=>{G(()=>{g=!1,l(v=>v.filter(m=>m!==b)),$&&$()})})}function _(b){const $=f;if(!$)return b&&b();f=void 0,l(v=>[$,...v]),r($,b??Kn)}const L=t.mode==="out-in"?b=>g||d(b,_):t.mode==="in-out"?b=>_(()=>d(b)):b=>{d(b),_()};return kt(b=>{const $=e();return F(u)?(u(),b):($!==b&&(f=$,G(()=>F(()=>L(b)))),$)},t.appear?void 0:n),s}var rt=e=>e instanceof Element;function He(e,t){if(t(e))return e;if(typeof e=="function"&&!e.length)return He(e(),t);if(Array.isArray(e))for(const n of e){const i=He(n,t);if(i)return i}return null}function Xn(e,t=rt,n=rt){const i=I(e);return I(()=>He(i(),t))}function Jn(e){return I(()=>{const t=e.name||"s";return{enterActive:(e.enterActiveClass||t+"-enter-active").split(" "),enter:(e.enterClass||t+"-enter").split(" "),enterTo:(e.enterToClass||t+"-enter-to").split(" "),exitActive:(e.exitActiveClass||t+"-exit-active").split(" "),exit:(e.exitClass||t+"-exit").split(" "),exitTo:(e.exitToClass||t+"-exit-to").split(" "),move:(e.moveClass||t+"-move").split(" ")}})}function wt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}function Yn(e,t,n,i){const{onBeforeEnter:r,onEnter:o,onAfterEnter:s}=t;r?.(n),n.classList.add(...e.enter),n.classList.add(...e.enterActive),queueMicrotask(()=>{if(!n.parentNode)return i?.();o?.(n,()=>l())}),wt(()=>{n.classList.remove(...e.enter),n.classList.add(...e.enterTo),(!o||o.length<2)&&(n.addEventListener("transitionend",l),n.addEventListener("animationend",l))});function l(u){(!u||u.target===n)&&(i?.(),n.removeEventListener("transitionend",l),n.removeEventListener("animationend",l),n.classList.remove(...e.enterActive),n.classList.remove(...e.enterTo),s?.(n))}}function Qn(e,t,n,i){const{onBeforeExit:r,onExit:o,onAfterExit:s}=t;if(!n.parentNode)return i?.();r?.(n),n.classList.add(...e.exit),n.classList.add(...e.exitActive),o?.(n,()=>l()),wt(()=>{n.classList.remove(...e.exit),n.classList.add(...e.exitTo),(!o||o.length<2)&&(n.addEventListener("transitionend",l),n.addEventListener("animationend",l))});function l(u){(!u||u.target===n)&&(i?.(),n.removeEventListener("transitionend",l),n.removeEventListener("animationend",l),n.classList.remove(...e.exitActive),n.classList.remove(...e.exitTo),s?.(n))}}var Vn={inout:"in-out",outin:"out-in"},zn=e=>{const t=Jn(e);return Wn(Xn(()=>e.children),{mode:Vn[e.mode],appear:e.appear,onEnter(n,i){Yn(t(),e,n,i)},onExit(n,i){Qn(t(),e,n,i)}})},Zn=x('<span class="text-green-500 font-bold">'),ei=x('<span class="text-red-500 font-bold">'),ti=x('<span class="text-blue-500 font-bold">');const _t=e=>(()=>{var t=Zn();return y(t,()=>e.children),t})(),ni=e=>(()=>{var t=ei();return y(t,()=>e.children),t})(),ii=e=>(()=>{var t=ti();return y(t,()=>e.children),t})();var R=_t,ri=x("<div>"),oi=x('<div class="tooltip -right-5">'),li=x('<div class="absolute -right-2 flex gap-32"><button class=tutorial-button>Précédent</button><button class=tutorial-button>Suivant');function Be(e,t){return e.length===t}const K=e=>["B",e],De=[[["Bienvenue sur l'appli ",K("Catch the lion"),"."],3e3],[[K("Catch the lion")," connu en japonais sous le nom ",K("Dobutsu Shogi")," est une variante pour enfants du Shogi."],5e3],[["Le jeu a été entièrement résolu par ordinateur. Il existe ",K("1 567 925 964")," configurations possibles."],5e3],[["Si les deux joueurs jouent de manière optimale, la victoire est assurée pour le ",K("second")," joueur."],5e3],[["Pour apprendre les règles, tu peux clicker sur ",K("Tutoriel"),"."],3e3]],si=e=>{const[t,n]=Y(null);let i=!1;Lt(async()=>{let s=0;const l=[];for(;;){const u=De[s][1];if(n(De[s][0]),await Ge(u),n(null),s=(s+1)%De.length,i)break;l.push(await Ge(1500))}return l}),Ke(()=>i=!0);const r=I(()=>e.tutorialStep!==null?Z[e.tutorialStep].text:e.outcome!==null?e.outcome===2?["Oh, cette configuration de pièces a été répétée 3 fois. C'est un ",K("match nul"),"."]:e.adversary==="human"?[`Bravo! Le joueur ${e.outcome+1} a gagné!`]:e.outcome===0?["Zut! J'ai perdu! Tu peux changer de difficulté en cliquant sur ",K("Nouvelle partie"),"."]:["Oh oui! J'ai gagné! Tu peux changer de difficulté en cliquant sur ",K("Nouvelle partie"),"."]:t()),o=I(()=>e.isThinking?"bg-thinking":e.outcome===2?"bg-surprised":e.outcome!==null&&e.outcome===0&&e.adversary!=="human"?"bg-crying":e.outcome!==null&&(e.outcome===1||e.adversary==="human")?"bg-happy":"bg-speaking");return(()=>{var s=ri();return y(s,w(zn,{onEnter:(l,u)=>l.animate([{opacity:0},{opacity:1}],{duration:500}).finished.then(u),onExit:(l,u)=>l.animate([{opacity:1},{opacity:0}],{duration:500}).finished.then(u),get children(){return I(()=>!!r())()&&(()=>{var l=oi();return y(l,w(qt,{get each(){return r()},children:u=>{if(Array.isArray(u)&&Be(u,2)&&u[0]==="R"){const[,f]=u;return w(ni,{children:f})}else if(Array.isArray(u)&&Be(u,2)&&u[0]==="G"){const[,f]=u;return w(_t,{children:f})}else if(Array.isArray(u)&&Be(u,2)&&u[0]==="B"){const[,f]=u;return w(ii,{children:f})}else return""+u}})),l})()}}),null),y(s,(()=>{var l=I(()=>e.tutorialStep!==null);return()=>l()&&(()=>{var u=li(),f=u.firstChild,g=f.nextSibling;return ge(f,"click",e.tutorialPred),ge(g,"click",e.tutorialNext),u})()})(),null),q(()=>Ut(s,`z-20 relative w-[15rem] h-[25rem] bg-contain bg-no-repeat ${o()}`)),s})()};fe(["click"]);var ui=x("<div class=dialog-title>Nouvelle partie"),ai=x('<div class="dialog-body grid grid-cols-20/80 gap-8"><div class="text-bold text-lg">Adversaire</div><div class="flex gap-4 text-lg"></div><div class="text-bold text-lg">Qui commence</div><div class="flex gap-4 text-lg">'),ci=x("<div class=dialog-buttons><button class=btn>Annuler</button><button class=btn>OK"),fi=x("<button class=togglebtn> "),di=x("<button class=togglebtn>");const pi=[["human","Humain"],["level1","Débutant"],["level2","Moyen"],["level3","Difficile"]],gi=e=>{const[t,n]=mt({...e.config});return[ui(),(()=>{var i=ai(),r=i.firstChild,o=r.nextSibling,s=o.nextSibling,l=s.nextSibling;return y(o,()=>pi.map(([u,f])=>(()=>{var g=fi();return g.firstChild,g.$$click=()=>n("adversary",u),y(g,f,null),q(()=>g.classList.toggle("toggledbtn",u===t.adversary)),g})())),y(l,()=>[!1,!0].map(u=>(()=>{var f=di();return f.$$click=()=>n("machineStarts",u),y(f,u?"Machine":"Humain"),q(()=>f.classList.toggle("toggledbtn",u===t.machineStarts)),f})())),i})(),(()=>{var i=ci(),r=i.firstChild,o=r.nextSibling;return ge(r,"click",e.closeDialog),o.$$click=e.newGame,o.$$clickData=t,i})()]};fe(["click"]);var hi=x("<div class=dialog-title>Règles de Catch the lion"),mi=x("<div class=dialog-body><ul><li class=list-disc> est un jeu à deux joueurs sur un plateau 4x3. Le but est de capturer le <!> adverse.</li><li class=list-disc>Chaque joueur possède 4 pièces: un <!>, une <!>, un <!> et un <!>.</li><li class=list-disc>L&apos;<!> d&apos;une pièce indique à quel joueur elle appartient.</li><li class=list-disc>Chaque pièce peut se déplacer d&apos;une case dans une des directions indiquées sur la pièce<br>si la case d&apos;arrivée est vide ou si il y a une pièce adverse dessus.</li><li class=list-disc>Une pièce peut <!> une pièce adverse en se déplaçant dessus.<br>La pièce capturée va dans sa <!> et il peut la place sur n&apos;importe quelle case vide à partir du tour suivant.</li><li class=list-disc>Si un <!> atteind la dernière rangée, il est promu en <!>.<br>Si la poule se fait capturer, elle redevient un poussin.</li><li class=list-disc>Un <!> placé depuis la réserve sur la dernière rangée ne devient pas une poule.</li><li class=list-disc>Tu peux également gagner la partie en emmenant ton <!> sur la dernière rangée.<br>Le lion ne doit pas pouvoir être immédiatement capturé par l&apos;adversaire. "),yi=x("<div class=dialog-buttons><button class=btn>OK");const vi=e=>[hi(),(()=>{var t=mi(),n=t.firstChild,i=n.firstChild,r=i.firstChild,o=r.nextSibling;o.nextSibling;var s=i.nextSibling,l=s.firstChild,u=l.nextSibling,f=u.nextSibling,g=f.nextSibling,d=g.nextSibling,_=d.nextSibling,L=_.nextSibling,b=L.nextSibling;b.nextSibling;var $=s.nextSibling,v=$.firstChild,m=v.nextSibling;m.nextSibling;var T=$.nextSibling,k=T.nextSibling,j=k.firstChild,a=j.nextSibling,c=a.nextSibling,p=c.nextSibling,h=p.nextSibling,S=h.nextSibling;S.nextSibling;var E=k.nextSibling,D=E.firstChild,P=D.nextSibling,N=P.nextSibling,me=N.nextSibling;me.nextSibling;var Pe=E.nextSibling,St=Pe.firstChild,We=St.nextSibling;We.nextSibling;var Xe=Pe.nextSibling,At=Xe.firstChild,Je=At.nextSibling;return Je.nextSibling,y(i,w(R,{children:"Catch the lion"}),r),y(i,w(R,{children:"lion"}),o),y(s,w(R,{children:"lion"}),u),y(s,w(R,{children:"girafe"}),g),y(s,w(R,{children:"éléphant"}),_),y(s,w(R,{children:"poussin"}),b),y($,w(R,{children:"orientation"}),m),y(k,w(R,{children:"capturer"}),a),y(k,w(R,{children:"réserve"}),S),y(E,w(R,{children:"poussin"}),P),y(E,w(R,{children:"poule"}),me),y(Pe,w(R,{children:"poussin"}),We),y(Xe,w(R,{children:"lion"}),Je),t})(),(()=>{var t=yi(),n=t.firstChild;return ge(n,"click",e.closeDialog),t})()];fe(["click"]);var bi=x("<div class=dialog-title>Règles de Catch the lion"),$i=x("<div class=dialog-body><ul><li class=list-disc> est un jeu de plateau créé par Madoka Kitao et Maiko Fujita.</li><li class=list-disc>L'éditeur du jeu est Nekomado.</li><li class=list-disc>L'application a été écrite par Guillaume Bagan.</li><li class=list-disc>Le code source est sous licence MIT.</li><li class=list-disc>Les différentes images ont été générées par Dall-E.</li><li class=list-disc>Les différents sont proviennent de la plate-forme Lichess.</li><li class=list-disc>Les librairies Solid et Tailwind ont été utilisées."),xi=x("<div class=dialog-buttons><button class=btn>OK");const wi=e=>[bi(),(()=>{var t=$i(),n=t.firstChild,i=n.firstChild,r=i.firstChild;return y(i,w(R,{children:"Catch the lion"}),r),t})(),(()=>{var t=xi(),n=t.firstChild;return ge(n,"click",e.closeDialog),t})()];fe(["click"]);var _i=x("<audio src=./move.webm preload=auto>"),Si=x("<audio src=./capture.webm preload=auto>"),Ai=x('<div class="relative w-screen min-h-screen bg-main bg-cover bg-no-repeat flex flew-row items-center justify-around portrait:flex-col"><div class="absolute bg-white w-full h-full opacity-30 z-10 pointer-events-none"></div><div class="flex flex-col bg-board b-cover p-6 border-2 border-black rounded-xl gap-4 z-20"><div class=text-4xl>Catch the lion</div><button class=btn>Nouvelle partie</button><button class=btn>Annuler</button><button class=btn>Tutoriel</button><button class=btn>Règles</button><button class=btn>Crédits'),Ci=x("<dialog class=dialog>");const Ti=()=>{let e,t,n;const[i,r]=mt(zt()),o=()=>{if(i.tutorialStep===null)return null;const a=Z[i.tutorialStep].action;return a.type==="playerAction"?[a.from,a.to]:null},s=new Worker(new URL(""+new URL("worker.civet-B2PGxc7y.js",import.meta.url).href,import.meta.url),{type:"module"});function l(a){return new Promise(c=>(s.onmessage=function(p){return c(p.data)},s.postMessage(a)))}const u=(a,c)=>{const{owner:p,type:h,position:S}=i.pieces[a],E=i.pieces[a].position;return G(()=>{const D=i.pieces.map(N=>({...N}));r("played",i.played.length,{pieces:D,move:[E,c]});let P=i.pieces.findIndex(N=>N.position===c);return P>=0?(n.play(),r("pieces",P,{position:null,owner:p}),r("pieces",P,"type",N=>N==="H"?"C":N),i.pieces[P].type==="L"&&r("outcome",p)):t.play(),r("pieces",a,"position",c),h==="C"&&S!==null&&(p&&c>8||!p&&c<3)&&r("pieces",a,"type","H"),nn(i.pieces,i.turn)&&r("outcome",i.turn),tn(i.pieces,i.played)&&r("outcome",2),r("turn",N=>N===0?1:0)})},f=async()=>{const a={pieces:i.pieces.map(h=>({...h})),turn:i.turn,adversary:i.config.adversary},[[c,p]]=await Promise.all([l(a),Ge(1500)]);return G(()=>(r("isThinking",!1),u(c,p)))},g=async(a,c)=>i.config.adversary==="human"?u(a,c):(G(()=>{if(u(a,c),i.outcome===null)return r("isThinking",!0)}),i.outcome!==null?void 0:await f()),d=()=>{if(!i.isThinking)return r(Me(a=>{if(a.played.length>1){const p=a.played.pop().pieces;a.pieces=p,a.turn=a.turn===0?1:0,a.outcome=null}const c=a.played.length%2===0;if(a.config.adversary!=="human"&&c===a.config.machineStarts){const p=a.played.pop().pieces;return a.pieces=p,a.turn=a.turn===0?1:0}}))},_=()=>(r("dialog","newgame"),e.showModal()),L=()=>(r("dialog","rules"),e.showModal()),b=()=>(r("dialog","credits"),e.showModal()),$=()=>(e.close(),r("dialog",null)),v=a=>{if(r(Me(c=>(c.config={...a},c.pieces=Fe(),c.played=[],c.outcome=null,c.turn=c.config.machineStarts?1:0,c.isThinking=c.config.machineStarts,c.dialog=null,c.tutorialStep=null))),e.close(),i.config.machineStarts)return f()},m=()=>r(Me(a=>(a.pieces=Fe(),a.played=[],a.outcome=null,a.turn=0,a.isThinking=!1,a.dialog=null,a.tutorialStep=0))),T=()=>r("tutorialStep",a=>Math.max(0,a-1)),k=()=>{if(i.tutorialStep===null)return;const a=Z[i.tutorialStep].action;if(a.type!=="playerAction")return G(()=>(a.type==="machineAction"&&u(a.from,a.to),r("tutorialStep",c=>Math.min(Z.length-1,c+1))))},j=(a,c)=>{if(i.tutorialStep===null)return;const p=Z[i.tutorialStep].action;if(!(p.type!=="playerAction"||a!==p.from||c!==p.to))return G(()=>(u(a,c),r("tutorialStep",h=>Math.min(Z.length-1,h+1))))};return[(()=>{var a=_i(),c=t;return typeof c=="function"?ye(c,a):t=a,a})(),(()=>{var a=Si(),c=n;return typeof c=="function"?ye(c,a):n=a,a})(),(()=>{var a=Ai(),c=a.firstChild,p=c.nextSibling,h=p.firstChild,S=h.nextSibling,E=S.nextSibling,D=E.nextSibling,P=D.nextSibling,N=P.nextSibling;return S.$$click=_,E.$$click=d,D.$$click=m,P.$$click=L,N.$$click=b,y(a,(()=>{var me=I(()=>i.tutorialStep===null);return()=>me()?w(nt,{get pieces(){return i.pieces},get turn(){return i.turn},get lastMove(){return ze(i.played)?.move??null},get canPlay(){return!i.isThinking&&i.outcome===null},requiredMove:null,play:g}):w(nt,{get pieces(){return i.pieces},get turn(){return i.turn},get lastMove(){return ze(i.played)?.move??null},get canPlay(){return Z[i.tutorialStep].action.type==="playerAction"},get requiredMove(){return o()},play:j})})(),null),y(a,w(si,{get outcome(){return i.outcome},get isThinking(){return i.isThinking},get adversary(){return i.config.adversary},get tutorialStep(){return i.tutorialStep},tutorialNext:k,tutorialPred:T}),null),a})(),(()=>{var a=Ci(),c=e;return typeof c=="function"?ye(c,a):e=a,y(a,()=>{switch(i.dialog){case"newgame":return w(gi,{get config(){return i.config},closeDialog:$,newGame:v});case"rules":return w(vi,{closeDialog:$});case"credits":return w(wi,{closeDialog:$});default:return null}}),a})()]};fe(["click"]);Ft(()=>w(Ti,{}),document.getElementById("root"));

(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const f of a)if(f.type==="childList")for(const c of f.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function i(a){const f={};return a.integrity&&(f.integrity=a.integrity),a.referrerPolicy&&(f.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?f.credentials="include":a.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(a){if(a.ep)return;a.ep=!0;const f=i(a);fetch(a.href,f)}})();const fi=(t,r)=>t===r,Ke=Symbol("solid-proxy"),Tr=Symbol("solid-track"),$t={equals:fi};let li=Qr;const Ce=1,Ct=2,Xr={owned:null,cleanups:null,context:null,owner:null};var F=null;let mr=null,ui=null,R=null,J=null,He=null,Gt=0;function xr(t,r){const i=R,s=F,a=t.length===0,f=r===void 0?s:r,c=a?Xr:{owned:null,cleanups:null,context:f?f.context:null,owner:f},u=a?t:()=>t(()=>xe(()=>Tt(c)));F=c,R=null;try{return je(u,!0)}finally{R=i,F=s}}function We(t,r){r=r?Object.assign({},$t,r):$t;const i={value:t,observers:null,observerSlots:null,comparator:r.equals||void 0},s=a=>(typeof a=="function"&&(a=a(i.value)),Wr(i,a));return[Yr.bind(i),s]}function ci(t,r,i){const s=Or(t,r,!0,Ce);St(s)}function Ee(t,r,i){const s=Or(t,r,!1,Ce);St(s)}function le(t,r,i){i=i?Object.assign({},$t,i):$t;const s=Or(t,r,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=i.equals||void 0,St(s),Yr.bind(s)}function $e(t){return je(t,!1)}function xe(t){if(R===null)return t();const r=R;R=null;try{return t()}finally{R=r}}function di(t){return F===null||(F.cleanups===null?F.cleanups=[t]:F.cleanups.push(t)),t}function Sr(){return R}function gi(t){const r=R,i=F;return Promise.resolve().then(()=>{R=r,F=i;let s;return je(t,!1),R=F=null,s?s.done:void 0})}const[pi,Ko]=We(!1);function hi(){return[pi,gi]}function Yr(){if(this.sources&&this.state)if(this.state===Ce)St(this);else{const t=J;J=null,je(()=>Ot(this),!1),J=t}if(R){const t=this.observers?this.observers.length:0;R.sources?(R.sources.push(this),R.sourceSlots.push(t)):(R.sources=[this],R.sourceSlots=[t]),this.observers?(this.observers.push(R),this.observerSlots.push(R.sources.length-1)):(this.observers=[R],this.observerSlots=[R.sources.length-1])}return this.value}function Wr(t,r,i){let s=t.value;return(!t.comparator||!t.comparator(s,r))&&(t.value=r,t.observers&&t.observers.length&&je(()=>{for(let a=0;a<t.observers.length;a+=1){const f=t.observers[a],c=mr&&mr.running;c&&mr.disposed.has(f),(c?!f.tState:!f.state)&&(f.pure?J.push(f):He.push(f),f.observers&&Zr(f)),c||(f.state=Ce)}if(J.length>1e6)throw J=[],new Error},!1)),r}function St(t){if(!t.fn)return;Tt(t);const r=Gt;yi(t,t.value,r)}function yi(t,r,i){let s;const a=F,f=R;R=F=t;try{s=t.fn(r)}catch(c){return t.pure&&(t.state=Ce,t.owned&&t.owned.forEach(Tt),t.owned=null),t.updatedAt=i+1,zr(c)}finally{R=f,F=a}(!t.updatedAt||t.updatedAt<=i)&&(t.updatedAt!=null&&"observers"in t?Wr(t,s):t.value=s,t.updatedAt=i)}function Or(t,r,i,s=Ce,a){const f={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:r,owner:F,context:F?F.context:null,pure:i};return F===null||F!==Xr&&(F.owned?F.owned.push(f):F.owned=[f]),f}function Jr(t){if(t.state===0)return;if(t.state===Ct)return Ot(t);if(t.suspense&&xe(t.suspense.inFallback))return t.suspense.effects.push(t);const r=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Gt);)t.state&&r.push(t);for(let i=r.length-1;i>=0;i--)if(t=r[i],t.state===Ce)St(t);else if(t.state===Ct){const s=J;J=null,je(()=>Ot(t,r[0]),!1),J=s}}function je(t,r){if(J)return t();let i=!1;r||(J=[]),He?i=!0:He=[],Gt++;try{const s=t();return _i(i),s}catch(s){i||(He=null),J=null,zr(s)}}function _i(t){if(J&&(Qr(J),J=null),t)return;const r=He;He=null,r.length&&je(()=>li(r),!1)}function Qr(t){for(let r=0;r<t.length;r++)Jr(t[r])}function Ot(t,r){t.state=0;for(let i=0;i<t.sources.length;i+=1){const s=t.sources[i];if(s.sources){const a=s.state;a===Ce?s!==r&&(!s.updatedAt||s.updatedAt<Gt)&&Jr(s):a===Ct&&Ot(s,r)}}}function Zr(t){for(let r=0;r<t.observers.length;r+=1){const i=t.observers[r];i.state||(i.state=Ct,i.pure?J.push(i):He.push(i),i.observers&&Zr(i))}}function Tt(t){let r;if(t.sources)for(;t.sources.length;){const i=t.sources.pop(),s=t.sourceSlots.pop(),a=i.observers;if(a&&a.length){const f=a.pop(),c=i.observerSlots.pop();s<a.length&&(f.sourceSlots[c]=s,a[s]=f,i.observerSlots[s]=c)}}if(t.tOwned){for(r=t.tOwned.length-1;r>=0;r--)Tt(t.tOwned[r]);delete t.tOwned}if(t.owned){for(r=t.owned.length-1;r>=0;r--)Tt(t.owned[r]);t.owned=null}if(t.cleanups){for(r=t.cleanups.length-1;r>=0;r--)t.cleanups[r]();t.cleanups=null}t.state=0}function vi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function zr(t,r=F){throw vi(t)}const Ir=Symbol("fallback");function Dr(t){for(let r=0;r<t.length;r++)t[r]()}function wi(t,r,i={}){let s=[],a=[],f=[],c=[],u=0,g;return di(()=>Dr(f)),()=>{const h=t()||[],_=h.length;return h[Tr],xe(()=>{if(_===0)return u!==0&&(Dr(f),f=[],s=[],a=[],u=0,c=[]),i.fallback&&(s=[Ir],a[0]=xr($=>(f[0]=$,i.fallback())),u=1),a;for(s[0]===Ir&&(f[0](),f=[],s=[],a=[],u=0),g=0;g<_;g++)g<s.length&&s[g]!==h[g]?c[g](()=>h[g]):g>=s.length&&(a[g]=xr(b));for(;g<s.length;g++)f[g]();return u=c.length=f.length=_,s=h.slice(0),a=a.slice(0,u)});function b($){f[g]=$;const[C,w]=We(h[g]);return c[g]=w,r(C,g)}}}function Ue(t,r){return xe(()=>t(r||{}))}function Mr(t){const r="fallback"in t&&{fallback:()=>t.fallback};return le(wi(()=>t.each,t.children,r||void 0))}function bi(t,r,i){let s=i.length,a=r.length,f=s,c=0,u=0,g=r[a-1].nextSibling,h=null;for(;c<a||u<f;){if(r[c]===i[u]){c++,u++;continue}for(;r[a-1]===i[f-1];)a--,f--;if(a===c){const _=f<s?u?i[u-1].nextSibling:i[f-u]:g;for(;u<f;)t.insertBefore(i[u++],_)}else if(f===u)for(;c<a;)(!h||!h.has(r[c]))&&r[c].remove(),c++;else if(r[c]===i[f-1]&&i[u]===r[a-1]){const _=r[--a].nextSibling;t.insertBefore(i[u++],r[c++].nextSibling),t.insertBefore(i[--f],_),r[a]=i[f]}else{if(!h){h=new Map;let b=u;for(;b<f;)h.set(i[b],b++)}const _=h.get(r[c]);if(_!=null)if(u<_&&_<f){let b=c,$=1,C;for(;++b<a&&b<f&&!((C=h.get(r[b]))==null||C!==_+$);)$++;if($>_-u){const w=r[c];for(;u<_;)t.insertBefore(i[u++],w)}else t.replaceChild(i[u++],r[c++])}else c++;else r[c++].remove()}}}const Nr="_$DX_DELEGATE";function mi(t,r,i,s={}){let a;return xr(f=>{a=f,r===document?t():oe(r,t(),r.firstChild?null:void 0,i)},s.owner),()=>{a(),r.textContent=""}}function se(t,r,i){let s;const a=()=>{const c=document.createElement("template");return c.innerHTML=t,i?c.content.firstChild.firstChild:c.content.firstChild},f=r?()=>xe(()=>document.importNode(s||(s=a()),!0)):()=>(s||(s=a())).cloneNode(!0);return f.cloneNode=f,f}function Pr(t,r=window.document){const i=r[Nr]||(r[Nr]=new Set);for(let s=0,a=t.length;s<a;s++){const f=t[s];i.has(f)||(i.add(f),r.addEventListener(f,Si))}}function qe(t,r,i){i==null?t.removeAttribute(r):t.setAttribute(r,i)}function Ai(t,r){r==null?t.removeAttribute("class"):t.className=r}function Ti(t,r,i,s){Array.isArray(i)?(t[`$$${r}`]=i[0],t[`$$${r}Data`]=i[1]):t[`$$${r}`]=i}function xi(t,r,i){return xe(()=>t(r,i))}function oe(t,r,i,s){if(i!==void 0&&!s&&(s=[]),typeof r!="function")return Pt(t,r,s,i);Ee(a=>Pt(t,r(),a,i),s)}function Si(t){let r=t.target;const i=`$$${t.type}`,s=t.target,a=t.currentTarget,f=g=>Object.defineProperty(t,"target",{configurable:!0,value:g}),c=()=>{const g=r[i];if(g&&!r.disabled){const h=r[`${i}Data`];if(h!==void 0?g.call(r,h,t):g.call(r,t),t.cancelBubble)return}return r.host&&typeof r.host!="string"&&!r.host._$host&&r.contains(t.target)&&f(r.host),!0},u=()=>{for(;c()&&(r=r._$host||r.parentNode||r.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return r||document}}),t.composedPath){const g=t.composedPath();f(g[0]);for(let h=0;h<g.length-2&&(r=g[h],!!c());h++){if(r._$host){r=r._$host,u();break}if(r.parentNode===a)break}}else u();f(s)}function Pt(t,r,i,s,a){for(;typeof i=="function";)i=i();if(r===i)return i;const f=typeof r,c=s!==void 0;if(t=c&&i[0]&&i[0].parentNode||t,f==="string"||f==="number"){if(f==="number"&&(r=r.toString(),r===i))return i;if(c){let u=i[0];u&&u.nodeType===3?u.data!==r&&(u.data=r):u=document.createTextNode(r),i=Xe(t,i,s,u)}else i!==""&&typeof i=="string"?i=t.firstChild.data=r:i=t.textContent=r}else if(r==null||f==="boolean")i=Xe(t,i,s);else{if(f==="function")return Ee(()=>{let u=r();for(;typeof u=="function";)u=u();i=Pt(t,u,i,s)}),()=>i;if(Array.isArray(r)){const u=[],g=i&&Array.isArray(i);if(Er(u,r,i,a))return Ee(()=>i=Pt(t,u,i,s,!0)),()=>i;if(u.length===0){if(i=Xe(t,i,s),c)return i}else g?i.length===0?Rr(t,u,s):bi(t,i,u):(i&&Xe(t),Rr(t,u));i=u}else if(r.nodeType){if(Array.isArray(i)){if(c)return i=Xe(t,i,s,r);Xe(t,i,null,r)}else i==null||i===""||!t.firstChild?t.appendChild(r):t.replaceChild(r,t.firstChild);i=r}}return i}function Er(t,r,i,s){let a=!1;for(let f=0,c=r.length;f<c;f++){let u=r[f],g=i&&i[t.length],h;if(!(u==null||u===!0||u===!1))if((h=typeof u)=="object"&&u.nodeType)t.push(u);else if(Array.isArray(u))a=Er(t,u,g)||a;else if(h==="function")if(s){for(;typeof u=="function";)u=u();a=Er(t,Array.isArray(u)?u:[u],Array.isArray(g)?g:[g])||a}else t.push(u),a=!0;else{const _=String(u);g&&g.nodeType===3&&g.data===_?t.push(g):t.push(document.createTextNode(_))}}return a}function Rr(t,r,i=null){for(let s=0,a=r.length;s<a;s++)t.insertBefore(r[s],i)}function Xe(t,r,i,s){if(i===void 0)return t.textContent="";const a=s||document.createTextNode("");if(r.length){let f=!1;for(let c=r.length-1;c>=0;c--){const u=r[c];if(a!==u){const g=u.parentNode===t;!f&&!c?g?t.replaceChild(a,u):t.insertBefore(a,i):g&&u.remove()}else f=!0}}else t.insertBefore(a,i);return[a]}const Lt=Symbol("store-raw"),Ye=Symbol("store-node"),Te=Symbol("store-has"),Vr=Symbol("store-self");function kr(t){let r=t[Ke];if(!r&&(Object.defineProperty(t,Ke,{value:r=new Proxy(t,Ci)}),!Array.isArray(t))){const i=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let a=0,f=i.length;a<f;a++){const c=i[a];s[c].get&&Object.defineProperty(t,c,{enumerable:s[c].enumerable,get:s[c].get.bind(r)})}}return r}function Je(t){let r;return t!=null&&typeof t=="object"&&(t[Ke]||!(r=Object.getPrototypeOf(t))||r===Object.prototype||Array.isArray(t))}function Qe(t,r=new Set){let i,s,a,f;if(i=t!=null&&t[Lt])return i;if(!Je(t)||r.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):r.add(t);for(let c=0,u=t.length;c<u;c++)a=t[c],(s=Qe(a,r))!==a&&(t[c]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):r.add(t);const c=Object.keys(t),u=Object.getOwnPropertyDescriptors(t);for(let g=0,h=c.length;g<h;g++)f=c[g],!u[f].get&&(a=t[f],(s=Qe(a,r))!==a&&(t[f]=s))}return t}function It(t,r){let i=t[r];return i||Object.defineProperty(t,r,{value:i=Object.create(null)}),i}function xt(t,r,i){if(t[r])return t[r];const[s,a]=We(i,{equals:!1,internal:!0});return s.$=a,t[r]=s}function Ei(t,r){const i=Reflect.getOwnPropertyDescriptor(t,r);return!i||i.get||!i.configurable||r===Ke||r===Ye||(delete i.value,delete i.writable,i.get=()=>t[Ke][r]),i}function ei(t){Sr()&&xt(It(t,Ye),Vr)()}function $i(t){return ei(t),Reflect.ownKeys(t)}const Ci={get(t,r,i){if(r===Lt)return t;if(r===Ke)return i;if(r===Tr)return ei(t),i;const s=It(t,Ye),a=s[r];let f=a?a():t[r];if(r===Ye||r===Te||r==="__proto__")return f;if(!a){const c=Object.getOwnPropertyDescriptor(t,r);Sr()&&(typeof f!="function"||t.hasOwnProperty(r))&&!(c&&c.get)&&(f=xt(s,r,f)())}return Je(f)?kr(f):f},has(t,r){return r===Lt||r===Ke||r===Tr||r===Ye||r===Te||r==="__proto__"?!0:(Sr()&&xt(It(t,Te),r)(),r in t)},set(){return!0},deleteProperty(){return!0},ownKeys:$i,getOwnPropertyDescriptor:Ei};function Ze(t,r,i,s=!1){if(!s&&t[r]===i)return;const a=t[r],f=t.length;i===void 0?(delete t[r],t[Te]&&t[Te][r]&&a!==void 0&&t[Te][r].$()):(t[r]=i,t[Te]&&t[Te][r]&&a===void 0&&t[Te][r].$());let c=It(t,Ye),u;if((u=xt(c,r,a))&&u.$(()=>i),Array.isArray(t)&&t.length!==f){for(let g=t.length;g<f;g++)(u=c[g])&&u.$();(u=xt(c,"length",f))&&u.$(t.length)}(u=c[Vr])&&u.$()}function ti(t,r){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s];Ze(t,a,r[a])}}function Oi(t,r){if(typeof r=="function"&&(r=r(t)),r=Qe(r),Array.isArray(r)){if(t===r)return;let i=0,s=r.length;for(;i<s;i++){const a=r[i];t[i]!==a&&Ze(t,i,a)}Ze(t,"length",s)}else ti(t,r)}function At(t,r,i=[]){let s,a=t;if(r.length>1){s=r.shift();const c=typeof s,u=Array.isArray(t);if(Array.isArray(s)){for(let g=0;g<s.length;g++)At(t,[s[g]].concat(r),i);return}else if(u&&c==="function"){for(let g=0;g<t.length;g++)s(t[g],g)&&At(t,[g].concat(r),i);return}else if(u&&c==="object"){const{from:g=0,to:h=t.length-1,by:_=1}=s;for(let b=g;b<=h;b+=_)At(t,[b].concat(r),i);return}else if(r.length>1){At(t[s],r,[s].concat(i));return}a=t[s],i=[s].concat(i)}let f=r[0];typeof f=="function"&&(f=f(a,i),f===a)||s===void 0&&f==null||(f=Qe(f),s===void 0||Je(a)&&Je(f)&&!Array.isArray(f)?ti(a,f):Ze(t,s,f))}function ni(...[t,r]){const i=Qe(t||{}),s=Array.isArray(i),a=kr(i);function f(...c){$e(()=>{s&&c.length===1?Oi(i,c[0]):At(i,c)})}return[a,f]}const Dt=new WeakMap,ri={get(t,r){if(r===Lt)return t;const i=t[r];let s;return Je(i)?Dt.get(i)||(Dt.set(i,s=new Proxy(i,ri)),s):i},set(t,r,i){return Ze(t,r,Qe(i)),!0},deleteProperty(t,r){return Ze(t,r,void 0,!0),!0}};function Gr(t){return r=>{if(Je(r)){let i;(i=Dt.get(r))||Dt.set(r,i=new Proxy(r,ri)),t(i)}return r}}const Pi=()=>({adversary:"level1"}),ii=()=>[{type:"E",position:9,owner:0},{type:"L",position:10,owner:0},{type:"G",position:11,owner:0},{type:"C",position:7,owner:0},{type:"E",position:2,owner:1},{type:"L",position:1,owner:1},{type:"G",position:0,owner:1},{type:"C",position:4,owner:1}],Li=()=>({pieces:ii(),turn:0,outcome:null,played:[],config:Pi(),isThinking:!1,dialogOpened:!1}),$r={C:[[0,1]],H:[[0,1],[1,0],[0,-1],[-1,0],[1,1],[-1,1]],G:[[0,1],[1,0],[0,-1],[-1,0]],E:[[1,1],[-1,1],[1,-1],[-1,-1]],L:[[0,1],[1,0],[0,-1],[-1,0],[1,1],[-1,1],[1,-1],[-1,-1]]};function Ii(t,r){const i=new Array(12);i.fill(0);for(const u of t)u.position!==null&&(i[u.position]=u.owner+1);if(r.position===null){const u=[];for(let g=0;g<12;g++)i[g]||u.push(g);return u}const s=[],a=r.position%3,f=r.position/3|0,c=$r[r.type];for(const u of c){const[g,h]=r.owner?[u[0],u[1]]:[-u[0],-u[1]],_=a+g,b=f+h;if(_>=0&&_<3&&b>=0&&b<4){let $=3*b+_;i[$]!==r.owner+1&&s.push($)}}return s}var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fr=1/0,oi=9007199254740991,Di=17976931348623157e292,Br=NaN,Mi="[object Function]",Ni="[object GeneratorFunction]",Ri="[object Symbol]",Gi=/^\s+|\s+$/g,Fi=/^[-+]0x[0-9a-f]+$/i,Bi=/^0b[01]+$/i,Hi=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,Ki=parseInt,ji=Object.prototype,si=ji.toString,qi=Math.ceil,Xi=Math.max;function Yi(t,r,i,s){for(var a=-1,f=Xi(qi((r-t)/(i||1)),0),c=Array(f);f--;)c[++a]=t,t+=i;return c}function Wi(t){return function(r,i,s){return s&&typeof s!="number"&&Qi(r,i,s)&&(i=s=void 0),r=Ar(r),i===void 0?(i=r,r=0):i=Ar(i),s=s===void 0?r<i?1:-1:Ar(s),Yi(r,i,s)}}function Ji(t,r){return r=r??oi,!!r&&(typeof t=="number"||Ui.test(t))&&t>-1&&t%1==0&&t<r}function Qi(t,r,i){if(!Mt(i))return!1;var s=typeof r;return(s=="number"?zi(i)&&Ji(r,i.length):s=="string"&&r in i)?Zi(i[r],t):!1}function Zi(t,r){return t===r||t!==t&&r!==r}function zi(t){return t!=null&&ki(t.length)&&!Vi(t)}function Vi(t){var r=Mt(t)?si.call(t):"";return r==Mi||r==Ni}function ki(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oi}function Mt(t){var r=typeof t;return!!t&&(r=="object"||r=="function")}function eo(t){return!!t&&typeof t=="object"}function to(t){return typeof t=="symbol"||eo(t)&&si.call(t)==Ri}function Ar(t){if(!t)return t===0?t:0;if(t=no(t),t===Fr||t===-Fr){var r=t<0?-1:1;return r*Di}return t===t?t:0}function no(t){if(typeof t=="number")return t;if(to(t))return Br;if(Mt(t)){var r=typeof t.valueOf=="function"?t.valueOf():t;t=Mt(r)?r+"":r}if(typeof t!="string")return t===0?t:+t;t=t.replace(Gi,"");var i=Bi.test(t);return i||Hi.test(t)?Ki(t.slice(2),i?2:8):Fi.test(t)?Br:+t}var ro=Wi(),io=ro;const oo=Lr(io);var so=se('<div class="w-[42rem] z-20"><svg viewBox="0 0 1600 1680"class=select-none><image x=200 y=0 width=1200 height=1680 href=./board.webp>'),ao=se("<svg><rect width=298 height=298 stroke-width=20 fill=transparent></svg>",!1,!0),fo=se('<svg><image x=-140 y=-140 width=280 height=280 class="transition-transform duration-1000"></svg>',!1,!0),lo=se("<svg><image x=-140 y=-140 width=280 height=280 class=pointer-events-none></svg>",!1,!0);function uo(t){const r=t.currentTarget,{left:i,top:s,width:a,height:f}=r.getBoundingClientRect();return{x:(t.clientX-i)/a,y:(t.clientY-s)/f}}const co=[350,670,1e3,1320],go=[480,800,1120],Hr={L:"./lion.webp",G:"./giraffe.webp",E:"./elephant.webp",C:"./chick.webp",H:"./chicken.webp"},Ur={C:0,E:1,G:2,L:3,H:4},po=t=>{const r=t.position;let i,s,a;r===null?(i=t.owner?1500:100,s=t.owner?200+200*Ur[t.type]:1570-200*Ur[t.type],a=.7):(i=go[r%3],s=co[r/3|0],a=1);const f=t.owner?"180deg":"0";return`translate(${i}px, ${s}px) rotate(${f}) scale(${a})`},ho=(t,r)=>{const i=100*t.x,s=100*t.y,a=r.owner?"180deg":"0";return`translate(${i}%, ${s}%) rotate(${a})`},yo=t=>{const[r,i]=We(null),[s,a]=We(null),f=le(()=>r()!==null?Ii(t.pieces,t.pieces[r()]):[]),c=(_,b)=>{t.outcome!==null||t.pieces[_].owner!==t.turn||(b.currentTarget&&b.currentTarget.releasePointerCapture(b.pointerId),i(_))},u=_=>{a(uo(_))},g=_=>{$e(()=>{a(null);const b=r();b!==null&&(i(null),t.play(b,_))})},h=_=>{$e(()=>{a(null),i(null)})};return(()=>{var _=so(),b=_.firstChild;return b.firstChild,b.$$pointerup=h,b.addEventListener("pointerleave",h),b.addEventListener("pointercancel",h),b.$$pointermove=u,oe(b,Ue(Mr,{get each(){return oo(0,12)},children:$=>(()=>{var C=ao();return C.$$pointerup=g,C.$$pointerupData=$(),Ee(w=>{var x=320+330*($()%3),v=200+325*($()/3|0),T=f().includes($())?"lightgreen":"transparent",S=!f().includes($());return x!==w.e&&qe(C,"x",w.e=x),v!==w.t&&qe(C,"y",w.t=v),T!==w.a&&qe(C,"stroke",w.a=T),S!==w.o&&C.classList.toggle("pointer-events-none",w.o=S),w},{e:void 0,t:void 0,a:void 0,o:void 0}),C})()}),null),oe(b,Ue(Mr,{get each(){return t.pieces},children:($,C)=>(()=>{var w=fo();return w.$$pointerdown=c,w.$$pointerdownData=C,Ee(x=>{var v=po($()),T=Hr[$().type],S=r()!==null,G=C===r()?0:100;return v!==x.e&&((x.e=v)!=null?w.style.setProperty("transform",v):w.style.removeProperty("transform")),T!==x.t&&qe(w,"href",x.t=T),S!==x.a&&w.classList.toggle("pointer-events-none",x.a=S),G!==x.o&&qe(w,"opacity",x.o=G),x},{e:void 0,t:void 0,a:void 0,o:void 0}),w})()}),null),oe(b,(()=>{var $=le(()=>!!(s()&&r()!==null));return()=>$()&&(()=>{var C=lo();return Ee(w=>{var x=ho(s(),t.pieces[r()]),v=Hr[t.pieces[r()].type];return x!==w.e&&((w.e=x)!=null?C.style.setProperty("transform",x):C.style.removeProperty("transform")),v!==w.t&&qe(C,"href",w.t=v),w},{e:void 0,t:void 0}),C})()})(),null),_})()};Pr(["pointermove","pointerup","pointerdown"]);var _o=()=>{},Kr=(t,r)=>r();function vo(t,r){const i=xe(t),s=i?[i]:[],{onEnter:a=Kr,onExit:f=Kr}=r,[c,u]=We(r.appear?[]:s),[g]=hi();let h,_=!1;function b(w,x){if(!w)return x&&x();_=!0,f(w,()=>{$e(()=>{_=!1,u(v=>v.filter(T=>T!==w)),x&&x()})})}function $(w){const x=h;if(!x)return w&&w();h=void 0,u(v=>[x,...v]),a(x,w??_o)}const C=r.mode==="out-in"?w=>_||b(w,$):r.mode==="in-out"?w=>$(()=>b(w)):w=>{b(w),$()};return ci(w=>{const x=t();return xe(g)?(g(),w):(x!==w&&(h=x,$e(()=>xe(()=>C(w)))),x)},r.appear?void 0:i),c}var jr=t=>t instanceof Element;function Cr(t,r){if(r(t))return t;if(typeof t=="function"&&!t.length)return Cr(t(),r);if(Array.isArray(t))for(const i of t){const s=Cr(i,r);if(s)return s}return null}function wo(t,r=jr,i=jr){const s=le(t);return le(()=>Cr(s(),r))}function bo(t){return le(()=>{const r=t.name||"s";return{enterActive:(t.enterActiveClass||r+"-enter-active").split(" "),enter:(t.enterClass||r+"-enter").split(" "),enterTo:(t.enterToClass||r+"-enter-to").split(" "),exitActive:(t.exitActiveClass||r+"-exit-active").split(" "),exit:(t.exitClass||r+"-exit").split(" "),exitTo:(t.exitToClass||r+"-exit-to").split(" "),move:(t.moveClass||r+"-move").split(" ")}})}function ai(t){requestAnimationFrame(()=>requestAnimationFrame(t))}function mo(t,r,i,s){const{onBeforeEnter:a,onEnter:f,onAfterEnter:c}=r;a?.(i),i.classList.add(...t.enter),i.classList.add(...t.enterActive),queueMicrotask(()=>{if(!i.parentNode)return s?.();f?.(i,()=>u())}),ai(()=>{i.classList.remove(...t.enter),i.classList.add(...t.enterTo),(!f||f.length<2)&&(i.addEventListener("transitionend",u),i.addEventListener("animationend",u))});function u(g){(!g||g.target===i)&&(s?.(),i.removeEventListener("transitionend",u),i.removeEventListener("animationend",u),i.classList.remove(...t.enterActive),i.classList.remove(...t.enterTo),c?.(i))}}function Ao(t,r,i,s){const{onBeforeExit:a,onExit:f,onAfterExit:c}=r;if(!i.parentNode)return s?.();a?.(i),i.classList.add(...t.exit),i.classList.add(...t.exitActive),f?.(i,()=>u()),ai(()=>{i.classList.remove(...t.exit),i.classList.add(...t.exitTo),(!f||f.length<2)&&(i.addEventListener("transitionend",u),i.addEventListener("animationend",u))});function u(g){(!g||g.target===i)&&(s?.(),i.removeEventListener("transitionend",u),i.removeEventListener("animationend",u),i.classList.remove(...t.exitActive),i.classList.remove(...t.exitTo),c?.(i))}}var To={inout:"in-out",outin:"out-in"},xo=t=>{const r=bo(t);return vo(wo(()=>t.children),{mode:To[t.mode],appear:t.appear,onEnter(i,s){mo(r(),t,i,s)},onExit(i,s){Ao(r(),t,i,s)}})},So=se("<div>"),Eo=se("<div class=tooltip>");const $o=t=>{const r=le(()=>t.outcome!==null?`Bravo! Le joueur ${t.outcome+1} a gagné!`:"Bienvenue sur l'appli"),i=le(()=>t.outcome!==null?"bg-happy":"bg-speaking");return(()=>{var s=So();return oe(s,Ue(xo,{onEnter:(a,f)=>{a.animate([{opacity:0},{opacity:1}],{duration:500}).finished.then(f)},onExit:(a,f)=>{a.animate([{opacity:1},{opacity:0}],{duration:500}).finished.then(f)},get children(){return le(()=>!!r())()&&(()=>{var a=Eo();return oe(a,r),a})()}})),Ee(()=>Ai(s,`relative w-[15rem] h-[25rem] bg-contain bg-no-repeat ${i()}`)),s})()};var Co=se("<div class=dialog-title>Nouvelle partie"),Oo=se('<div class="dialog-body grid grid-cols-20/80 gap-8"><div class="text-bold text-lg">Adversaire</div><div class="flex gap-4 text-lg"></div><div class="text-bold text-lg">Qui commence</div><div class="flex gap-4 text-lg">'),Po=se("<div class=dialog-buttons><button class=btn>Annuler</button><button class=btn>OK"),qr=se("<button class=togglebtn>");const Lo=[["human","Humain"],["level1","Débutant"],["level2","Moyen"],["level3","Difficile"]],Io=t=>{const[r,i]=ni({...t.config});return[Co(),(()=>{var s=Oo(),a=s.firstChild,f=a.nextSibling,c=f.nextSibling,u=c.nextSibling;return oe(f,()=>Lo.map(([g,h])=>(()=>{var _=qr();return _.$$click=b=>i("adversary",g),oe(_,h),Ee(()=>_.classList.toggle("toggledbtn",g===r.adversary)),_})())),oe(u,()=>[0,1].map(g=>(()=>{var h=qr();return oe(h,g===0?"Humain":"Machine"),h})())),s})(),(()=>{var s=Po(),a=s.firstChild,f=a.nextSibling;return Ti(a,"click",t.closeDialog),f.$$click=t.newGame,f.$$clickData=r,s})()]};Pr(["click"]);function mt(t){return t[Math.random()*t.length|0]??null}const Do=t=>new Promise(r=>setTimeout(r,t));var Nt={exports:{}};Nt.exports;(function(t,r){var i=200,s="Expected a function",a="__lodash_hash_undefined__",f=1,c=2,u=1/0,g=9007199254740991,h="[object Arguments]",_="[object Array]",b="[object Boolean]",$="[object Date]",C="[object Error]",w="[object Function]",x="[object GeneratorFunction]",v="[object Map]",T="[object Number]",S="[object Object]",G="[object Promise]",B="[object RegExp]",D="[object Set]",te="[object String]",ue="[object Symbol]",Q="[object WeakMap]",ne="[object ArrayBuffer]",ee="[object DataView]",Ft="[object Float32Array]",Bt="[object Float64Array]",Ht="[object Int8Array]",Ut="[object Int16Array]",Kt="[object Int32Array]",jt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Xt="[object Uint16Array]",Yt="[object Uint32Array]",Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jt=/^\w*$/,Qt=/^\./,Zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,Vt=/\\(\\)?/g,kt=/^\[object .+?Constructor\]$/,en=/^(?:0|[1-9]\d*)$/,m={};m[Ft]=m[Bt]=m[Ht]=m[Ut]=m[Kt]=m[jt]=m[qt]=m[Xt]=m[Yt]=!0,m[h]=m[_]=m[ne]=m[b]=m[ee]=m[$]=m[C]=m[w]=m[v]=m[T]=m[S]=m[B]=m[D]=m[te]=m[Q]=!1;var ze=typeof Se=="object"&&Se&&Se.Object===Object&&Se,tn=typeof self=="object"&&self&&self.Object===Object&&self,X=ze||tn||Function("return this")(),Ve=r&&!r.nodeType&&r,ke=Ve&&!0&&t&&!t.nodeType&&t,nn=ke&&ke.exports===Ve,et=nn&&ze.process,tt=function(){try{return et&&et.binding("util")}catch{}}(),nt=tt&&tt.isTypedArray;function rn(e,n){for(var o=-1,l=e?e.length:0;++o<l;)if(n(e[o],o,e))return!0;return!1}function on(e){return function(n){return n?.[e]}}function sn(e,n){for(var o=-1,l=Array(e);++o<e;)l[o]=n(o);return l}function an(e){return function(n){return e(n)}}function fn(e,n){return e?.[n]}function Oe(e){var n=!1;if(e!=null&&typeof e.toString!="function")try{n=!!(e+"")}catch{}return n}function ln(e){var n=-1,o=Array(e.size);return e.forEach(function(l,p){o[++n]=[p,l]}),o}function un(e,n){return function(o){return e(n(o))}}function cn(e){var n=-1,o=Array(e.size);return e.forEach(function(l){o[++n]=l}),o}var dn=Array.prototype,gn=Function.prototype,ce=Object.prototype,Pe=X["__core-js_shared__"],rt=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),it=gn.toString,H=ce.hasOwnProperty,re=ce.toString,pn=RegExp("^"+it.call(H).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=X.Symbol,st=X.Uint8Array,hn=ce.propertyIsEnumerable,yn=dn.splice,_n=un(Object.keys,Object),Le=ie(X,"DataView"),ae=ie(X,"Map"),Ie=ie(X,"Promise"),De=ie(X,"Set"),Me=ie(X,"WeakMap"),fe=ie(Object,"create"),vn=z(Le),wn=z(ae),bn=z(Ie),mn=z(De),An=z(Me),de=ot?ot.prototype:void 0,Ne=de?de.valueOf:void 0,at=de?de.toString:void 0;function Z(e){var n=-1,o=e?e.length:0;for(this.clear();++n<o;){var l=e[n];this.set(l[0],l[1])}}function Tn(){this.__data__=fe?fe(null):{}}function xn(e){return this.has(e)&&delete this.__data__[e]}function Sn(e){var n=this.__data__;if(fe){var o=n[e];return o===a?void 0:o}return H.call(n,e)?n[e]:void 0}function En(e){var n=this.__data__;return fe?n[e]!==void 0:H.call(n,e)}function $n(e,n){var o=this.__data__;return o[e]=fe&&n===void 0?a:n,this}Z.prototype.clear=Tn,Z.prototype.delete=xn,Z.prototype.get=Sn,Z.prototype.has=En,Z.prototype.set=$n;function U(e){var n=-1,o=e?e.length:0;for(this.clear();++n<o;){var l=e[n];this.set(l[0],l[1])}}function Cn(){this.__data__=[]}function On(e){var n=this.__data__,o=pe(n,e);if(o<0)return!1;var l=n.length-1;return o==l?n.pop():yn.call(n,o,1),!0}function Pn(e){var n=this.__data__,o=pe(n,e);return o<0?void 0:n[o][1]}function Ln(e){return pe(this.__data__,e)>-1}function In(e,n){var o=this.__data__,l=pe(o,e);return l<0?o.push([e,n]):o[l][1]=n,this}U.prototype.clear=Cn,U.prototype.delete=On,U.prototype.get=Pn,U.prototype.has=Ln,U.prototype.set=In;function K(e){var n=-1,o=e?e.length:0;for(this.clear();++n<o;){var l=e[n];this.set(l[0],l[1])}}function Dn(){this.__data__={hash:new Z,map:new(ae||U),string:new Z}}function Mn(e){return he(this,e).delete(e)}function Nn(e){return he(this,e).get(e)}function Rn(e){return he(this,e).has(e)}function Gn(e,n){return he(this,e).set(e,n),this}K.prototype.clear=Dn,K.prototype.delete=Mn,K.prototype.get=Nn,K.prototype.has=Rn,K.prototype.set=Gn;function ge(e){var n=-1,o=e?e.length:0;for(this.__data__=new K;++n<o;)this.add(e[n])}function Fn(e){return this.__data__.set(e,a),this}function Bn(e){return this.__data__.has(e)}ge.prototype.add=ge.prototype.push=Fn,ge.prototype.has=Bn;function j(e){this.__data__=new U(e)}function Hn(){this.__data__=new U}function Un(e){return this.__data__.delete(e)}function Kn(e){return this.__data__.get(e)}function jn(e){return this.__data__.has(e)}function qn(e,n){var o=this.__data__;if(o instanceof U){var l=o.__data__;if(!ae||l.length<i-1)return l.push([e,n]),this;o=this.__data__=new K(l)}return o.set(e,n),this}j.prototype.clear=Hn,j.prototype.delete=Un,j.prototype.get=Kn,j.prototype.has=jn,j.prototype.set=qn;function Xn(e,n){var o=V(e)||_t(e)?sn(e.length,String):[],l=o.length,p=!!l;for(var d in e)H.call(e,d)&&!(p&&(d=="length"||gt(d,l)))&&o.push(d);return o}function pe(e,n){for(var o=e.length;o--;)if(yt(e[o][0],n))return o;return-1}function Yn(e,n,o){for(var l=-1,p=e.length;++l<p;){var d=e[l],y=n(d);if(y!=null&&(E===void 0?y===y&&!be(y):o(y,E)))var E=y,A=d}return A}function ft(e,n){n=ye(n,e)?[n]:ct(n);for(var o=0,l=n.length;e!=null&&o<l;)e=e[_e(n[o++])];return o&&o==l?e:void 0}function Wn(e){return re.call(e)}function Jn(e,n){return e>n}function lt(e,n){return e!=null&&n in Object(e)}function ut(e,n,o,l,p){return e===n?!0:e==null||n==null||!ve(e)&&!we(n)?e!==e&&n!==n:Qn(e,n,ut,o,l,p)}function Qn(e,n,o,l,p,d){var y=V(e),E=V(n),A=_,O=_;y||(A=Y(e),A=A==h?S:A),E||(O=Y(n),O=O==h?S:O);var L=A==S&&!Oe(e),I=O==S&&!Oe(n),P=A==O;if(P&&!L)return d||(d=new j),y||pr(e)?dt(e,n,o,l,p,d):or(e,n,A,o,l,p,d);if(!(p&c)){var M=L&&H.call(e,"__wrapped__"),N=I&&H.call(n,"__wrapped__");if(M||N){var W=M?e.value():e,q=N?n.value():n;return d||(d=new j),o(W,q,l,p,d)}}return P?(d||(d=new j),sr(e,n,o,l,p,d)):!1}function Zn(e,n,o,l){var p=o.length,d=p;if(e==null)return!d;for(e=Object(e);p--;){var y=o[p];if(y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++p<d;){y=o[p];var E=y[0],A=e[E],O=y[1];if(y[2]){if(A===void 0&&!(E in e))return!1}else{var L=new j,I;if(!(I===void 0?ut(O,A,l,f|c,L):I))return!1}}return!0}function zn(e){if(!ve(e)||ur(e))return!1;var n=wt(e)||Oe(e)?pn:kt;return n.test(z(e))}function Vn(e){return we(e)&&Ge(e.length)&&!!m[re.call(e)]}function kn(e){return typeof e=="function"?e:e==null?vr:typeof e=="object"?V(e)?nr(e[0],e[1]):tr(e):wr(e)}function er(e){if(!cr(e))return _n(e);var n=[];for(var o in Object(e))H.call(e,o)&&o!="constructor"&&n.push(o);return n}function tr(e){var n=ar(e);return n.length==1&&n[0][2]?ht(n[0][0],n[0][1]):function(o){return o===e||Zn(o,e,n)}}function nr(e,n){return ye(e)&&pt(n)?ht(_e(e),n):function(o){var l=yr(o,e);return l===void 0&&l===n?_r(o,e):ut(n,l,void 0,f|c)}}function rr(e){return function(n){return ft(n,e)}}function ir(e){if(typeof e=="string")return e;if(be(e))return at?at.call(e):"";var n=e+"";return n=="0"&&1/e==-u?"-0":n}function ct(e){return V(e)?e:dr(e)}function dt(e,n,o,l,p,d){var y=p&c,E=e.length,A=n.length;if(E!=A&&!(y&&A>E))return!1;var O=d.get(e);if(O&&d.get(n))return O==n;var L=-1,I=!0,P=p&f?new ge:void 0;for(d.set(e,n),d.set(n,e);++L<E;){var M=e[L],N=n[L];if(l)var W=y?l(N,M,L,n,e,d):l(M,N,L,e,n,d);if(W!==void 0){if(W)continue;I=!1;break}if(P){if(!rn(n,function(q,k){if(!P.has(k)&&(M===q||o(M,q,l,p,d)))return P.add(k)})){I=!1;break}}else if(!(M===N||o(M,N,l,p,d))){I=!1;break}}return d.delete(e),d.delete(n),I}function or(e,n,o,l,p,d,y){switch(o){case ee:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case ne:return!(e.byteLength!=n.byteLength||!l(new st(e),new st(n)));case b:case $:case T:return yt(+e,+n);case C:return e.name==n.name&&e.message==n.message;case B:case te:return e==n+"";case v:var E=ln;case D:var A=d&c;if(E||(E=cn),e.size!=n.size&&!A)return!1;var O=y.get(e);if(O)return O==n;d|=f,y.set(e,n);var L=dt(E(e),E(n),l,p,d,y);return y.delete(e),L;case ue:if(Ne)return Ne.call(e)==Ne.call(n)}return!1}function sr(e,n,o,l,p,d){var y=p&c,E=Fe(e),A=E.length,O=Fe(n),L=O.length;if(A!=L&&!y)return!1;for(var I=A;I--;){var P=E[I];if(!(y?P in n:H.call(n,P)))return!1}var M=d.get(e);if(M&&d.get(n))return M==n;var N=!0;d.set(e,n),d.set(n,e);for(var W=y;++I<A;){P=E[I];var q=e[P],k=n[P];if(l)var bt=y?l(k,q,P,n,e,d):l(q,k,P,e,n,d);if(!(bt===void 0?q===k||o(q,k,l,p,d):bt)){N=!1;break}W||(W=P=="constructor")}if(N&&!W){var me=e.constructor,Ae=n.constructor;me!=Ae&&"constructor"in e&&"constructor"in n&&!(typeof me=="function"&&me instanceof me&&typeof Ae=="function"&&Ae instanceof Ae)&&(N=!1)}return d.delete(e),d.delete(n),N}function he(e,n){var o=e.__data__;return lr(n)?o[typeof n=="string"?"string":"hash"]:o.map}function ar(e){for(var n=Fe(e),o=n.length;o--;){var l=n[o],p=e[l];n[o]=[l,p,pt(p)]}return n}function ie(e,n){var o=fn(e,n);return zn(o)?o:void 0}var Y=Wn;(Le&&Y(new Le(new ArrayBuffer(1)))!=ee||ae&&Y(new ae)!=v||Ie&&Y(Ie.resolve())!=G||De&&Y(new De)!=D||Me&&Y(new Me)!=Q)&&(Y=function(e){var n=re.call(e),o=n==S?e.constructor:void 0,l=o?z(o):void 0;if(l)switch(l){case vn:return ee;case wn:return v;case bn:return G;case mn:return D;case An:return Q}return n});function fr(e,n,o){n=ye(n,e)?[n]:ct(n);for(var l,p=-1,y=n.length;++p<y;){var d=_e(n[p]);if(!(l=e!=null&&o(e,d)))break;e=e[d]}if(l)return l;var y=e?e.length:0;return!!y&&Ge(y)&&gt(d,y)&&(V(e)||_t(e))}function gt(e,n){return n=n??g,!!n&&(typeof e=="number"||en.test(e))&&e>-1&&e%1==0&&e<n}function ye(e,n){if(V(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||be(e)?!0:Jt.test(e)||!Wt.test(e)||n!=null&&e in Object(n)}function lr(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function ur(e){return!!rt&&rt in e}function cr(e){var n=e&&e.constructor,o=typeof n=="function"&&n.prototype||ce;return e===o}function pt(e){return e===e&&!ve(e)}function ht(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}var dr=Re(function(e){e=hr(e);var n=[];return Qt.test(e)&&n.push(""),e.replace(Zt,function(o,l,p,d){n.push(p?d.replace(Vt,"$1"):l||o)}),n});function _e(e){if(typeof e=="string"||be(e))return e;var n=e+"";return n=="0"&&1/e==-u?"-0":n}function z(e){if(e!=null){try{return it.call(e)}catch{}try{return e+""}catch{}}return""}function Re(e,n){if(typeof e!="function"||n&&typeof n!="function")throw new TypeError(s);var o=function(){var l=arguments,p=n?n.apply(this,l):l[0],d=o.cache;if(d.has(p))return d.get(p);var y=e.apply(this,l);return o.cache=d.set(p,y),y};return o.cache=new(Re.Cache||K),o}Re.Cache=K;function yt(e,n){return e===n||e!==e&&n!==n}function _t(e){return gr(e)&&H.call(e,"callee")&&(!hn.call(e,"callee")||re.call(e)==h)}var V=Array.isArray;function vt(e){return e!=null&&Ge(e.length)&&!wt(e)}function gr(e){return we(e)&&vt(e)}function wt(e){var n=ve(e)?re.call(e):"";return n==w||n==x}function Ge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=g}function ve(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function we(e){return!!e&&typeof e=="object"}function be(e){return typeof e=="symbol"||we(e)&&re.call(e)==ue}var pr=nt?an(nt):Vn;function hr(e){return e==null?"":ir(e)}function yr(e,n,o){var l=e==null?void 0:ft(e,n);return l===void 0?o:l}function _r(e,n){return e!=null&&fr(e,n,lt)}function Fe(e){return vt(e)?Xn(e):er(e)}function vr(e){return e}function wr(e){return ye(e)?on(_e(e)):rr(e)}function br(e,n){return e&&e.length?Yn(e,kn(n),Jn):void 0}t.exports=br})(Nt,Nt.exports);var Mo=Nt.exports;const No=Lr(Mo);var Rt={exports:{}};Rt.exports;(function(t,r){var i=200,s="Expected a function",a="__lodash_hash_undefined__",f=1,c=2,u=1/0,g=9007199254740991,h="[object Arguments]",_="[object Array]",b="[object Boolean]",$="[object Date]",C="[object Error]",w="[object Function]",x="[object GeneratorFunction]",v="[object Map]",T="[object Number]",S="[object Object]",G="[object Promise]",B="[object RegExp]",D="[object Set]",te="[object String]",ue="[object Symbol]",Q="[object WeakMap]",ne="[object ArrayBuffer]",ee="[object DataView]",Ft="[object Float32Array]",Bt="[object Float64Array]",Ht="[object Int8Array]",Ut="[object Int16Array]",Kt="[object Int32Array]",jt="[object Uint8Array]",qt="[object Uint8ClampedArray]",Xt="[object Uint16Array]",Yt="[object Uint32Array]",Wt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jt=/^\w*$/,Qt=/^\./,Zt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,Vt=/\\(\\)?/g,kt=/^\[object .+?Constructor\]$/,en=/^(?:0|[1-9]\d*)$/,m={};m[Ft]=m[Bt]=m[Ht]=m[Ut]=m[Kt]=m[jt]=m[qt]=m[Xt]=m[Yt]=!0,m[h]=m[_]=m[ne]=m[b]=m[ee]=m[$]=m[C]=m[w]=m[v]=m[T]=m[S]=m[B]=m[D]=m[te]=m[Q]=!1;var ze=typeof Se=="object"&&Se&&Se.Object===Object&&Se,tn=typeof self=="object"&&self&&self.Object===Object&&self,X=ze||tn||Function("return this")(),Ve=r&&!r.nodeType&&r,ke=Ve&&!0&&t&&!t.nodeType&&t,nn=ke&&ke.exports===Ve,et=nn&&ze.process,tt=function(){try{return et&&et.binding("util")}catch{}}(),nt=tt&&tt.isTypedArray;function rn(e,n){for(var o=-1,l=e?e.length:0;++o<l;)if(n(e[o],o,e))return!0;return!1}function on(e){return function(n){return n?.[e]}}function sn(e,n){for(var o=-1,l=Array(e);++o<e;)l[o]=n(o);return l}function an(e){return function(n){return e(n)}}function fn(e,n){return e?.[n]}function Oe(e){var n=!1;if(e!=null&&typeof e.toString!="function")try{n=!!(e+"")}catch{}return n}function ln(e){var n=-1,o=Array(e.size);return e.forEach(function(l,p){o[++n]=[p,l]}),o}function un(e,n){return function(o){return e(n(o))}}function cn(e){var n=-1,o=Array(e.size);return e.forEach(function(l){o[++n]=l}),o}var dn=Array.prototype,gn=Function.prototype,ce=Object.prototype,Pe=X["__core-js_shared__"],rt=function(){var e=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),it=gn.toString,H=ce.hasOwnProperty,re=ce.toString,pn=RegExp("^"+it.call(H).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=X.Symbol,st=X.Uint8Array,hn=ce.propertyIsEnumerable,yn=dn.splice,_n=un(Object.keys,Object),Le=ie(X,"DataView"),ae=ie(X,"Map"),Ie=ie(X,"Promise"),De=ie(X,"Set"),Me=ie(X,"WeakMap"),fe=ie(Object,"create"),vn=z(Le),wn=z(ae),bn=z(Ie),mn=z(De),An=z(Me),de=ot?ot.prototype:void 0,Ne=de?de.valueOf:void 0,at=de?de.toString:void 0;function Z(e){var n=-1,o=e?e.length:0;for(this.clear();++n<o;){var l=e[n];this.set(l[0],l[1])}}function Tn(){this.__data__=fe?fe(null):{}}function xn(e){return this.has(e)&&delete this.__data__[e]}function Sn(e){var n=this.__data__;if(fe){var o=n[e];return o===a?void 0:o}return H.call(n,e)?n[e]:void 0}function En(e){var n=this.__data__;return fe?n[e]!==void 0:H.call(n,e)}function $n(e,n){var o=this.__data__;return o[e]=fe&&n===void 0?a:n,this}Z.prototype.clear=Tn,Z.prototype.delete=xn,Z.prototype.get=Sn,Z.prototype.has=En,Z.prototype.set=$n;function U(e){var n=-1,o=e?e.length:0;for(this.clear();++n<o;){var l=e[n];this.set(l[0],l[1])}}function Cn(){this.__data__=[]}function On(e){var n=this.__data__,o=pe(n,e);if(o<0)return!1;var l=n.length-1;return o==l?n.pop():yn.call(n,o,1),!0}function Pn(e){var n=this.__data__,o=pe(n,e);return o<0?void 0:n[o][1]}function Ln(e){return pe(this.__data__,e)>-1}function In(e,n){var o=this.__data__,l=pe(o,e);return l<0?o.push([e,n]):o[l][1]=n,this}U.prototype.clear=Cn,U.prototype.delete=On,U.prototype.get=Pn,U.prototype.has=Ln,U.prototype.set=In;function K(e){var n=-1,o=e?e.length:0;for(this.clear();++n<o;){var l=e[n];this.set(l[0],l[1])}}function Dn(){this.__data__={hash:new Z,map:new(ae||U),string:new Z}}function Mn(e){return he(this,e).delete(e)}function Nn(e){return he(this,e).get(e)}function Rn(e){return he(this,e).has(e)}function Gn(e,n){return he(this,e).set(e,n),this}K.prototype.clear=Dn,K.prototype.delete=Mn,K.prototype.get=Nn,K.prototype.has=Rn,K.prototype.set=Gn;function ge(e){var n=-1,o=e?e.length:0;for(this.__data__=new K;++n<o;)this.add(e[n])}function Fn(e){return this.__data__.set(e,a),this}function Bn(e){return this.__data__.has(e)}ge.prototype.add=ge.prototype.push=Fn,ge.prototype.has=Bn;function j(e){this.__data__=new U(e)}function Hn(){this.__data__=new U}function Un(e){return this.__data__.delete(e)}function Kn(e){return this.__data__.get(e)}function jn(e){return this.__data__.has(e)}function qn(e,n){var o=this.__data__;if(o instanceof U){var l=o.__data__;if(!ae||l.length<i-1)return l.push([e,n]),this;o=this.__data__=new K(l)}return o.set(e,n),this}j.prototype.clear=Hn,j.prototype.delete=Un,j.prototype.get=Kn,j.prototype.has=jn,j.prototype.set=qn;function Xn(e,n){var o=V(e)||_t(e)?sn(e.length,String):[],l=o.length,p=!!l;for(var d in e)H.call(e,d)&&!(p&&(d=="length"||gt(d,l)))&&o.push(d);return o}function pe(e,n){for(var o=e.length;o--;)if(yt(e[o][0],n))return o;return-1}function Yn(e,n,o){for(var l=-1,p=e.length;++l<p;){var d=e[l],y=n(d);if(y!=null&&(E===void 0?y===y&&!be(y):o(y,E)))var E=y,A=d}return A}function ft(e,n){n=ye(n,e)?[n]:ct(n);for(var o=0,l=n.length;e!=null&&o<l;)e=e[_e(n[o++])];return o&&o==l?e:void 0}function Wn(e){return re.call(e)}function Jn(e,n){return e!=null&&n in Object(e)}function lt(e,n,o,l,p){return e===n?!0:e==null||n==null||!ve(e)&&!we(n)?e!==e&&n!==n:ut(e,n,lt,o,l,p)}function ut(e,n,o,l,p,d){var y=V(e),E=V(n),A=_,O=_;y||(A=Y(e),A=A==h?S:A),E||(O=Y(n),O=O==h?S:O);var L=A==S&&!Oe(e),I=O==S&&!Oe(n),P=A==O;if(P&&!L)return d||(d=new j),y||pr(e)?dt(e,n,o,l,p,d):or(e,n,A,o,l,p,d);if(!(p&c)){var M=L&&H.call(e,"__wrapped__"),N=I&&H.call(n,"__wrapped__");if(M||N){var W=M?e.value():e,q=N?n.value():n;return d||(d=new j),o(W,q,l,p,d)}}return P?(d||(d=new j),sr(e,n,o,l,p,d)):!1}function Qn(e,n,o,l){var p=o.length,d=p;if(e==null)return!d;for(e=Object(e);p--;){var y=o[p];if(y[2]?y[1]!==e[y[0]]:!(y[0]in e))return!1}for(;++p<d;){y=o[p];var E=y[0],A=e[E],O=y[1];if(y[2]){if(A===void 0&&!(E in e))return!1}else{var L=new j,I;if(!(I===void 0?lt(O,A,l,f|c,L):I))return!1}}return!0}function Zn(e){if(!ve(e)||ur(e))return!1;var n=wt(e)||Oe(e)?pn:kt;return n.test(z(e))}function zn(e){return we(e)&&Ge(e.length)&&!!m[re.call(e)]}function Vn(e){return typeof e=="function"?e:e==null?vr:typeof e=="object"?V(e)?nr(e[0],e[1]):tr(e):wr(e)}function kn(e){if(!cr(e))return _n(e);var n=[];for(var o in Object(e))H.call(e,o)&&o!="constructor"&&n.push(o);return n}function er(e,n){return e<n}function tr(e){var n=ar(e);return n.length==1&&n[0][2]?ht(n[0][0],n[0][1]):function(o){return o===e||Qn(o,e,n)}}function nr(e,n){return ye(e)&&pt(n)?ht(_e(e),n):function(o){var l=yr(o,e);return l===void 0&&l===n?_r(o,e):lt(n,l,void 0,f|c)}}function rr(e){return function(n){return ft(n,e)}}function ir(e){if(typeof e=="string")return e;if(be(e))return at?at.call(e):"";var n=e+"";return n=="0"&&1/e==-u?"-0":n}function ct(e){return V(e)?e:dr(e)}function dt(e,n,o,l,p,d){var y=p&c,E=e.length,A=n.length;if(E!=A&&!(y&&A>E))return!1;var O=d.get(e);if(O&&d.get(n))return O==n;var L=-1,I=!0,P=p&f?new ge:void 0;for(d.set(e,n),d.set(n,e);++L<E;){var M=e[L],N=n[L];if(l)var W=y?l(N,M,L,n,e,d):l(M,N,L,e,n,d);if(W!==void 0){if(W)continue;I=!1;break}if(P){if(!rn(n,function(q,k){if(!P.has(k)&&(M===q||o(M,q,l,p,d)))return P.add(k)})){I=!1;break}}else if(!(M===N||o(M,N,l,p,d))){I=!1;break}}return d.delete(e),d.delete(n),I}function or(e,n,o,l,p,d,y){switch(o){case ee:if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)return!1;e=e.buffer,n=n.buffer;case ne:return!(e.byteLength!=n.byteLength||!l(new st(e),new st(n)));case b:case $:case T:return yt(+e,+n);case C:return e.name==n.name&&e.message==n.message;case B:case te:return e==n+"";case v:var E=ln;case D:var A=d&c;if(E||(E=cn),e.size!=n.size&&!A)return!1;var O=y.get(e);if(O)return O==n;d|=f,y.set(e,n);var L=dt(E(e),E(n),l,p,d,y);return y.delete(e),L;case ue:if(Ne)return Ne.call(e)==Ne.call(n)}return!1}function sr(e,n,o,l,p,d){var y=p&c,E=Fe(e),A=E.length,O=Fe(n),L=O.length;if(A!=L&&!y)return!1;for(var I=A;I--;){var P=E[I];if(!(y?P in n:H.call(n,P)))return!1}var M=d.get(e);if(M&&d.get(n))return M==n;var N=!0;d.set(e,n),d.set(n,e);for(var W=y;++I<A;){P=E[I];var q=e[P],k=n[P];if(l)var bt=y?l(k,q,P,n,e,d):l(q,k,P,e,n,d);if(!(bt===void 0?q===k||o(q,k,l,p,d):bt)){N=!1;break}W||(W=P=="constructor")}if(N&&!W){var me=e.constructor,Ae=n.constructor;me!=Ae&&"constructor"in e&&"constructor"in n&&!(typeof me=="function"&&me instanceof me&&typeof Ae=="function"&&Ae instanceof Ae)&&(N=!1)}return d.delete(e),d.delete(n),N}function he(e,n){var o=e.__data__;return lr(n)?o[typeof n=="string"?"string":"hash"]:o.map}function ar(e){for(var n=Fe(e),o=n.length;o--;){var l=n[o],p=e[l];n[o]=[l,p,pt(p)]}return n}function ie(e,n){var o=fn(e,n);return Zn(o)?o:void 0}var Y=Wn;(Le&&Y(new Le(new ArrayBuffer(1)))!=ee||ae&&Y(new ae)!=v||Ie&&Y(Ie.resolve())!=G||De&&Y(new De)!=D||Me&&Y(new Me)!=Q)&&(Y=function(e){var n=re.call(e),o=n==S?e.constructor:void 0,l=o?z(o):void 0;if(l)switch(l){case vn:return ee;case wn:return v;case bn:return G;case mn:return D;case An:return Q}return n});function fr(e,n,o){n=ye(n,e)?[n]:ct(n);for(var l,p=-1,y=n.length;++p<y;){var d=_e(n[p]);if(!(l=e!=null&&o(e,d)))break;e=e[d]}if(l)return l;var y=e?e.length:0;return!!y&&Ge(y)&&gt(d,y)&&(V(e)||_t(e))}function gt(e,n){return n=n??g,!!n&&(typeof e=="number"||en.test(e))&&e>-1&&e%1==0&&e<n}function ye(e,n){if(V(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||be(e)?!0:Jt.test(e)||!Wt.test(e)||n!=null&&e in Object(n)}function lr(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}function ur(e){return!!rt&&rt in e}function cr(e){var n=e&&e.constructor,o=typeof n=="function"&&n.prototype||ce;return e===o}function pt(e){return e===e&&!ve(e)}function ht(e,n){return function(o){return o==null?!1:o[e]===n&&(n!==void 0||e in Object(o))}}var dr=Re(function(e){e=hr(e);var n=[];return Qt.test(e)&&n.push(""),e.replace(Zt,function(o,l,p,d){n.push(p?d.replace(Vt,"$1"):l||o)}),n});function _e(e){if(typeof e=="string"||be(e))return e;var n=e+"";return n=="0"&&1/e==-u?"-0":n}function z(e){if(e!=null){try{return it.call(e)}catch{}try{return e+""}catch{}}return""}function Re(e,n){if(typeof e!="function"||n&&typeof n!="function")throw new TypeError(s);var o=function(){var l=arguments,p=n?n.apply(this,l):l[0],d=o.cache;if(d.has(p))return d.get(p);var y=e.apply(this,l);return o.cache=d.set(p,y),y};return o.cache=new(Re.Cache||K),o}Re.Cache=K;function yt(e,n){return e===n||e!==e&&n!==n}function _t(e){return gr(e)&&H.call(e,"callee")&&(!hn.call(e,"callee")||re.call(e)==h)}var V=Array.isArray;function vt(e){return e!=null&&Ge(e.length)&&!wt(e)}function gr(e){return we(e)&&vt(e)}function wt(e){var n=ve(e)?re.call(e):"";return n==w||n==x}function Ge(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=g}function ve(e){var n=typeof e;return!!e&&(n=="object"||n=="function")}function we(e){return!!e&&typeof e=="object"}function be(e){return typeof e=="symbol"||we(e)&&re.call(e)==ue}var pr=nt?an(nt):zn;function hr(e){return e==null?"":ir(e)}function yr(e,n,o){var l=e==null?void 0:ft(e,n);return l===void 0?o:l}function _r(e,n){return e!=null&&fr(e,n,Jn)}function Fe(e){return vt(e)?Xn(e):kn(e)}function vr(e){return e}function wr(e){return ye(e)?on(_e(e)):rr(e)}function br(e,n){return e&&e.length?Yn(e,Vn(n),er):void 0}t.exports=br})(Rt,Rt.exports);var Ro=Rt.exports;const Et=Lr(Ro),Be={L:1e3,H:4,G:3,E:2,C:1};function Go(t,r){const i=[],s=[],a=new Array(12);a.fill(0);const f=new Array(12);f.fill(null);for(const v of t)v.position!==null&&(a[v.position]=v.owner+1,f[v.position]=v);const c=new Array(12),u=new Array(12);for(let v=0;v<12;v++)c[v]=[],u[v]=[];for(let v=0;v<8;v++){const T=t[v];if(T.owner===r)if(T.position===null)for(let S=0;S<12;S++)a[S]||s.push([v,S]);else{const S=T.position%3,G=T.position/3|0,B=$r[T.type];for(const D of B){const[te,ue]=r?[D[0],D[1]]:[-D[0],-D[1]],Q=S+te,ne=G+ue;if(Q>=0&&Q<3&&ne>=0&&ne<4){const ee=3*ne+Q;c[ee].push(v),a[ee]!==T.owner+1&&((v===1||v===5)&&i.push(ee),s.push([v,ee]))}}}else if(T.position!==null){const S=T.position%3,G=T.position/3|0,B=$r[T.type];for(const D of B){const[te,ue]=r?[-D[0],-D[1]]:[D[0],D[1]],Q=S+te,ne=G+ue;Q>=0&&Q<3&&ne>=0&&ne<4&&u[3*ne+Q].push(v)}}}const g=[];for(let v=0;v<12;v++){const T=f[v];if(!T||T.owner===r)continue;const S=Be[T.type];let G=c[v];if(G.length!==0)if(u[v].length===0)g.push([v,S]);else{const B=Math.min(...G.map(D=>Be[t[D].type]));S>=B&&g.push([v,S-B])}}const h=r?t[1].position:t[5].position,_=c[h];if(_.length>0)return[_[0],r?t[1].position:t[5].position];const b=r?5:1,$=t[b].position,C=u[$];if(C.length>0){const v=C[0],T=t[v].position,S=c[T],G=g.find(B=>B[0]===T);if(G)return console.log("protect the lion"),[Et(c[G[0]],D=>Be[t[D].type]),T];{const B=i.filter(D=>u[D].length===0);return B.length>0?(console.log("move the lion"),[b,mt(B)]):S.length>0?(console.log("protect the lion with a unfavourable move"),[Et(S,te=>Be[t[te].type]),T]):(console.log("don't protect the lion",c,u,T),mt(s))}}if(g.length>0){const v=No(g,S=>S[1])[0],T=Et(c[v],S=>Be[t[S].type]);return console.log(g,v,T),[T,v]}const w=s.filter(([v,T])=>{const S=Be[t[v].type],G=u[T];if(G.length===0)return!0;const B=Et(G,te=>Be[t[te].type]);return c[T].length===0?!1:S<=B&&G.length<=1});if(w.length>0)return console.log("really safe"),mt(w);const x=s.filter(([v,T])=>v!==1&&v!==5||u[T].length===0);return x.length>0?(console.log("safe"),mt(x)):mt(s)}var Fo=se('<div class="relative w-screen min-h-screen bg-main bg-cover bg-no-repeat flex flew-row items-center justify-around portrait:flex-col"><div class="absolute bg-white w-full h-full opacity-30 z-10 pointer-events-none"></div><div class="flex flex-col bg-board b-cover p-6 border-2 border-black rounded-xl gap-4 z-20"><div class=text-4xl>Catch the lion</div><button class=btn>Nouvelle partie</button><button class=btn>Annuler</button><button class=btn>Tutoriel</button><button class=btn>Information'),Bo=se("<dialog class=dialog>");const Ho=()=>{let t;const[r,i]=ni(Li()),s=(h,_)=>{const{owner:b,type:$,position:C}=r.pieces[h];$e(()=>{const w=r.pieces.map(v=>({...v}));i("played",r.played.length,w);let x=r.pieces.findIndex(v=>v.position===_);x>=0&&(i("pieces",x,{position:null,owner:b}),i("pieces",x,"type",v=>v==="H"?"C":v),r.pieces[x].type==="L"&&i("outcome",b)),i("pieces",h,"position",_),$==="C"&&C!==null&&(b&&_>8||!b&&_<3)&&i("pieces",h,"type","H"),i("turn",v=>v===0?1:0)})},a=async(h,_)=>{if(r.config.adversary==="human")s(h,_);else{if($e(()=>{s(h,_),r.outcome===null&&i("isThinking",!0)}),r.outcome!==null)return;await Do(1500);const[b,$]=Go(r.pieces,r.turn);$e(()=>{i("isThinking",!1),s(b,$)})}},f=()=>{i(Gr(h=>{if(h.played.length){const _=h.played.pop();h.pieces=_,h.turn=h.turn===0?1:0,h.outcome=null}}))},c=()=>{i("dialogOpened",!0),t.showModal()},u=()=>{t.close(),i("dialogOpened",!1)},g=h=>{i(Gr(_=>{_.config={...h},_.pieces=ii(),_.played=[],_.outcome=null,_.turn=0,_.dialogOpened=!1})),t.close()};return[(()=>{var h=Fo(),_=h.firstChild,b=_.nextSibling,$=b.firstChild,C=$.nextSibling,w=C.nextSibling;return C.$$click=c,w.$$click=f,oe(h,Ue(yo,{get pieces(){return r.pieces},get turn(){return r.turn},get outcome(){return r.outcome},play:a}),null),oe(h,Ue($o,{get outcome(){return r.outcome}}),null),h})(),(()=>{var h=Bo(),_=t;return typeof _=="function"?xi(_,h):t=h,oe(h,(()=>{var b=le(()=>!!r.dialogOpened);return()=>b()&&Ue(Io,{get config(){return r.config},closeDialog:u,newGame:g})})()),h})()]};Pr(["click"]);const Uo=document.getElementById("root");mi(()=>Ue(Ho,{}),Uo);

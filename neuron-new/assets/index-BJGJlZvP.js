(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();const vt=(e,t)=>e===t,L=Symbol("solid-proxy"),wt=typeof Proxy=="function",ae=Symbol("solid-track"),ue={equals:vt};let xt=Ye;const R=1,fe=2,qe={owned:null,cleanups:null,context:null,owner:null};var S=null;let _e=null,_t=null,x=null,A=null,B=null,$e=0;function G(e,t){const n=x,r=S,l=e.length===0,s=t===void 0?r:t,i=l?qe:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=l?e:()=>e(()=>j(()=>te(i)));S=i,x=null;try{return Q(o,!0)}finally{x=n,S=r}}function ve(e,t){t=t?Object.assign({},ue,t):ue;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=l=>(typeof l=="function"&&(l=l(n.value)),Ge(n,l));return[Xe.bind(n),r]}function w(e,t,n){const r=He(e,t,!1,R);we(r)}function T(e,t,n){n=n?Object.assign({},ue,n):ue;const r=He(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,we(r),Xe.bind(r)}function X(e){return Q(e,!1)}function j(e){if(x===null)return e();const t=x;x=null;try{return e()}finally{x=t}}function Ue(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function ke(){return x}function St(e){const t=T(e),n=T(()=>Ae(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Xe(){if(this.sources&&this.state)if(this.state===R)we(this);else{const e=A;A=null,Q(()=>de(this),!1),A=e}if(x){const e=this.observers?this.observers.length:0;x.sources?(x.sources.push(this),x.sourceSlots.push(e)):(x.sources=[this],x.sourceSlots=[e]),this.observers?(this.observers.push(x),this.observerSlots.push(x.sources.length-1)):(this.observers=[x],this.observerSlots=[x.sources.length-1])}return this.value}function Ge(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Q(()=>{for(let l=0;l<e.observers.length;l+=1){const s=e.observers[l],i=_e&&_e.running;i&&_e.disposed.has(s),(i?!s.tState:!s.state)&&(s.pure?A.push(s):B.push(s),s.observers&&ze(s)),i||(s.state=R)}if(A.length>1e6)throw A=[],new Error},!1)),t}function we(e){if(!e.fn)return;te(e);const t=$e;Pt(e,e.value,t)}function Pt(e,t,n){let r;const l=S,s=x;x=S=e;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=R,e.owned&&e.owned.forEach(te),e.owned=null),e.updatedAt=n+1,Qe(i)}finally{x=s,S=l}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ge(e,r):e.value=r,e.updatedAt=n)}function He(e,t,n,r=R,l){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return S===null||S!==qe&&(S.owned?S.owned.push(s):S.owned=[s]),s}function Ve(e){if(e.state===0)return;if(e.state===fe)return de(e);if(e.suspense&&j(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$e);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===R)we(e);else if(e.state===fe){const r=A;A=null,Q(()=>de(e,t[0]),!1),A=r}}function Q(e,t){if(A)return e();let n=!1;t||(A=[]),B?n=!0:B=[],$e++;try{const r=e();return kt(n),r}catch(r){n||(B=null),A=null,Qe(r)}}function kt(e){if(A&&(Ye(A),A=null),e)return;const t=B;B=null,t.length&&Q(()=>xt(t),!1)}function Ye(e){for(let t=0;t<e.length;t++)Ve(e[t])}function de(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const l=r.state;l===R?r!==t&&(!r.updatedAt||r.updatedAt<$e)&&Ve(r):l===fe&&de(r,t)}}}function ze(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=fe,n.pure?A.push(n):B.push(n),n.observers&&ze(n))}}function te(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),l=n.observers;if(l&&l.length){const s=l.pop(),i=n.observerSlots.pop();r<l.length&&(s.sourceSlots[i]=r,l[r]=s,n.observerSlots[r]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)te(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)te(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function At(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Qe(e,t=S){throw At(e)}function Ae(e){if(typeof e=="function"&&!e.length)return Ae(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Ae(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const Ce=Symbol("fallback");function he(e){for(let t=0;t<e.length;t++)e[t]()}function Ct(e,t,n={}){let r=[],l=[],s=[],i=0,o=t.length>1?[]:null;return Ue(()=>he(s)),()=>{let c=e()||[],u=c.length,f,a;return c[ae],j(()=>{let _,$,C,E,N,k,O,d,p;if(u===0)i!==0&&(he(s),s=[],r=[],l=[],i=0,o&&(o=[])),n.fallback&&(r=[Ce],l[0]=G(I=>(s[0]=I,n.fallback())),i=1);else if(i===0){for(l=new Array(u),a=0;a<u;a++)r[a]=c[a],l[a]=G(m);i=u}else{for(C=new Array(u),E=new Array(u),o&&(N=new Array(u)),k=0,O=Math.min(i,u);k<O&&r[k]===c[k];k++);for(O=i-1,d=u-1;O>=k&&d>=k&&r[O]===c[d];O--,d--)C[d]=l[O],E[d]=s[O],o&&(N[d]=o[O]);for(_=new Map,$=new Array(d+1),a=d;a>=k;a--)p=c[a],f=_.get(p),$[a]=f===void 0?-1:f,_.set(p,a);for(f=k;f<=O;f++)p=r[f],a=_.get(p),a!==void 0&&a!==-1?(C[a]=l[f],E[a]=s[f],o&&(N[a]=o[f]),a=$[a],_.set(p,a)):s[f]();for(a=k;a<u;a++)a in C?(l[a]=C[a],s[a]=E[a],o&&(o[a]=N[a],o[a](a))):l[a]=G(m);l=l.slice(0,i=u),r=c.slice(0)}return l});function m(_){if(s[a]=_,o){const[$,C]=ve(a);return o[a]=C,t(c[a],$)}return t(c[a])}}}function Ot(e,t,n={}){let r=[],l=[],s=[],i=[],o=0,c;return Ue(()=>he(s)),()=>{const u=e()||[],f=u.length;return u[ae],j(()=>{if(f===0)return o!==0&&(he(s),s=[],r=[],l=[],o=0,i=[]),n.fallback&&(r=[Ce],l[0]=G(m=>(s[0]=m,n.fallback())),o=1),l;for(r[0]===Ce&&(s[0](),s=[],r=[],l=[],o=0),c=0;c<f;c++)c<r.length&&r[c]!==u[c]?i[c](()=>u[c]):c>=r.length&&(l[c]=G(a));for(;c<r.length;c++)s[c]();return o=i.length=s.length=f,r=u.slice(0),l=l.slice(0,o)});function a(m){s[c]=m;const[_,$]=ve(u[c]);return i[c]=$,t(_,c)}}}function h(e,t){return j(()=>e(t||{}))}function le(){return!0}const Tt={get(e,t,n){return t===L?n:e.get(t)},has(e,t){return t===L?!0:e.has(t)},set:le,deleteProperty:le,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:le,deleteProperty:le}},ownKeys(e){return e.keys()}};function Se(e){return(e=typeof e=="function"?e():e)?e:{}}function Et(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function se(...e){let t=!1;for(let i=0;i<e.length;i++){const o=e[i];t=t||!!o&&L in o,e[i]=typeof o=="function"?(t=!0,T(o)):o}if(wt&&t)return new Proxy({get(i){for(let o=e.length-1;o>=0;o--){const c=Se(e[o])[i];if(c!==void 0)return c}},has(i){for(let o=e.length-1;o>=0;o--)if(i in Se(e[o]))return!0;return!1},keys(){const i=[];for(let o=0;o<e.length;o++)i.push(...Object.keys(Se(e[o])));return[...new Set(i)]}},Tt);const n={},r=Object.create(null);for(let i=e.length-1;i>=0;i--){const o=e[i];if(!o)continue;const c=Object.getOwnPropertyNames(o);for(let u=c.length-1;u>=0;u--){const f=c[u];if(f==="__proto__"||f==="constructor")continue;const a=Object.getOwnPropertyDescriptor(o,f);if(!r[f])r[f]=a.get?{enumerable:!0,configurable:!0,get:Et.bind(n[f]=[a.get.bind(o)])}:a.value!==void 0?a:void 0;else{const m=n[f];m&&(a.get?m.push(a.get.bind(o)):a.value!==void 0&&m.push(()=>a.value))}}}const l={},s=Object.keys(r);for(let i=s.length-1;i>=0;i--){const o=s[i],c=r[o];c&&c.get?Object.defineProperty(l,o,c):l[o]=c?c.value:void 0}return l}const Je=e=>`Stale read from <${e}>.`;function Nt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return T(Ct(()=>e.each,e.children,t||void 0))}function F(e){const t="fallback"in e&&{fallback:()=>e.fallback};return T(Ot(()=>e.each,e.children,t||void 0))}function Z(e){const t=e.keyed,n=T(()=>e.when,void 0,{equals:(r,l)=>t?r===l:!r==!l});return T(()=>{const r=n();if(r){const l=e.children;return typeof l=="function"&&l.length>0?j(()=>l(t?r:()=>{if(!j(n))throw Je("Show");return e.when})):l}return e.fallback},void 0,void 0)}function Ze(e){let t=!1;const n=(s,i)=>(t?s[1]===i[1]:!s[1]==!i[1])&&s[2]===i[2],r=St(()=>e.children),l=T(()=>{let s=r();Array.isArray(s)||(s=[s]);for(let i=0;i<s.length;i++){const o=s[i].when;if(o)return t=!!s[i].keyed,[i,o,s[i]]}return[-1]},void 0,{equals:n});return T(()=>{const[s,i,o]=l();if(s<0)return e.fallback;const c=o.children;return typeof c=="function"&&c.length>0?j(()=>c(t?i:()=>{if(j(l)[0]!==s)throw Je("Match");return o.when})):c},void 0,void 0)}function ee(e){return e}function jt(e,t,n){let r=n.length,l=t.length,s=r,i=0,o=0,c=t[l-1].nextSibling,u=null;for(;i<l||o<s;){if(t[i]===n[o]){i++,o++;continue}for(;t[l-1]===n[s-1];)l--,s--;if(l===i){const f=s<r?o?n[o-1].nextSibling:n[s-o]:c;for(;o<s;)e.insertBefore(n[o++],f)}else if(s===o)for(;i<l;)(!u||!u.has(t[i]))&&t[i].remove(),i++;else if(t[i]===n[s-1]&&n[o]===t[l-1]){const f=t[--l].nextSibling;e.insertBefore(n[o++],t[i++].nextSibling),e.insertBefore(n[--s],f),t[l]=n[s]}else{if(!u){u=new Map;let a=o;for(;a<s;)u.set(n[a],a++)}const f=u.get(t[i]);if(f!=null)if(o<f&&f<s){let a=i,m=1,_;for(;++a<l&&a<s&&!((_=u.get(t[a]))==null||_!==f+m);)m++;if(m>f-o){const $=t[i];for(;o<f;)e.insertBefore(n[o++],$)}else e.replaceChild(n[o++],t[i++])}else i++;else t[i++].remove()}}}const Ne="_$DX_DELEGATE";function Lt(e,t,n,r={}){let l;return G(s=>{l=s,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{l(),t.textContent=""}}function g(e,t,n){let r;const l=()=>{const i=document.createElement("template");return i.innerHTML=e,n?i.content.firstChild.firstChild:i.content.firstChild},s=t?()=>j(()=>document.importNode(r||(r=l()),!0)):()=>(r||(r=l())).cloneNode(!0);return s.cloneNode=s,s}function K(e,t=window.document){const n=t[Ne]||(t[Ne]=new Set);for(let r=0,l=e.length;r<l;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Dt))}}function P(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function et(e,t){t==null?e.removeAttribute("class"):e.className=t}function D(e,t,n,r){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function It(e,t,n={}){const r=Object.keys(t||{}),l=Object.keys(n);let s,i;for(s=0,i=l.length;s<i;s++){const o=l[s];!o||o==="undefined"||t[o]||(je(e,o,!1),delete n[o])}for(s=0,i=r.length;s<i;s++){const o=r[s],c=!!t[o];!o||o==="undefined"||n[o]===c||!c||(je(e,o,!0),n[o]=c)}return n}function Mt(e,t,n){return j(()=>e(t,n))}function y(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ge(e,t,r,n);w(l=>ge(e,t(),l,n),r)}function je(e,t,n){const r=t.trim().split(/\s+/);for(let l=0,s=r.length;l<s;l++)e.classList.toggle(r[l],n)}function Dt(e){let t=e.target;const n=`$$${e.type}`,r=e.target,l=e.currentTarget,s=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),i=()=>{const c=t[n];if(c&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?c.call(t,u,e):c.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},o=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const c=e.composedPath();s(c[0]);for(let u=0;u<c.length-2&&(t=c[u],!!i());u++){if(t._$host){t=t._$host,o();break}if(t.parentNode===l)break}}else o();s(r)}function ge(e,t,n,r,l){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,i=r!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(i){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=U(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=U(e,n,r);else{if(s==="function")return w(()=>{let o=t();for(;typeof o=="function";)o=o();n=ge(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],c=n&&Array.isArray(n);if(Oe(o,t,n,l))return w(()=>n=ge(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=U(e,n,r),i)return n}else c?n.length===0?Le(e,o,r):jt(e,n,o):(n&&U(e),Le(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=U(e,n,r,t);U(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Oe(e,t,n,r){let l=!1;for(let s=0,i=t.length;s<i;s++){let o=t[s],c=n&&n[e.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))l=Oe(e,o,c)||l;else if(u==="function")if(r){for(;typeof o=="function";)o=o();l=Oe(e,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||l}else e.push(o),l=!0;else{const f=String(o);c&&c.nodeType===3&&c.data===f?e.push(c):e.push(document.createTextNode(f))}}return l}function Le(e,t,n=null){for(let r=0,l=t.length;r<l;r++)e.insertBefore(t[r],n)}function U(e,t,n,r){if(n===void 0)return e.textContent="";const l=r||document.createTextNode("");if(t.length){let s=!1;for(let i=t.length-1;i>=0;i--){const o=t[i];if(l!==o){const c=o.parentNode===e;!s&&!i?c?e.replaceChild(l,o):e.insertBefore(l,n):c&&o.remove()}else s=!0}}else e.insertBefore(l,n);return[l]}const ye=Symbol("store-raw"),H=Symbol("store-node"),M=Symbol("store-has"),tt=Symbol("store-self");function nt(e){let t=e[L];if(!t&&(Object.defineProperty(e,L,{value:t=new Proxy(e,Bt)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let l=0,s=n.length;l<s;l++){const i=n[l];r[i].get&&Object.defineProperty(e,i,{enumerable:r[i].enumerable,get:r[i].get.bind(t)})}}return t}function V(e){let t;return e!=null&&typeof e=="object"&&(e[L]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Y(e,t=new Set){let n,r,l,s;if(n=e!=null&&e[ye])return n;if(!V(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let i=0,o=e.length;i<o;i++)l=e[i],(r=Y(l,t))!==l&&(e[i]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const i=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let c=0,u=i.length;c<u;c++)s=i[c],!o[s].get&&(l=e[s],(r=Y(l,t))!==l&&(e[s]=r))}return e}function be(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ne(e,t,n){if(e[t])return e[t];const[r,l]=ve(n,{equals:!1,internal:!0});return r.$=l,e[t]=r}function Ft(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===L||t===H||(delete n.value,delete n.writable,n.get=()=>e[L][t]),n}function rt(e){ke()&&ne(be(e,H),tt)()}function Wt(e){return rt(e),Reflect.ownKeys(e)}const Bt={get(e,t,n){if(t===ye)return e;if(t===L)return n;if(t===ae)return rt(e),n;const r=be(e,H),l=r[t];let s=l?l():e[t];if(t===H||t===M||t==="__proto__")return s;if(!l){const i=Object.getOwnPropertyDescriptor(e,t);ke()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(i&&i.get)&&(s=ne(r,t,s)())}return V(s)?nt(s):s},has(e,t){return t===ye||t===L||t===ae||t===H||t===M||t==="__proto__"?!0:(ke()&&ne(be(e,M),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Wt,getOwnPropertyDescriptor:Ft};function z(e,t,n,r=!1){if(!r&&e[t]===n)return;const l=e[t],s=e.length;n===void 0?(delete e[t],e[M]&&e[M][t]&&l!==void 0&&e[M][t].$()):(e[t]=n,e[M]&&e[M][t]&&l===void 0&&e[M][t].$());let i=be(e,H),o;if((o=ne(i,t,l))&&o.$(()=>n),Array.isArray(e)&&e.length!==s){for(let c=e.length;c<s;c++)(o=i[c])&&o.$();(o=ne(i,"length",s))&&o.$(e.length)}(o=i[tt])&&o.$()}function lt(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const l=n[r];z(e,l,t[l])}}function Rt(e,t){if(typeof t=="function"&&(t=t(e)),t=Y(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const l=t[n];e[n]!==l&&z(e,n,l)}z(e,"length",r)}else lt(e,t)}function J(e,t,n=[]){let r,l=e;if(t.length>1){r=t.shift();const i=typeof r,o=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)J(e,[r[c]].concat(t),n);return}else if(o&&i==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&J(e,[c].concat(t),n);return}else if(o&&i==="object"){const{from:c=0,to:u=e.length-1,by:f=1}=r;for(let a=c;a<=u;a+=f)J(e,[a].concat(t),n);return}else if(t.length>1){J(e[r],t,[r].concat(n));return}l=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(l,n),s===l)||r===void 0&&s==null||(s=Y(s),r===void 0||V(l)&&V(s)&&!Array.isArray(s)?lt(l,s):z(e,r,s))}function Kt(...[e,t]){const n=Y(e||{}),r=Array.isArray(n),l=nt(n);function s(...i){X(()=>{r&&i.length===1?Rt(n,i[0]):J(n,i)})}return[l,s]}const me=new WeakMap,st={get(e,t){if(t===ye)return e;const n=e[t];let r;return V(n)?me.get(n)||(me.set(n,r=new Proxy(n,st)),r):n},set(e,t,n){return z(e,t,Y(n)),!0},deleteProperty(e,t){return z(e,t,void 0,!0),!0}};function qt(e){return t=>{if(V(t)){let n;(n=me.get(t))||me.set(t,n=new Proxy(t,st)),e(n)}return t}}function xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ut(e,t){for(var n,r=-1,l=e.length;++r<l;){var s=t(e[r]);s!==void 0&&(n=n===void 0?s:n+s)}return n}function Xt(e){return e}function Gt(e){return e&&e.length?Ut(e,Xt):0}var Ht=Gt;const Vt=xe(Ht);var Yt="[object Symbol]",zt=Object.prototype,Qt=zt.toString;function Jt(e,t,n){for(var r=-1,l=e.length;++r<l;){var s=e[r],i=t(s);if(i!=null&&(o===void 0?i===i&&!tn(i):n(i,o)))var o=i,c=s}return c}function Zt(e,t){return e<t}function en(e){return!!e&&typeof e=="object"}function tn(e){return typeof e=="symbol"||en(e)&&Qt.call(e)==Yt}function nn(e){return e}function rn(e){return e&&e.length?Jt(e,nn,Zt):void 0}var ln=rn;const sn=xe(ln);var on="[object Symbol]",cn=Object.prototype,an=cn.toString;function un(e,t,n){for(var r=-1,l=e.length;++r<l;){var s=e[r],i=t(s);if(i!=null&&(o===void 0?i===i&&!hn(i):n(i,o)))var o=i,c=s}return c}function fn(e,t){return e>t}function dn(e){return!!e&&typeof e=="object"}function hn(e){return typeof e=="symbol"||dn(e)&&an.call(e)==on}function gn(e){return e}function yn(e){return e&&e.length?un(e,gn,fn):void 0}var bn=yn;const mn=xe(bn);var Ie=1/0,it=9007199254740991,pn=17976931348623157e292,Me=NaN,$n="[object Function]",vn="[object GeneratorFunction]",wn="[object Symbol]",xn=/^\s+|\s+$/g,_n=/^[-+]0x[0-9a-f]+$/i,Sn=/^0b[01]+$/i,Pn=/^0o[0-7]+$/i,kn=/^(?:0|[1-9]\d*)$/,An=parseInt,Cn=Object.prototype,ot=Cn.toString,On=Math.ceil,Tn=Math.max;function En(e,t,n,r){for(var l=-1,s=Tn(On((t-e)/(n||1)),0),i=Array(s);s--;)i[++l]=e,e+=n;return i}function Nn(e){return function(t,n,r){return r&&typeof r!="number"&&Ln(t,n,r)&&(n=r=void 0),t=Pe(t),n===void 0?(n=t,t=0):n=Pe(n),r=r===void 0?t<n?1:-1:Pe(r),En(t,n,r)}}function jn(e,t){return t=t??it,!!t&&(typeof e=="number"||kn.test(e))&&e>-1&&e%1==0&&e<t}function Ln(e,t,n){if(!pe(n))return!1;var r=typeof t;return(r=="number"?Mn(n)&&jn(t,n.length):r=="string"&&t in n)?In(n[t],e):!1}function In(e,t){return e===t||e!==e&&t!==t}function Mn(e){return e!=null&&Fn(e.length)&&!Dn(e)}function Dn(e){var t=pe(e)?ot.call(e):"";return t==$n||t==vn}function Fn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=it}function pe(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Wn(e){return!!e&&typeof e=="object"}function Bn(e){return typeof e=="symbol"||Wn(e)&&ot.call(e)==wn}function Pe(e){if(!e)return e===0?e:0;if(e=Rn(e),e===Ie||e===-Ie){var t=e<0?-1:1;return t*pn}return e===e?e:0}function Rn(e){if(typeof e=="number")return e;if(Bn(e))return Me;if(pe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(xn,"");var n=Sn.test(e);return n||Pn.test(e)?An(e.slice(2),n?2:8):_n.test(e)?Me:+e}var Kn=Nn(),qn=Kn;const Un=xe(qn);function Xn(e,t){let n=new Array(e);return n.fill(t),n}function De(e,t){let n=0;const r=e.length;for(let l=0;l<r;l++)n+=e[l]*t[l];return n}function Fe(e,t,n){return e.map((r,l)=>n(r,t[l]))}const Gn=e=>new Promise(t=>setTimeout(t,e)),Hn=()=>[0,0,0,0,0,0,0,0,1,1,1,0,0,1,0,0,1,1,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,1,1,0,1,0,0,1,0,0,0,1,1,0,0].map(e=>e===1),Vn=()=>[0,0,1,1,0,0,0,1,1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1,0,0].map(e=>e===1),Yn=()=>[0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,1,1,0,0,0,0,0,0,0].map(e=>e===1),zn=()=>[0,0,0,0,0,0,0,0,1,1,1,0,0,0,1,0,1,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,1,1,0,1,0,0,1,0,0,0,1,1,1,0,0,0,0,0,0,0].map(e=>e===1),Qn=()=>[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0].map(e=>e===1),Jn=()=>[0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,1,1,1,0].map(e=>e===1),Zn=()=>[0,1,1,1,0,0,0,0,0,1,1,0,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,0,1,1,1,0,0].map(e=>e===1),er=()=>[0,0,1,1,1,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,1,0,0].map(e=>e===1),tr=()=>[0,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,1,1,1,1,0,0,1,0,0,0,1,0,1,1,1,1,0,0,0,0,0,0,0].map(e=>e===1),nr=()=>[0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,1,0,0,0,1,1,1,1,0,0,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1,0,0].map(e=>e===1),rr=()=>[0,0,0,0,0,0,0,0,1,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,1,0,1,1,1,0,1,1,0,0,1,1,0,1,0,0,1,0,0,1,1,1,1,0].map(e=>e===1),lr=()=>[0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,1,0,0,0,0,1,1,0,0,0,0,1,1,1,1,1,0,1,0,0,0,1,0,1,0,0,1,1,0,0,1,1,0,0].map(e=>e===1),sr=()=>[0,0,1,1,0,0,0,1,0,1,0,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,1,0].map(e=>e===1),ir=()=>[0,0,1,1,0,0,0,1,0,0,1,0,0,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,1,1,0].map(e=>e===1),or=()=>[0,0,0,0,0,0,0,0,1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,1,1,0,0,1,1,1,0,0].map(e=>e===1),cr=()=>[0,0,0,0,0,0,0,1,1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,1,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,1,0,0,1,0,0,0,1,1,0,0].map(e=>e===1),W=()=>Xn(54,!1),ct=[[1,1,1,0,0,0],[1,1,0,0,0,1],[0,0,1,1,1,0],[0,1,0,1,0,1],[1,0,0,0,1,1],[0,0,0,1,1,1]].map(e=>e.map(t=>t===1)),ar=[()=>({symbol:0,pattern:Hn(),selected:!0}),()=>({symbol:0,pattern:Vn(),selected:!0}),()=>({symbol:0,pattern:Yn(),selected:!0}),()=>({symbol:0,pattern:zn(),selected:!0}),()=>({symbol:0,pattern:W(),selected:!1}),()=>({symbol:0,pattern:W(),selected:!1}),()=>({symbol:1,pattern:Qn(),selected:!0}),()=>({symbol:1,pattern:Jn(),selected:!0}),()=>({symbol:1,pattern:Zn(),selected:!0}),()=>({symbol:1,pattern:er(),selected:!0}),()=>({symbol:1,pattern:W(),selected:!1}),()=>({symbol:1,pattern:W(),selected:!1}),()=>({symbol:2,pattern:tr(),selected:!0}),()=>({symbol:2,pattern:nr(),selected:!0}),()=>({symbol:2,pattern:rr(),selected:!0}),()=>({symbol:2,pattern:lr(),selected:!0}),()=>({symbol:2,pattern:W(),selected:!1}),()=>({symbol:2,pattern:W(),selected:!1}),()=>({symbol:3,pattern:sr(),selected:!0}),()=>({symbol:3,pattern:ir(),selected:!0}),()=>({symbol:3,pattern:or(),selected:!0}),()=>({symbol:3,pattern:cr(),selected:!0}),()=>({symbol:3,pattern:W(),selected:!1}),()=>({symbol:3,pattern:W(),selected:!1})],at=()=>ar.map(e=>e()),ur=(e,t)=>Vt(t.map((n,r)=>{const l=r/18|0,s=r%6/2|0;return n&&(e<3?s==e:l==e-3)}));function fr(e){for(let t=0;;t++)if(!e.includes(t))return t}function dr(e,t,n,r){const l=t.output.map(({hidden:a,final:m})=>n==1?a[r]:m[r]),s=sn(l)??0,i=mn(l)??0,o=l.map(a=>(a-s)/(i-s)),c=[],u=e.length;for(let a=0;a<u;a++)e[a].selected&&c.push({symbol:e[a].symbol,value:o[a]});c.sort((a,m)=>a.value-m.value);const f=[];for(const{symbol:a,value:m}of c){const _=f.filter(C=>m-C.x<=.049).map(C=>C.y),$=fr(_);f.push({symbol:a,x:m,y:$})}return{zero:-s/(i-s),symbols:f,graduation:Un(Math.floor(s),Math.ceil(i)+1).map(a=>({value:a,x:(a-s)/(i-s)}))}}function hr(e){return e.map(({pattern:t})=>[0,1,2,3,4,5].map(n=>ur(n,t)))}function ut(e,t){return e.map(n=>{const r=Fe(t.hiddenThresholds,t.hiddenWeights,(s,i)=>Math.max(0,De(n,i)-s));return{final:Fe(t.finalThresholds,t.finalWeights,(s,i)=>De(r,i)-s),hidden:r}})}const gr=()=>({hiddenThresholds:[8,7,18,6,16,5],hiddenWeights:[[-1,1,1,0,0,0],[1,1,0,0,0,-1],[0,0,1,1,1,0],[0,1,0,-1,0,1],[1,0,0,0,1,1],[0,0,0,1,-1,1]],finalThresholds:[7,5,6,5],finalWeights:[[-1,-1,1,-1,1,1],[1,1,-1,1,-1,0],[-1,1,-1,1,1,-1],[1,1,1,-1,-1,0]],output:[],iter:0}),We=()=>({patterns:at(),inputs:[],states:[gr()],currentState:0,currentPattern:0,selectedInput:null,editMode:!1,dialog:{type:"none"}}),ie=1e-4,oe=.7,yr=6e4,br=[0,100,200,300,400,500,1e3,2e3,3e3,4e3,5e3,1e4,2e4,3e4,4e4,5e4],ce=(e,t)=>t?-oe*Math.exp(-oe*e):oe*Math.exp(oe*e),mr=(e,t,n,r)=>{const{iter:l,hiddenThresholds:s,hiddenWeights:i,finalThresholds:o,finalWeights:c,output:u}=e,f=[...o],a=c.map($=>[...$]),m=[...s],_=i.map($=>[...$]);for(let $=0;$<24;$++){const{selected:C,symbol:E}=t[$];if(C){const{final:N,hidden:k}=u[$],O=n[$];for(let d=0;d<4;d++)f[d]+=10*ie*ce(N[d],d==E);for(let d=0;d<4;d++)for(let p=0;p<6;p++)a[d][p]-=ie*ce(N[d],E==d)*k[p];for(let d=0;d<6;d++)if(k[d]>0)for(let p=0;p<4;p++)m[d]+=ie*ce(N[p],E==p)*i[p][d];for(let d=0;d<6;d++)if(k[d]>0){for(let p=0;p<6;p++)if(r[d][p])for(let I=0;I<4;I++)_[d][p]-=ie*ce(N[I],E==I)*c[I][d]*O[p]}}}return{iter:l+1,finalThresholds:f,finalWeights:a,hiddenThresholds:m,hiddenWeights:_,output:[]}};function pr(e){const t=[];let n=e.states[0];const r=e.inputs.map(s=>[...s]),l=e.patterns.map(s=>({...s}));for(let s=0;s<yr;s++)br.includes(s)&&t.push(n),n=mr(n,l,r,ct),n.output=ut(r,n);return t.push(n),t}var $r=g('<div class="overflow-hidden relative border-4 border-slate-400 m-2 w-[30vmin] h-[45vmin] cursor-pointer">'),vr=g('<div class="absolute pointer-events-none">');const wr=["white","black","lightgreen","darkgreen"],xr=e=>(()=>{var t=$r();return D(t,"click",e.onClick),y(t,h(F,{get each(){return e.pattern.pattern},children:(n,r)=>{const l=r/6|0,s=r%6,i=[(l/3|0)+3,s/2|0];return(()=>{var o=vr();return o.style.setProperty("width","16.66666666%"),o.style.setProperty("height","11.1111111111%"),`${s*100/6}%`!=null?o.style.setProperty("left",`${s*100/6}%`):o.style.removeProperty("left"),`${l*100/9}%`!=null?o.style.setProperty("top",`${l*100/9}%`):o.style.removeProperty("top"),w(c=>(c=wr[Number(i.includes(e.selectedCaptor))*2+Number(n())])!=null?o.style.setProperty("background",c):o.style.removeProperty("background")),o})()}})),t})();K(["click"]);const _r="relative w-11 h-6 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-800 rounded-full peer bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all border-gray-600 peer-checked:bg-blue-600",ft=["#A3E635","#60A5FA","#EC4899","#FACC15"];var Sr=g("<svg><use x=-3.0 y=-3.0 width=6 height=6 class=pointer-events-none></svg>",!1,!0);const Be=e=>(()=>{var t=Sr();return w(()=>P(t,"href",`#neuron-${e.idx}`)),t})();var Pr=g("<svg><line stroke-width=0.5 stroke=white></svg>",!1,!0),kr=g('<svg viewBox="0 0 150 100">'),Ar=g("<svg><line x1=0 x2=15 stroke-width=0.5 stroke=white></svg>",!1,!0),Cr=g("<svg><line x1=105 x2=120 stroke-width=0.5 stroke=white></svg>",!1,!0),Or=g("<svg><g><circle r=5 fill=white></svg>",!1,!0),Tr=g("<svg><g><circle r=5 fill=white class=cursor-pointer></svg>",!1,!0),Er=g("<svg><g><circle r=5 class=cursor-pointer></circle><text x=20 font-size=0.4rem></svg>",!1,!0);const Re=e=>(()=>{var t=Pr();return w(n=>{var r=e.layer1<=1?10+15*e.row1:20+20*e.row1,l=e.layer2<=1?10+15*e.row2:20+20*e.row2,s=e.layer1===0?15:e.layer1===1?60:105,i=e.layer2===0?15:e.layer2===1?60:105;return r!==n.e&&P(t,"y1",n.e=r),l!==n.t&&P(t,"y2",n.t=l),s!==n.a&&P(t,"x1",n.a=s),i!==n.o&&P(t,"x2",n.o=i),n},{e:void 0,t:void 0,a:void 0,o:void 0}),t})(),Nr=e=>(()=>{var t=kr();return y(t,()=>ct.map((n,r)=>T(()=>n.map((l,s)=>l&&h(Re,{layer1:0,layer2:1,row1:s,row2:r})))),null),y(t,()=>[0,1,2,3,4,5].map(n=>T(()=>[0,1,2,3].map(r=>h(Re,{layer1:1,layer2:2,row1:n,row2:r})))),null),y(t,()=>[0,1,2,3,4,5].map(n=>(()=>{var r=Ar();return P(r,"y1",10+15*n),P(r,"y2",10+15*n),r})()),null),y(t,()=>[0,1,2,3].map(n=>(()=>{var r=Cr();return P(r,"y1",20+20*n),P(r,"y2",20+20*n),r})()),null),y(t,()=>[0,1,2,3,4,5].map(n=>(()=>{var r=Or(),l=r.firstChild;return`translate(10%, ${10+15*n}%)`!=null?r.style.setProperty("transform",`translate(10%, ${10+15*n}%)`):r.style.removeProperty("transform"),l.addEventListener("pointerleave",()=>e.selectInput(null)),l.addEventListener("pointerenter",()=>e.selectInput(n)),y(r,h(Be,{idx:n}),null),r})()),null),y(t,()=>[0,1,2,3,4,5].map(n=>(()=>{var r=Tr(),l=r.firstChild;return`translate(40%, ${10+15*n}%)`!=null?r.style.setProperty("transform",`translate(40%, ${10+15*n}%)`):r.style.removeProperty("transform"),l.$$click=()=>e.openNeuronDialog(1,n),y(r,h(Be,{idx:n+6}),null),r})()),null),y(t,h(F,{get each(){return e.final},children:(n,r)=>(()=>{var l=Er(),s=l.firstChild,i=s.nextSibling;return`translate(70%, ${20+20*r}%)`!=null?l.style.setProperty("transform",`translate(70%, ${20+20*r}%)`):l.style.removeProperty("transform"),s.$$click=()=>e.openNeuronDialog(2,r),y(i,()=>n()>0?"✓":"⨯"),w(o=>{var c=ft[r],u=n()>0?"green":"red";return c!==o.e&&P(s,"fill",o.e=c),u!==o.t&&P(i,"stroke",o.t=u),o},{e:void 0,t:void 0}),l})()}),null),t})();K(["click"]);var jr=g('<div class="overflow-hidden relative bg-white border-4 border-slate-400 m-2 w-20 h-[7.5rem]">'),Lr=g("<div>");const Ir=["bg-green-400","bg-blue-400","bg-pink-500","bg-yellow-400"],Mr=e=>(()=>{var t=jr();return D(t,"click",e.onClick),y(t,h(F,{get each(){return e.pattern.pattern},children:(n,r)=>(()=>{var l=Lr();return l.style.setProperty("width","16.66666666%"),l.style.setProperty("height","11.1111111111%"),`${r%6*100/6}%`!=null?l.style.setProperty("left",`${r%6*100/6}%`):l.style.removeProperty("left"),`${(r/6|0)*100/9}%`!=null?l.style.setProperty("top",`${(r/6|0)*100/9}%`):l.style.removeProperty("top"),w(()=>et(l,"absolute "+(n()?Ir[e.pattern.symbol]:"bg-white"))),l})()})),w(n=>{var r=!!e.isCurrent,l=!e.isCurrent;return r!==n.e&&t.classList.toggle("border-green-500",n.e=r),l!==n.t&&t.classList.toggle("border-slate-400",n.t=l),n},{e:void 0,t:void 0}),t})();K(["click"]);var Dr=g("<div class=dialogtitle>Modifier le motif"),Fr=g('<div class="dialogbody flex flex-row portrait:flex-col items-center gap-8"><div class="m-2 overflow-hidden relative bg-white border-4 w-64 h-96"></div><div class="grid grid-cols-6 gap-1">'),Wr=g('<div class="p-4 text-right"><button class=btn>Réinitialiser</button><button class="btn ml-4">OK'),Br=g("<div class=absolute>"),Rr=g('<div class="flex flex-row items-center"><label class="relative inline-flex items-center cursor-pointer"><input type=checkbox class="sr-only peer"><div>');const Kr=e=>[Dr(),(()=>{var t=Fr(),n=t.firstChild,r=n.nextSibling;return y(n,h(F,{get each(){return e.patterns[e.currentPattern].pattern},children:(l,s)=>(()=>{var i=Br();return i.$$click=e.changePixel,i.$$clickData=s,i.style.setProperty("width","16.66666666%"),i.style.setProperty("height","11.1111111111%"),`${100*(s%6)/6}%`!=null?i.style.setProperty("left",`${100*(s%6)/6}%`):i.style.removeProperty("left"),`${100*(s/6|0)/9}%`!=null?i.style.setProperty("top",`${100*(s/6|0)/9}%`):i.style.removeProperty("top"),w(o=>(o=l()?"black":"white")!=null?i.style.setProperty("background",o):i.style.removeProperty("background")),i})()})),y(r,h(F,{get each(){return e.patterns},children:(l,s)=>(()=>{var i=Rr(),o=i.firstChild,c=o.firstChild,u=c.nextSibling;return c.addEventListener("change",f=>e.togglePattern(s,f)),et(u,`rotate-90 ${_r}`),y(i,h(Mr,{get pattern(){return l()},get isCurrent(){return s===e.currentPattern},get onClick(){return[e.setCurrentPattern,s]}}),null),w(()=>c.checked=l().selected),i})()})),t})(),(()=>{var t=Wr(),n=t.firstChild,r=n.nextSibling;return D(n,"click",e.resetPatterns),D(r,"click",e.closeDialog),t})()];K(["click"]);var qr=g('<div class=border><svg viewBox="-10 0 120 30"><rect x=-10 y=0 width=120 height=40 fill=#B0FFB0></rect><rect x=-10 y=0 height=40 fill=#FFB0B0>'),Ur=g("<svg><line y1=0 y2=30 stroke-width=0.2 stroke=#808080 stroke-dasharray=0.5></svg>",!1,!0),Xr=g("<svg><g><rect x=-2.5 y=0 width=5 height=5></rect><text x=-1 y=4.5 font-size=0.3rem></svg>",!1,!0);const dt=e=>{const t=T(()=>dr(e.patterns,e.state,e.layer,e.idx));return(()=>{var n=qr(),r=n.firstChild,l=r.firstChild,s=l.nextSibling;return y(r,h(Nt,{get each(){return t().graduation},children:i=>(()=>{var o=Ur();return w(c=>{var u=i.x*100-2.5,f=i.x*100-2.5;return u!==c.e&&P(o,"x1",c.e=u),f!==c.t&&P(o,"x2",c.t=f),c},{e:void 0,t:void 0}),o})()}),null),y(r,h(F,{get each(){return t().symbols},children:i=>(()=>{var o=Xr(),c=o.firstChild,u=c.nextSibling;return y(u,()=>i().symbol*3),w(f=>{var a=`translate(${i().x*100}px, ${25-i().y*5}px)`,m=ft[i().symbol];return a!==f.e&&((f.e=a)!=null?o.style.setProperty("transform",a):o.style.removeProperty("transform")),m!==f.t&&P(c,"fill",f.t=m),f},{e:void 0,t:void 0}),o})()}),null),w(i=>{var o={"w-[40vw]":e.small,"portrait:w-[80vw]":e.small,"w-[75vw]":!e.small},c=7.5+t().zero*100;return i.e=It(n,o,i.e),c!==i.t&&P(s,"width",i.t=c),i},{e:void 0,t:void 0}),n})()};var Gr=g("<div class=dialogtitle>Neurones de sortie"),Hr=g('<div><button class=btn>Lancer</button><input class="inputrange range-lg"type=range min=0>'),Vr=g(`<div class="dialogbody flex flex-col "><div class="grid grid-cols-2 gap-8 portrait:flex portrait:flex-col"></div><div class="h-24 mt-12 largetext grid grid-cols-2 gap-8">Nombre d'itérations: `),Yr=g('<div class="p-4 text-right"><button class=btn>Apprendre</button><button class="btn ml-4">OK');const zr=e=>[Gr(),(()=>{var t=Vr(),n=t.firstChild,r=n.nextSibling;return r.firstChild,y(n,h(F,{each:[0,1,2,3],children:l=>h(dt,{small:!0,layer:2,get idx(){return l()},get patterns(){return e.patterns},get state(){return e.state}})})),y(r,()=>e.state.iter,null),y(r,h(Z,{get when(){return e.nbStates>1},get children(){var l=Hr(),s=l.firstChild,i=s.nextSibling;return D(s,"click",e.runSimulation),i.addEventListener("change",o=>e.changeCurrentState(o.currentTarget.valueAsNumber)),w(()=>P(i,"max",e.nbStates-1)),w(()=>i.value=e.stateIdx),l}}),null),t})(),(()=>{var t=Yr(),n=t.firstChild,r=n.nextSibling;return D(n,"click",e.learn),D(r,"click",e.closeDialog),t})()];K(["click"]);var Ke=g("<span>"),Qr=g("<input class=inputnumber type=number>"),Jr=g("<div class=largetext><br>Seuil: "),Zr=g("<span class=mx-4>+"),el=g('<span><input class=inputnumber type=number><div class="inline-block w-8 h-8"><svg class="w-full h-full"><use>'),tl=g('<div class="inline-block w-8 h-8"><svg class="w-full h-full"><use>');const nl=e=>e===1?"":e===-1?"-":e.toFixed(3),rl=e=>(()=>{var t=Jr(),n=t.firstChild;return n.nextSibling,y(t,h(Ze,{get children(){return[h(ee,{get when(){return e.editMode},get children(){var r=Ke();return y(r,h(F,{get each(){return e.weights},children:(l,s)=>[h(Z,{when:s>0,get children(){return Zr()}}),(()=>{var i=el(),o=i.firstChild,c=o.nextSibling,u=c.firstChild,f=u.firstChild;return o.addEventListener("change",a=>e.changeWeight(s,a.currentTarget.valueAsNumber)),w(()=>P(f,"href",`#neuron-${(e.layer===2?6:0)+s}`)),w(()=>o.value=l()),i})()]})),r}}),h(ee,{when:!0,get children(){var r=Ke();return y(r,h(F,{get each(){return e.weights},children:(l,s)=>h(Z,{get when(){return l()!==0},get children(){return[T(()=>s>0&&l()>0?"+":""),T(()=>nl(l())),(()=>{var i=tl(),o=i.firstChild,c=o.firstChild;return w(()=>P(c,"href",`#neuron-${(e.layer===2?6:0)+s}`)),i})()]}})})),r}})]}}),n),y(t,h(Z,{get when(){return e.editMode},get fallback(){return""+e.threshold},get children(){var r=Qr();return r.addEventListener("change",l=>e.changeThreshold(l.currentTarget.valueAsNumber)),w(()=>r.value=e.threshold),r}}),null),t})();var ll=g("<div class=dialogtitle>"),sl=g('<input class="inputrange range-lg"type=range min=0>'),il=g(`<div class="dialogbody flex flex-col"><div class=largetext>Nombre d'itérations: `),ol=g('<div class="p-4 text-right"><button class=btn>Editer</button><button class="btn ml-4">Apprendre</button><button class="btn ml-4">OK');const cl="ABCDEF",al=["vert","bleu","rose","jaune"],ul=(e,t)=>"Neurone "+(e==1?cl[t]:al[t]),fl=e=>{const[t,n]=ve(!1),r=()=>n(l=>!l);return[(()=>{var l=ll();return y(l,()=>ul(e.layer,e.idx)),l})(),(()=>{var l=il(),s=l.firstChild;return s.firstChild,y(l,h(rl,{get layer(){return e.layer},get weights(){return e.layer===1?e.state.hiddenWeights[e.idx]:e.state.finalWeights[e.idx]},get threshold(){return e.layer===1?e.state.hiddenThresholds[e.idx]:e.state.finalThresholds[e.idx]},get editMode(){return t()},changeWeight:(i,o)=>e.changeWeight(e.layer,e.idx,i,o),changeThreshold:i=>e.changeThreshold(e.layer,e.idx,i)}),s),y(l,h(dt,{get state(){return e.state},get patterns(){return e.patterns},get layer(){return e.layer},get idx(){return e.idx},small:!1}),s),y(s,()=>e.state.iter,null),y(l,h(Z,{get when(){return e.nbStates>1},get children(){var i=sl();return i.addEventListener("change",o=>e.changeCurrentState(o.currentTarget.valueAsNumber)),w(()=>P(i,"max",e.nbStates-1)),w(()=>i.value=e.stateIdx),i}}),null),l})(),(()=>{var l=ol(),s=l.firstChild,i=s.nextSibling,o=i.nextSibling;return s.$$click=r,D(i,"click",e.learn),D(o,"click",e.closeDialog),l})()]};K(["click"]);var dl=g('<div class="w-full min-h-screen bg-black flex flew-row items-start justify-around portrait:flex-col"><div class="flex flex-col items-center portrait:flex-row"><div class="grid grid-cols-2 gap-1"><button class=btn>Précédent</button><button class=btn>Suivant</button><button class=btn>Réglettes</button><button class=btn>Réinitialiser</button></div></div><div class="w-3/4 relative portrait:w-full">'),hl=g("<dialog class=dialog>");const gl=()=>{const[e,t]=Kt(We());let n;const r=()=>e.states[e.currentState].output,l=()=>r()[e.currentPattern].final,s=()=>{t(qt(b=>{b.inputs=hr(b.patterns);for(const v of b.states)v.output=ut(b.inputs,v)}))};s();const i=()=>{t("states",[e.states[e.currentState]]),t("states",0,"iter",0),t("currentState",0)},o=()=>{t("dialog",{type:"edit"}),n.showModal()},c=()=>{t("dialog",{type:"neurons"}),n.showModal()},u=(b,v)=>{t("dialog",{type:"neuron",layer:b,idx:v}),n.showModal()},f=()=>{t("dialog",{type:"none"}),n.close()},a=b=>t("selectedInput",b),m=b=>t("patterns",b,"selected",v=>!v),_=b=>t("currentPattern",b),$=()=>t("currentPattern",b=>(b+23)%24),C=()=>t("currentPattern",b=>(b+1)%24),E=b=>{X(()=>{t("patterns",e.currentPattern,"pattern",b,v=>!v),s()})},N=()=>{X(()=>{t("patterns",at()),s()})},k=(b,v,q,re)=>{X(()=>{t("states",e.currentState,b==1?"hiddenWeights":"finalWeights",v,q,re),i(),s()})},O=(b,v,q)=>{X(()=>{t("states",e.currentState,b==1?"hiddenThresholds":"finalThresholds",v,q),i(),s()})},d=()=>{t("states",pr(e))},p=b=>{t("currentState",b)},I=()=>{X(()=>{t(We()),s()})},ht=async()=>{const b=e.states.length;for(let v=0;v<b;v++)t("currentState",v),await Gn(1500)},gt={setCurrentPattern:_,changePixel:E,closeDialog:f,togglePattern:m,resetPatterns:N},yt={selectInput:a,openNeuronDialog:u},bt={learn:d,changeCurrentState:p,changeThreshold:O,changeWeight:k,closeDialog:f},mt={learn:d,changeCurrentState:p,runSimulation:ht,closeDialog:f};return[(()=>{var b=dl(),v=b.firstChild,q=v.firstChild,re=q.firstChild,Te=re.nextSibling,Ee=Te.nextSibling,pt=Ee.nextSibling,$t=v.nextSibling;return y(v,h(xr,{get selectedCaptor(){return e.selectedInput},get pattern(){return e.patterns[e.currentPattern]},onClick:o}),q),re.$$click=$,Te.$$click=C,Ee.$$click=c,pt.$$click=I,y($t,h(Nr,se({get final(){return l()}},yt))),b})(),(()=>{var b=hl();return Mt(v=>n=v,b),y(b,h(Ze,{get children(){return[h(ee,{get when(){return e.dialog.type==="edit"},get children(){return h(Kr,se({get patterns(){return e.patterns},get currentPattern(){return e.currentPattern}},gt))}}),h(ee,{get when(){return e.dialog.type==="neurons"},get children(){return h(zr,se({get state(){return e.states[e.currentState]},get patterns(){return e.patterns},get nbStates(){return e.states.length},get stateIdx(){return e.currentState}},mt))}}),h(ee,{get when(){return e.dialog.type==="neuron"},get children(){return h(fl,se({get layer(){return e.dialog.layer},get idx(){return e.dialog.idx},get state(){return e.states[e.currentState]},get patterns(){return e.patterns},get nbStates(){return e.states.length},get stateIdx(){return e.currentState}},bt))}})]}})),b})()]};K(["click"]);const yl=document.getElementById("root");Lt(()=>h(gl,{}),yl);

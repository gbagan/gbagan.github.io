(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();const Mo=!1;var Cn=Array.isArray,ks=Array.prototype.indexOf,An=Array.from,xn=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,So=Object.getOwnPropertyDescriptors,Ps=Object.prototype,$s=Array.prototype,jn=Object.getPrototypeOf,Kn=Object.isExtensible;const fe=()=>{};function Ms(t){for(var r=0;r<t.length;r++)t[r]()}function zo(){var t,r,n=new Promise((o,l)=>{t=o,r=l});return{promise:n,resolve:t,reject:r}}function Pt(t,r){if(Array.isArray(t))return t;if(r===void 0||!(Symbol.iterator in t))return Array.from(t);const n=[];for(const o of t)if(n.push(o),n.length===r)break;return n}const bt=2,Rn=4,Nn=8,_r=16,Wt=32,pr=64,In=128,Et=256,nn=512,ut=1024,$t=2048,or=4096,jt=8192,mr=16384,On=32768,Er=65536,Yn=1<<17,Ss=1<<18,Lr=1<<19,zs=1<<20,wn=1<<21,sn=1<<22,ur=1<<23,cr=Symbol("$state"),Ts=Symbol("legacy props"),qs=Symbol(""),Ir=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Es(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ls(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Cs(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function As(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function js(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Rs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ns(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Is(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Os(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Bs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ln=1,an=2,To=4,Ds=8,Gs=16,Hs=1,Us=4,Zs=8,Vs=16,qo=1,Ws=2,ot=Symbol(),Js="http://www.w3.org/1999/xhtml";function Ks(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ys=!1;function Eo(t){return t===this.v}function Lo(t,r){return t!=t?r==r:t!==r||t!==null&&typeof t=="object"||typeof t=="function"}function Co(t){return!Lo(t,this.v)}let Qs=!1,Mt=null;function Sr(t){Mt=t}function je(t,r=!1,n){Mt={p:Mt,c:null,e:null,s:t,x:null,l:null}}function Re(t){var r=Mt,n=r.e;if(n!==null){r.e=null;for(var o of n)Jo(o)}return Mt=r.p,{}}function Ao(){return!0}let ar=[];function jo(){var t=ar;ar=[],Ms(t)}function Cr(t){if(ar.length===0&&!Or){var r=ar;queueMicrotask(()=>{r===ar&&jo()})}ar.push(t)}function Xs(){for(;ar.length>0;)jo()}const el=new WeakMap;function Ro(t){var r=Oe;if(r===null)return Ne.f|=ur,t;if((r.f&On)===0){if((r.f&In)===0)throw!r.parent&&t instanceof Error&&No(t),t;r.b.error(t)}else zr(t,r)}function zr(t,r){for(;r!==null;){if((r.f&In)!==0)try{r.b.error(t);return}catch(n){t=n}r=r.parent}throw t instanceof Error&&No(t),t}function No(t){const r=el.get(t);r&&(xn(t,"message",{value:r.message}),xn(t,"stack",{value:r.stack}))}const en=new Set;let Ke=null,kn=new Set,Dt=[],un=null,Pn=!1,Or=!1;class At{current=new Map;#n=new Map;#r=new Set;#v=0;#s=null;#a=[];#o=[];#t=[];#e=[];#l=[];#u=[];skipped_effects=new Set;process(r){Dt=[];var n=At.apply(this);for(const u of r)this.#c(u);if(this.#v===0){this.#d();var o=this.#o,l=this.#t;this.#o=[],this.#t=[],this.#e=[],Ke=null,Qn(o),Qn(l),this.#s?.resolve()}else this.#i(this.#o),this.#i(this.#t),this.#i(this.#e);n();for(const u of this.#a)Hr(u);this.#a=[]}#c(r){r.f^=ut;for(var n=r.first;n!==null;){var o=n.f,l=(o&(Wt|pr))!==0,u=l&&(o&ut)!==0,s=u||(o&jt)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){l?n.f^=ut:(o&Rn)!==0?this.#t.push(n):(o&ut)===0&&((o&sn)!==0&&n.b?.is_pending()?this.#a.push(n):dn(n)&&((n.f&_r)!==0&&this.#e.push(n),Hr(n)));var i=n.first;if(i!==null){n=i;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}}#i(r){for(const n of r)((n.f&$t)!==0?this.#l:this.#u).push(n),pt(n,ut);r.length=0}capture(r,n){this.#n.has(r)||this.#n.set(r,n),this.current.set(r,r.v)}activate(){Ke=this}deactivate(){Ke=null;for(const r of kn)if(kn.delete(r),r(),Ke!==null)break}flush(){if(Dt.length>0){if(this.activate(),Io(),Ke!==null&&Ke!==this)return}else this.#v===0&&this.#d();this.deactivate()}#d(){for(const r of this.#r)r();if(this.#r.clear(),en.size>1){this.#n.clear();let r=!0;for(const n of en){if(n===this){r=!1;continue}for(const[o,l]of this.current){if(n.current.has(o))if(r)n.current.set(o,l);else continue;Oo(o)}if(Dt.length>0){Ke=n;const o=At.apply(n);for(const l of Dt)n.#c(l);Dt=[],o()}}Ke=null}en.delete(this)}increment(){this.#v+=1}decrement(){if(this.#v-=1,this.#v===0){for(const r of this.#l)pt(r,$t),gr(r);for(const r of this.#u)pt(r,or),gr(r);this.flush()}else this.deactivate()}add_callback(r){this.#r.add(r)}settled(){return(this.#s??=zo()).promise}static ensure(){if(Ke===null){const r=Ke=new At;en.add(Ke),Or||At.enqueue(()=>{Ke===r&&r.flush()})}return Ke}static enqueue(r){Cr(r)}static apply(r){return fe}}function tl(t){var r=Or;Or=!0;try{for(var n;;){if(Xs(),Dt.length===0&&(Ke?.flush(),Dt.length===0))return un=null,n;Io()}}finally{Or=r}}function Io(){var t=Mr;Pn=!0;try{var r=0;for(Xn(!0);Dt.length>0;){var n=At.ensure();if(r++>1e3){var o,l;rl()}n.process(Dt),rr.clear()}}finally{Pn=!1,Xn(t),un=null}}function rl(){try{Rs()}catch(t){zr(t,un)}}let ir=null;function Qn(t){var r=t.length;if(r!==0){for(var n=0;n<r;){var o=t[n++];if((o.f&(mr|jt))===0&&dn(o)&&(ir=[],Hr(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null&&o.ac===null?Xo(o):o.fn=null),ir?.length>0)){rr.clear();for(const l of ir)Hr(l);ir=[]}}ir=null}}function Oo(t){if(t.reactions!==null)for(const r of t.reactions){const n=r.f;(n&bt)!==0?Oo(r):(n&(sn|_r))!==0&&(pt(r,$t),gr(r))}}function gr(t){for(var r=un=t;r.parent!==null;){r=r.parent;var n=r.f;if(Pn&&r===Oe&&(n&_r)!==0)return;if((n&(pr|Wt))!==0){if((n&ut)===0)return;r.f^=ut}}Dt.push(r)}function nl(t){let r=0,n=hr(0),o;return()=>{pl()&&(e(n),Gn(()=>(r===0&&(o=Wr(()=>t(()=>Fr(n)))),r+=1,()=>{Cr(()=>{r-=1,r===0&&(o?.(),o=void 0,Fr(n))})})))}}var ol=Er|Lr|In;function sl(t,r,n){new ll(t,r,n)}class ll{parent;#n=!1;#r;#v=null;#s;#a;#o;#t=null;#e=null;#l=null;#u=null;#c=0;#i=0;#d=!1;#f=null;#p=()=>{this.#f&&Tr(this.#f,this.#c)};#m=nl(()=>(this.#f=hr(this.#c),()=>{this.#f=null}));constructor(r,n,o){this.#r=r,this.#s=n,this.#a=o,this.parent=Oe.b,this.#n=!!this.#s.pending,this.#o=Vr(()=>{Oe.b=this;{try{this.#t=wt(()=>o(this.#r))}catch(l){this.error(l)}this.#i>0?this.#h():this.#n=!1}},ol)}#y(){try{this.#t=wt(()=>this.#a(this.#r))}catch(r){this.error(r)}this.#n=!1}#b(){const r=this.#s.pending;r&&(this.#e=wt(()=>r(this.#r)),At.enqueue(()=>{this.#t=this.#g(()=>(At.ensure(),wt(()=>this.#a(this.#r)))),this.#i>0?this.#h():(dr(this.#e,()=>{this.#e=null}),this.#n=!1)}))}is_pending(){return this.#n||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#g(r){var n=Oe,o=Ne,l=Mt;Gt(this.#o),yt(this.#o),Sr(this.#o.ctx);try{return r()}catch(u){return Ro(u),null}finally{Gt(n),yt(o),Sr(l)}}#h(){const r=this.#s.pending;this.#t!==null&&(this.#u=document.createDocumentFragment(),il(this.#t,this.#u)),this.#e===null&&(this.#e=wt(()=>r(this.#r)))}#_(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(r);return}this.#i+=r,this.#i===0&&(this.#n=!1,this.#e&&dr(this.#e,()=>{this.#e=null}),this.#u&&(this.#r.before(this.#u),this.#u=null))}update_pending_count(r){this.#_(r),this.#c+=r,kn.add(this.#p)}get_effect_pending(){return this.#m(),e(this.#f)}error(r){var n=this.#s.onerror;let o=this.#s.failed;if(this.#d||!n&&!o)throw r;this.#t&&(kt(this.#t),this.#t=null),this.#e&&(kt(this.#e),this.#e=null),this.#l&&(kt(this.#l),this.#l=null);var l=!1,u=!1;const s=()=>{if(l){Ks();return}l=!0,u&&Bs(),At.ensure(),this.#c=0,this.#l!==null&&dr(this.#l,()=>{this.#l=null}),this.#n=this.has_pending_snippet(),this.#t=this.#g(()=>(this.#d=!1,wt(()=>this.#a(this.#r)))),this.#i>0?this.#h():this.#n=!1};var i=Ne;try{yt(null),u=!0,n?.(r,s),u=!1}catch(a){zr(a,this.#o&&this.#o.parent)}finally{yt(i)}o&&Cr(()=>{this.#l=this.#g(()=>{this.#d=!0;try{return wt(()=>{o(this.#r,()=>r,()=>s)})}catch(a){return zr(a,this.#o.parent),null}finally{this.#d=!1}})})}}function il(t,r){for(var n=t.nodes_start,o=t.nodes_end;n!==null;){var l=n===o?null:Zr(n);r.append(n),n=l}}function al(t,r,n){const o=cn;if(r.length===0){n(t.map(o));return}var l=Ke,u=Oe,s=ul();Promise.all(r.map(i=>cl(i))).then(i=>{l?.activate(),s();try{n([...t.map(o),...i])}catch(a){(u.f&mr)===0&&zr(a,u)}l?.deactivate(),Fo()}).catch(i=>{zr(i,u)})}function ul(){var t=Oe,r=Ne,n=Mt,o=Ke;return function(){Gt(t),yt(r),Sr(n),o?.activate()}}function Fo(){Gt(null),yt(null),Sr(null)}function cn(t){var r=bt|$t,n=Ne!==null&&(Ne.f&bt)!==0?Ne:null;return Oe===null||n!==null&&(n.f&Et)!==0?r|=Et:Oe.f|=Lr,{ctx:Mt,deps:null,effects:null,equals:Eo,f:r,fn:t,reactions:null,rv:0,v:ot,wv:0,parent:n??Oe,ac:null}}function cl(t,r){let n=Oe;n===null&&Ls();var o=n.b,l=void 0,u=hr(ot),s=!Ne,i=new Map;return bl(()=>{var a=zo();l=a.promise;try{Promise.resolve(t()).then(a.resolve,a.reject)}catch(f){a.reject(f)}var v=Ke,b=o.is_pending();s&&(o.update_pending_count(1),b||(v.increment(),i.get(v)?.reject(Ir),i.set(v,a)));const h=(f,j=void 0)=>{b||v.activate(),j?j!==Ir&&(u.f|=ur,Tr(u,j)):((u.f&ur)!==0&&(u.f^=ur),Tr(u,f)),s&&(o.update_pending_count(-1),b||v.decrement()),Fo()};a.promise.then(h,f=>h(null,f||"unknown"))}),Wo(()=>{for(const a of i.values())a.reject(Ir)}),new Promise(a=>{function v(b){function h(){b===l?a(u):v(l)}b.then(h,h)}v(l)})}function N(t){const r=cn(t);return rs(r),r}function Bo(t){const r=cn(t);return r.equals=Co,r}function Do(t){var r=t.effects;if(r!==null){t.effects=null;for(var n=0;n<r.length;n+=1)kt(r[n])}}function dl(t){for(var r=t.parent;r!==null;){if((r.f&bt)===0)return r;r=r.parent}return null}function Fn(t){var r,n=Oe;Gt(dl(t));try{Do(t),r=ls(t)}finally{Gt(n)}return r}function Go(t){var r=Fn(t);if(t.equals(r)||(t.v=r,t.wv=os()),!br){var n=(er||(t.f&Et)!==0)&&t.deps!==null?or:ut;pt(t,n)}}const rr=new Map;function hr(t,r){var n={f:0,v:t,reactions:null,equals:Eo,rv:0,wv:0};return n}function _e(t,r){const n=hr(t);return rs(n),n}function vl(t,r=!1,n=!0){const o=hr(t);return r||(o.equals=Co),o}function _(t,r,n=!1){Ne!==null&&(!Ct||(Ne.f&Yn)!==0)&&Ao()&&(Ne.f&(bt|_r|sn|Yn))!==0&&!Zt?.includes(t)&&Fs();let o=n?Ae(r):r;return Tr(t,o)}function Tr(t,r){if(!t.equals(r)){var n=t.v;br?rr.set(t,r):rr.set(t,n),t.v=r;var o=At.ensure();o.capture(t,n),(t.f&bt)!==0&&((t.f&$t)!==0&&Fn(t),pt(t,(t.f&Et)===0?ut:or)),t.wv=os(),Ho(t,$t),Oe!==null&&(Oe.f&ut)!==0&&(Oe.f&(Wt|pr))===0&&(Tt===null?kl([t]):Tt.push(t))}return r}function Fr(t){_(t,t.v+1)}function Ho(t,r){var n=t.reactions;if(n!==null)for(var o=n.length,l=0;l<o;l++){var u=n[l],s=u.f,i=(s&$t)===0;i&&pt(u,r),(s&bt)!==0?Ho(u,or):i&&((s&_r)!==0&&ir!==null&&ir.push(u),gr(u))}}function Ae(t){if(typeof t!="object"||t===null||cr in t)return t;const r=jn(t);if(r!==Ps&&r!==$s)return t;var n=new Map,o=Cn(t),l=_e(0),u=vr,s=i=>{if(vr===u)return i();var a=Ne,v=vr;yt(null),to(u);var b=i();return yt(a),to(v),b};return o&&n.set("length",_e(t.length)),new Proxy(t,{defineProperty(i,a,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Is();var b=n.get(a);return b===void 0?b=s(()=>{var h=_e(v.value);return n.set(a,h),h}):_(b,v.value,!0),!0},deleteProperty(i,a){var v=n.get(a);if(v===void 0){if(a in i){const b=s(()=>_e(ot));n.set(a,b),Fr(l)}}else _(v,ot),Fr(l);return!0},get(i,a,v){if(a===cr)return t;var b=n.get(a),h=a in i;if(b===void 0&&(!h||$r(i,a)?.writable)&&(b=s(()=>{var j=Ae(h?i[a]:ot),P=_e(j);return P}),n.set(a,b)),b!==void 0){var f=e(b);return f===ot?void 0:f}return Reflect.get(i,a,v)},getOwnPropertyDescriptor(i,a){var v=Reflect.getOwnPropertyDescriptor(i,a);if(v&&"value"in v){var b=n.get(a);b&&(v.value=e(b))}else if(v===void 0){var h=n.get(a),f=h?.v;if(h!==void 0&&f!==ot)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return v},has(i,a){if(a===cr)return!0;var v=n.get(a),b=v!==void 0&&v.v!==ot||Reflect.has(i,a);if(v!==void 0||Oe!==null&&(!b||$r(i,a)?.writable)){v===void 0&&(v=s(()=>{var f=b?Ae(i[a]):ot,j=_e(f);return j}),n.set(a,v));var h=e(v);if(h===ot)return!1}return b},set(i,a,v,b){var h=n.get(a),f=a in i;if(o&&a==="length")for(var j=v;j<h.v;j+=1){var P=n.get(j+"");P!==void 0?_(P,ot):j in i&&(P=s(()=>_e(ot)),n.set(j+"",P))}if(h===void 0)(!f||$r(i,a)?.writable)&&(h=s(()=>_e(void 0)),_(h,Ae(v)),n.set(a,h));else{f=h.v!==ot;var H=s(()=>Ae(v));_(h,H)}var A=Reflect.getOwnPropertyDescriptor(i,a);if(A?.set&&A.set.call(b,v),!f){if(o&&typeof a=="string"){var F=n.get("length"),W=Number(a);Number.isInteger(W)&&W>=F.v&&_(F,W+1)}Fr(l)}return!0},ownKeys(i){e(l);var a=Reflect.ownKeys(i).filter(h=>{var f=n.get(h);return f===void 0||f.v!==ot});for(var[v,b]of n)b.v!==ot&&!(v in i)&&a.push(v);return a},setPrototypeOf(){Os()}})}var Dr,Uo,Zo,Vo;function fl(){if(Dr===void 0){Dr=window,Uo=/Firefox/.test(navigator.userAgent);var t=Element.prototype,r=Node.prototype,n=Text.prototype;Zo=$r(r,"firstChild").get,Vo=$r(r,"nextSibling").get,Kn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Kn(n)&&(n.__t=void 0)}}function yr(t=""){return document.createTextNode(t)}function Ht(t){return Zo.call(t)}function Zr(t){return Vo.call(t)}function ne(t,r){return Ht(t)}function re(t,r=!1){{var n=Ht(t);return n instanceof Comment&&n.data===""?Zr(n):n}}function g(t,r=1,n=!1){let o=t;for(;r--;)o=Zr(o);return o}function gl(t){t.textContent=""}function Bn(){return!1}function Dn(t){var r=Ne,n=Oe;yt(null),Gt(null);try{return t()}finally{yt(r),Gt(n)}}function hl(t){Oe===null&&Ne===null&&js(),Ne!==null&&(Ne.f&Et)!==0&&Oe===null&&As(),br&&Cs()}function _l(t,r){var n=r.last;n===null?r.last=r.first=t:(n.next=t,t.prev=n,r.last=t)}function Jt(t,r,n,o=!0){var l=Oe;l!==null&&(l.f&jt)!==0&&(t|=jt);var u={ctx:Mt,deps:null,nodes_start:null,nodes_end:null,f:t|$t,first:null,fn:r,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Hr(u),u.f|=On}catch(a){throw kt(u),a}else r!==null&&gr(u);if(o){var s=u;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Lr)===0&&(s=s.first),s!==null&&(s.parent=l,l!==null&&_l(s,l),Ne!==null&&(Ne.f&bt)!==0&&(t&pr)===0)){var i=Ne;(i.effects??=[]).push(s)}}return u}function pl(){return Ne!==null&&!Ct}function Wo(t){const r=Jt(Nn,null,!1);return pt(r,ut),r.teardown=t,r}function ml(t){hl();var r=Oe.f,n=!Ne&&(r&Wt)!==0&&(r&On)===0;if(n){var o=Mt;(o.e??=[]).push(t)}else return Jo(t)}function Jo(t){return Jt(Rn|zs,t,!1)}function yl(t){At.ensure();const r=Jt(pr|Lr,t,!0);return(n={})=>new Promise(o=>{n.outro?dr(r,()=>{kt(r),o(void 0)}):(kt(r),o(void 0))})}function Ko(t){return Jt(Rn,t,!1)}function bl(t){return Jt(sn|Lr,t,!0)}function Gn(t,r=0){return Jt(Nn|r,t,!0)}function ie(t,r=[],n=[]){al(r,n,o=>{Jt(Nn,()=>t(...o.map(e)),!0)})}function Vr(t,r=0){var n=Jt(_r|r,t,!0);return n}function wt(t,r=!0){return Jt(Wt|Lr,t,!0,r)}function Yo(t){var r=t.teardown;if(r!==null){const n=br,o=Ne;eo(!0),yt(null);try{r.call(null)}finally{eo(n),yt(o)}}}function Qo(t,r=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const l=n.ac;l!==null&&Dn(()=>{l.abort(Ir)});var o=n.next;(n.f&pr)!==0?n.parent=null:kt(n,r),n=o}}function xl(t){for(var r=t.first;r!==null;){var n=r.next;(r.f&Wt)===0&&kt(r),r=n}}function kt(t,r=!0){var n=!1;(r||(t.f&Ss)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(wl(t.nodes_start,t.nodes_end),n=!0),Qo(t,r&&!n),on(t,0),pt(t,mr);var o=t.transitions;if(o!==null)for(const u of o)u.stop();Yo(t);var l=t.parent;l!==null&&l.first!==null&&Xo(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function wl(t,r){for(;t!==null;){var n=t===r?null:Zr(t);t.remove(),t=n}}function Xo(t){var r=t.parent,n=t.prev,o=t.next;n!==null&&(n.next=o),o!==null&&(o.prev=n),r!==null&&(r.first===t&&(r.first=o),r.last===t&&(r.last=n))}function dr(t,r){var n=[];Hn(t,n,!0),es(n,()=>{kt(t),r&&r()})}function es(t,r){var n=t.length;if(n>0){var o=()=>--n||r();for(var l of t)l.out(o)}else r()}function Hn(t,r,n){if((t.f&jt)===0){if(t.f^=jt,t.transitions!==null)for(const s of t.transitions)(s.is_global||n)&&r.push(s);for(var o=t.first;o!==null;){var l=o.next,u=(o.f&Er)!==0||(o.f&Wt)!==0;Hn(o,r,u?n:!1),o=l}}}function Un(t){ts(t,!0)}function ts(t,r){if((t.f&jt)!==0){t.f^=jt,(t.f&ut)===0&&(pt(t,$t),gr(t));for(var n=t.first;n!==null;){var o=n.next,l=(n.f&Er)!==0||(n.f&Wt)!==0;ts(n,l?r:!1),n=o}if(t.transitions!==null)for(const u of t.transitions)(u.is_global||r)&&u.in()}}let Mr=!1;function Xn(t){Mr=t}let br=!1;function eo(t){br=t}let Ne=null,Ct=!1;function yt(t){Ne=t}let Oe=null;function Gt(t){Oe=t}let Zt=null;function rs(t){Ne!==null&&(Zt===null?Zt=[t]:Zt.push(t))}let _t=null,xt=0,Tt=null;function kl(t){Tt=t}let ns=1,Gr=0,vr=Gr;function to(t){vr=t}let er=!1;function os(){return++ns}function dn(t){var r=t.f;if((r&$t)!==0)return!0;if((r&or)!==0){var n=t.deps,o=(r&Et)!==0;if(n!==null){var l,u,s=(r&nn)!==0,i=o&&Oe!==null&&!er,a=n.length;if((s||i)&&(Oe===null||(Oe.f&mr)===0)){var v=t,b=v.parent;for(l=0;l<a;l++)u=n[l],(s||!u?.reactions?.includes(v))&&(u.reactions??=[]).push(v);s&&(v.f^=nn),i&&b!==null&&(b.f&Et)===0&&(v.f^=Et)}for(l=0;l<a;l++)if(u=n[l],dn(u)&&Go(u),u.wv>t.wv)return!0}(!o||Oe!==null&&!er)&&pt(t,ut)}return!1}function ss(t,r,n=!0){var o=t.reactions;if(o!==null&&!Zt?.includes(t))for(var l=0;l<o.length;l++){var u=o[l];(u.f&bt)!==0?ss(u,r,!1):r===u&&(n?pt(u,$t):(u.f&ut)!==0&&pt(u,or),gr(u))}}function ls(t){var r=_t,n=xt,o=Tt,l=Ne,u=er,s=Zt,i=Mt,a=Ct,v=vr,b=t.f;_t=null,xt=0,Tt=null,er=(b&Et)!==0&&(Ct||!Mr||Ne===null),Ne=(b&(Wt|pr))===0?t:null,Zt=null,Sr(t.ctx),Ct=!1,vr=++Gr,t.ac!==null&&(Dn(()=>{t.ac.abort(Ir)}),t.ac=null);try{t.f|=wn;var h=t.fn,f=h(),j=t.deps;if(_t!==null){var P;if(on(t,xt),j!==null&&xt>0)for(j.length=xt+_t.length,P=0;P<_t.length;P++)j[xt+P]=_t[P];else t.deps=j=_t;if(!er||(b&bt)!==0&&t.reactions!==null)for(P=xt;P<j.length;P++)(j[P].reactions??=[]).push(t)}else j!==null&&xt<j.length&&(on(t,xt),j.length=xt);if(Ao()&&Tt!==null&&!Ct&&j!==null&&(t.f&(bt|or|$t))===0)for(P=0;P<Tt.length;P++)ss(Tt[P],t);return l!==null&&l!==t&&(Gr++,Tt!==null&&(o===null?o=Tt:o.push(...Tt))),(t.f&ur)!==0&&(t.f^=ur),f}catch(H){return Ro(H)}finally{t.f^=wn,_t=r,xt=n,Tt=o,Ne=l,er=u,Zt=s,Sr(i),Ct=a,vr=v}}function Pl(t,r){let n=r.reactions;if(n!==null){var o=ks.call(n,t);if(o!==-1){var l=n.length-1;l===0?n=r.reactions=null:(n[o]=n[l],n.pop())}}n===null&&(r.f&bt)!==0&&(_t===null||!_t.includes(r))&&(pt(r,or),(r.f&(Et|nn))===0&&(r.f^=nn),Do(r),on(r,0))}function on(t,r){var n=t.deps;if(n!==null)for(var o=r;o<n.length;o++)Pl(t,n[o])}function Hr(t){var r=t.f;if((r&mr)===0){pt(t,ut);var n=Oe,o=Mr;Oe=t,Mr=!0;try{(r&_r)!==0?xl(t):Qo(t),Yo(t);var l=ls(t);t.teardown=typeof l=="function"?l:null,t.wv=ns;var u;Mo&&Qs&&(t.f&$t)!==0&&t.deps}finally{Mr=o,Oe=n}}}async function Zn(){await Promise.resolve(),tl()}function e(t){var r=t.f,n=(r&bt)!==0;if(Ne!==null&&!Ct){var o=Oe!==null&&(Oe.f&mr)!==0;if(!o&&!Zt?.includes(t)){var l=Ne.deps;if((Ne.f&wn)!==0)t.rv<Gr&&(t.rv=Gr,_t===null&&l!==null&&l[xt]===t?xt++:_t===null?_t=[t]:(!er||!_t.includes(t))&&_t.push(t));else{(Ne.deps??=[]).push(t);var u=t.reactions;u===null?t.reactions=[Ne]:u.includes(Ne)||u.push(Ne)}}}else if(n&&t.deps===null&&t.effects===null){var s=t,i=s.parent;i!==null&&(i.f&Et)===0&&(s.f^=Et)}if(br){if(rr.has(t))return rr.get(t);if(n){s=t;var a=s.v;return((s.f&ut)===0&&s.reactions!==null||is(s))&&(a=Fn(s)),rr.set(s,a),a}}else n&&(s=t,dn(s)&&Go(s));if((t.f&ur)!==0)throw t.v;return t.v}function is(t){if(t.v===ot)return!0;if(t.deps===null)return!1;for(const r of t.deps)if(rr.has(r)||(r.f&bt)!==0&&is(r))return!0;return!1}function Wr(t){var r=Ct;try{return Ct=!0,t()}finally{Ct=r}}const $l=-7169;function pt(t,r){t.f=t.f&$l|r}function Ml(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(cr in t)$n(t);else if(!Array.isArray(t))for(let r in t){const n=t[r];typeof n=="object"&&n&&cr in n&&$n(n)}}}function $n(t,r=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!r.has(t)){r.add(t),t instanceof Date&&t.getTime();for(let o in t)try{$n(t[o],r)}catch{}const n=jn(t);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const o=So(n);for(let l in o){const u=o[l].get;if(u)try{u.call(t)}catch{}}}}}const Sl=["touchstart","touchmove"];function zl(t){return Sl.includes(t)}const as=new Set,Mn=new Set;function Tl(t,r,n,o={}){function l(u){if(o.capture||Rr.call(r,u),!u.cancelBubble)return Dn(()=>n?.call(this,u))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Cr(()=>{r.addEventListener(t,l,o)}):r.addEventListener(t,l,o),l}function et(t,r,n,o,l){var u={capture:o,passive:l},s=Tl(t,r,n,u);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&Wo(()=>{r.removeEventListener(t,s,u)})}function Ze(t){for(var r=0;r<t.length;r++)as.add(t[r]);for(var n of Mn)n(t)}let ro=null;function Rr(t){var r=this,n=r.ownerDocument,o=t.type,l=t.composedPath?.()||[],u=l[0]||t.target;ro=t;var s=0,i=ro===t&&t.__root;if(i){var a=l.indexOf(i);if(a!==-1&&(r===document||r===window)){t.__root=r;return}var v=l.indexOf(r);if(v===-1)return;a<=v&&(s=a)}if(u=l[s]||t.target,u!==r){xn(t,"currentTarget",{configurable:!0,get(){return u||n}});var b=Ne,h=Oe;yt(null),Gt(null);try{for(var f,j=[];u!==null;){var P=u.assignedSlot||u.parentNode||u.host||null;try{var H=u["__"+o];if(H!=null&&(!u.disabled||t.target===u))if(Cn(H)){var[A,...F]=H;A.apply(u,[t,...F])}else H.call(u,t)}catch(W){f?j.push(W):f=W}if(t.cancelBubble||P===r||P===null)break;u=P}if(f){for(let W of j)queueMicrotask(()=>{throw W});throw f}}finally{t.__root=r,delete t.currentTarget,yt(b),Gt(h)}}}function us(t){var r=document.createElement("template");return r.innerHTML=t.replaceAll("<!>","<!---->"),r.content}function qr(t,r){var n=Oe;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=r)}function ge(t,r){var n=(r&qo)!==0,o=(r&Ws)!==0,l,u=!t.startsWith("<!>");return()=>{l===void 0&&(l=us(u?t:"<!>"+t),n||(l=Ht(l)));var s=o||Uo?document.importNode(l,!0):l.cloneNode(!0);if(n){var i=Ht(s),a=s.lastChild;qr(i,a)}else qr(s,s);return s}}function ql(t,r,n="svg"){var o=!t.startsWith("<!>"),l=(r&qo)!==0,u=`<${n}>${o?t:"<!>"+t}</${n}>`,s;return()=>{if(!s){var i=us(u),a=Ht(i);if(l)for(s=document.createDocumentFragment();Ht(a);)s.appendChild(Ht(a));else s=Ht(a)}var v=s.cloneNode(!0);if(l){var b=Ht(v),h=v.lastChild;qr(b,h)}else qr(v,v);return v}}function ae(t,r){return ql(t,r,"svg")}function Pr(t=""){{var r=yr(t+"");return qr(r,r),r}}function Pe(){var t=document.createDocumentFragment(),r=document.createComment(""),n=yr();return t.append(r,n),qr(r,n),t}function d(t,r){t!==null&&t.before(r)}function lt(t,r){var n=r==null?"":typeof r=="object"?r+"":r;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function El(t,r){return Ll(t,r)}const wr=new Map;function Ll(t,{target:r,anchor:n,props:o={},events:l,context:u,intro:s=!0}){fl();var i=new Set,a=h=>{for(var f=0;f<h.length;f++){var j=h[f];if(!i.has(j)){i.add(j);var P=zl(j);r.addEventListener(j,Rr,{passive:P});var H=wr.get(j);H===void 0?(document.addEventListener(j,Rr,{passive:P}),wr.set(j,1)):wr.set(j,H+1)}}};a(An(as)),Mn.add(a);var v=void 0,b=yl(()=>{var h=n??r.appendChild(yr());return sl(h,{pending:()=>{}},f=>{if(u){je({});var j=Mt;j.c=u}l&&(o.$$events=l),v=t(f,o)||{},u&&Re()}),()=>{for(var f of i){r.removeEventListener(f,Rr);var j=wr.get(f);--j===0?(document.removeEventListener(f,Rr),wr.delete(f)):wr.set(f,j)}Mn.delete(a),h!==n&&h.parentNode?.removeChild(h)}});return Cl.set(v,b),v}let Cl=new WeakMap;function pe(t,r,n=!1){var o=t,l=null,u=null,s=ot,i=n?Er:0,a=!1;const v=(j,P=!0)=>{a=!0,f(P,j)};var b=null;function h(){b!==null&&(b.lastChild.remove(),o.before(b),b=null);var j=s?l:u,P=s?u:l;j&&Un(j),P&&dr(P,()=>{s?u=null:l=null})}const f=(j,P)=>{if(s!==(s=j)){var H=Bn(),A=o;if(H&&(b=document.createDocumentFragment(),b.append(A=yr())),s?l??=P&&wt(()=>P(A)):u??=P&&wt(()=>P(A)),H){var F=Ke,W=s?l:u,B=s?u:l;W&&F.skipped_effects.delete(W),B&&F.skipped_effects.add(B),F.add_callback(h)}else h()}};Vr(()=>{a=!1,r(v),a||f(null,null)},i)}function ze(t,r){return r}function Al(t,r,n){for(var o=t.items,l=[],u=r.length,s=0;s<u;s++)Hn(r[s].e,l,!0);var i=u>0&&l.length===0&&n!==null;if(i){var a=n.parentNode;gl(a),a.append(n),o.clear(),Bt(t,r[0].prev,r[u-1].next)}es(l,()=>{for(var v=0;v<u;v++){var b=r[v];i||(o.delete(b.k),Bt(t,b.prev,b.next)),kt(b.e,!i)}})}function Me(t,r,n,o,l,u=null){var s=t,i={flags:r,items:new Map,first:null},a=(r&To)!==0;if(a){var v=t;s=v.appendChild(yr())}var b=null,h=!1,f=new Map,j=Bo(()=>{var F=n();return Cn(F)?F:F==null?[]:An(F)}),P,H;function A(){jl(H,P,i,f,s,l,r,o,n),u!==null&&(P.length===0?b?Un(b):b=wt(()=>u(s)):b!==null&&dr(b,()=>{b=null}))}Vr(()=>{H??=Oe,P=e(j);var F=P.length;if(!(h&&F===0)){h=F===0;var W,B,$,M;if(Bn()){var E=new Set,L=Ke;for(B=0;B<F;B+=1){$=P[B],M=o($,B);var C=i.items.get(M)??f.get(M);C?(r&(ln|an))!==0&&cs(C,$,B,r):(W=ds(null,i,null,null,$,M,B,l,r,n,!0),f.set(M,W)),E.add(M)}for(const[c,y]of i.items)E.has(c)||L.skipped_effects.add(y.e);L.add_callback(A)}else A();e(j)}})}function jl(t,r,n,o,l,u,s,i,a){var v=(s&Ds)!==0,b=(s&(ln|an))!==0,h=r.length,f=n.items,j=n.first,P=j,H,A=null,F,W=[],B=[],$,M,E,L;if(v)for(L=0;L<h;L+=1)$=r[L],M=i($,L),E=f.get(M),E!==void 0&&(E.a?.measure(),(F??=new Set).add(E));for(L=0;L<h;L+=1){if($=r[L],M=i($,L),E=f.get(M),E===void 0){var C=o.get(M);if(C!==void 0){o.delete(M),f.set(M,C);var c=A?A.next:P;Bt(n,A,C),Bt(n,C,c),pn(C,c,l),A=C}else{var y=P?P.e.nodes_start:l;A=ds(y,n,A,A===null?n.first:A.next,$,M,L,u,s,a)}f.set(M,A),W=[],B=[],P=A.next;continue}if(b&&cs(E,$,L,s),(E.e.f&jt)!==0&&(Un(E.e),v&&(E.a?.unfix(),(F??=new Set).delete(E))),E!==P){if(H!==void 0&&H.has(E)){if(W.length<B.length){var k=B[0],T;A=k.prev;var m=W[0],q=W[W.length-1];for(T=0;T<W.length;T+=1)pn(W[T],k,l);for(T=0;T<B.length;T+=1)H.delete(B[T]);Bt(n,m.prev,q.next),Bt(n,A,m),Bt(n,q,k),P=k,A=q,L-=1,W=[],B=[]}else H.delete(E),pn(E,P,l),Bt(n,E.prev,E.next),Bt(n,E,A===null?n.first:A.next),Bt(n,A,E),A=E;continue}for(W=[],B=[];P!==null&&P.k!==M;)(P.e.f&jt)===0&&(H??=new Set).add(P),B.push(P),P=P.next;if(P===null)continue;E=P}W.push(E),A=E,P=E.next}if(P!==null||H!==void 0){for(var S=H===void 0?[]:An(H);P!==null;)(P.e.f&jt)===0&&S.push(P),P=P.next;var x=S.length;if(x>0){var p=(s&To)!==0&&h===0?l:null;if(v){for(L=0;L<x;L+=1)S[L].a?.measure();for(L=0;L<x;L+=1)S[L].a?.fix()}Al(n,S,p)}}v&&Cr(()=>{if(F!==void 0)for(E of F)E.a?.apply()}),t.first=n.first&&n.first.e,t.last=A&&A.e;for(var z of o.values())kt(z.e);o.clear()}function cs(t,r,n,o){(o&ln)!==0&&Tr(t.v,r),(o&an)!==0?Tr(t.i,n):t.i=n}function ds(t,r,n,o,l,u,s,i,a,v,b){var h=(a&ln)!==0,f=(a&Gs)===0,j=h?f?vl(l,!1,!1):hr(l):l,P=(a&an)===0?s:hr(s),H={i:P,v:j,k:u,a:null,e:null,prev:n,next:o};try{if(t===null){var A=document.createDocumentFragment();A.append(t=yr())}return H.e=wt(()=>i(t,j,P,v),Ys),H.e.prev=n&&n.e,H.e.next=o&&o.e,n===null?b||(r.first=H):(n.next=H,n.e.next=H.e),o!==null&&(o.prev=H,o.e.prev=H.e),H}finally{}}function pn(t,r,n){for(var o=t.next?t.next.e.nodes_start:n,l=r?r.e.nodes_start:n,u=t.e.nodes_start;u!==null&&u!==o;){var s=Zr(u);l.before(u),u=s}}function Bt(t,r,n){r===null?t.first=n:(r.next=n,r.e.next=n&&n.e),n!==null&&(n.prev=r,n.e.prev=r&&r.e)}function at(t,r,...n){var o=t,l=fe,u;Vr(()=>{l!==(l=r())&&(u&&(kt(u),u=null),u=wt(()=>l(o,...n)))},Er)}function te(t,r,n){var o=t,l,u,s=null,i=null;function a(){u&&(dr(u),u=null),s&&(s.lastChild.remove(),o.before(s),s=null),u=i,i=null}Vr(()=>{if(l!==(l=r())){var v=Bn();if(l){var b=o;v&&(s=document.createDocumentFragment(),s.append(b=yr()),u&&Ke.skipped_effects.add(u)),i=wt(()=>n(b,l))}v?Ke.add_callback(a):a()}},Er)}function Rl(t,r,n){Ko(()=>{var o=Wr(()=>r(t,n?.())||{});if(n&&o?.update){var l=!1,u={};Gn(()=>{var s=n();Ml(s),l&&Lo(u,s)&&(u=s,o.update(s))}),l=!0}if(o?.destroy)return()=>o.destroy()})}function vs(t){var r,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(n=vs(t[r]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function Nl(){for(var t,r,n=0,o="",l=arguments.length;n<l;n++)(t=arguments[n])&&(r=vs(t))&&(o&&(o+=" "),o+=r);return o}function Be(t){return typeof t=="object"?Nl(t):t??""}function Il(t,r,n){var o=t==null?"":""+t;return r&&(o=o?o+" "+r:r),o===""?null:o}function no(t,r=!1){var n=r?" !important;":";",o="";for(var l in t){var u=t[l];u!=null&&u!==""&&(o+=" "+l+": "+u+n)}return o}function mn(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Ol(t,r){if(r){var n="",o,l;if(Array.isArray(r)?(o=r[0],l=r[1]):o=r,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var u=!1,s=0,i=!1,a=[];o&&a.push(...Object.keys(o).map(mn)),l&&a.push(...Object.keys(l).map(mn));var v=0,b=-1;const H=t.length;for(var h=0;h<H;h++){var f=t[h];if(i?f==="/"&&t[h-1]==="*"&&(i=!1):u?u===f&&(u=!1):f==="/"&&t[h+1]==="*"?i=!0:f==='"'||f==="'"?u=f:f==="("?s++:f===")"&&s--,!i&&u===!1&&s===0){if(f===":"&&b===-1)b=h;else if(f===";"||h===H-1){if(b!==-1){var j=mn(t.substring(v,b).trim());if(!a.includes(j)){f!==";"&&h++;var P=t.substring(v,h).trim();n+=" "+P+";"}}v=h+1,b=-1}}}}return o&&(n+=no(o)),l&&(n+=no(l,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function Fe(t,r,n,o,l,u){var s=t.__className;if(s!==n||s===void 0){var i=Il(n,o);i==null?t.removeAttribute("class"):r?t.className=i:t.setAttribute("class",i),t.__className=n}return u}function yn(t,r={},n,o){for(var l in n){var u=n[l];r[l]!==u&&(n[l]==null?t.style.removeProperty(l):t.style.setProperty(l,u,o))}}function me(t,r,n,o){var l=t.__style;if(l!==r){var u=Ol(r,o);u==null?t.removeAttribute("style"):t.style.cssText=u,t.__style=r}else o&&(Array.isArray(o)?(yn(t,n?.[0],o[0]),yn(t,n?.[1],o[1],"important")):yn(t,n,o));return o}const Fl=Symbol("is custom element"),Bl=Symbol("is html");function I(t,r,n,o){var l=Dl(t);l[r]!==(l[r]=n)&&(r==="loading"&&(t[qs]=n),n==null?t.removeAttribute(r):typeof n!="string"&&Gl(t).includes(r)?t[r]=n:t.setAttribute(r,n))}function Dl(t){return t.__attributes??={[Fl]:t.nodeName.includes("-"),[Bl]:t.namespaceURI===Js}}var oo=new Map;function Gl(t){var r=t.getAttribute("is")||t.nodeName,n=oo.get(r);if(n)return n;oo.set(r,n=[]);for(var o,l=t,u=Element.prototype;u!==l;){o=So(l);for(var s in o)o[s].set&&n.push(s);l=jn(l)}return n}function so(t,r){return t===r||t?.[cr]===r}function Hl(t={},r,n,o){return Ko(()=>{var l,u;return Gn(()=>{l=u,u=[],Wr(()=>{t!==n(...u)&&(r(t,...u),l&&so(n(...l),t)&&r(null,...l))})}),()=>{Cr(()=>{u&&so(n(...u),t)&&r(null,...u)})}}),t}let tn=!1;function Ul(t){var r=tn;try{return tn=!1,[t(),tn]}finally{tn=r}}function Vt(t,r,n,o){var l=(n&Zs)!==0,u=(n&Vs)!==0,s=o,i=!0,a=()=>(i&&(i=!1,s=u?Wr(o):o),s),v;if(l){var b=cr in t||Ts in t;v=$r(t,r)?.set??(b&&r in t?W=>t[r]=W:void 0)}var h,f=!1;l?[h,f]=Ul(()=>t[r]):h=t[r],h===void 0&&o!==void 0&&(h=a(),v&&(Ns(),v(h)));var j;if(j=()=>{var W=t[r];return W===void 0?a():(i=!0,W)},(n&Us)===0)return j;if(v){var P=t.$$legacy;return(function(W,B){return arguments.length>0?((!B||P||f)&&v(B?j():W),W):j()})}var H=!1,A=((n&Hs)!==0?cn:Bo)(()=>(H=!1,j()));l&&e(A);var F=Oe;return(function(W,B){if(arguments.length>0){const $=B?e(A):l?Ae(W):W;return _(A,$),H=!0,s!==void 0&&(s=$),W}return br&&H||(F.f&mr)!==0?A.v:e(A)})}function Zl(t){Mt===null&&Es(),ml(()=>{const r=Wr(t);if(typeof r=="function")return r})}const Vl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Vl);var Wl=ae('<a><rect class="link svelte-kd8t1r"></rect></a>'),Jl=ae('<g><g><svg><use class="symbol"></use><!></svg></g></g>');function tt(t,r){je(r,!0);let n=_e(null),o=_e(null),l=!1;const u=H=>{r.drag&&(l=!0,r.svg.addEventListener("pointermove",s),r.svg.addEventListener("pointerup",i),r.svg.addEventListener("pointerleave",i))},s=H=>{if(!l)return;const A=r.svg.getBoundingClientRect();_(n,100*(H.clientX-A.left)/A.width-r.width/16.5),_(o,100*(H.clientY-A.top)/A.height-r.height/13.8)},i=()=>{l=!1,r.svg.removeEventListener("pointermove",s),r.svg.removeEventListener("pointerup",i),r.svg.removeEventListener("pointerleave",i)};var a=Jl();let v;var b=ne(a),h=ne(b);h.__pointerdown=u;var f=ne(h),j=g(f);{var P=H=>{var A=Wl(),F=ne(A);ie(()=>{I(A,"href",`#${r.link??""}`),I(A,"aria-label",r.link),I(F,"x",r.rectX??"0"),I(F,"y",r.rectY??"0"),I(F,"width",r.rectWidth??"100%"),I(F,"height",r.rectHeight??"100%")}),d(H,A)};pe(j,H=>{r.link&&H(P)})}ie(H=>{v=me(a,"",v,H),me(b,r.style),Fe(h,0,Be(["object",{draggable:r.drag}]),"svelte-kd8t1r"),I(h,"width",r.width),I(h,"height",r.height),I(f,"href",`#${r.symbol??""}`)},[()=>({transform:`translate(${e(n)??r.x/8.5??""}%, ${e(o)??r.y/6.9??""}%)`})]),et("pointerenter",h,()=>r.setHelp(r.help)),et("pointerleave",h,()=>r.setHelp(null)),d(t,a),Re()}Ze(["pointerdown"]);var Kl=ae('<svg viewBox="0 0 825 690"><use href="#valise" class="valise-close svelte-rtdtl8"></use><g class="valise-open svelte-rtdtl8"><use href="#openvalise"></use><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!></g></svg>'),Yl=ge('<div><div class="logo svelte-rtdtl8"><svg><use href="#logo"></use></svg></div> <div class="container svelte-rtdtl8"><!> <div> </div></div></div>');function Ql(t,r){je(r,!0);const n=H=>{var A=Kl(),F=g(ne(A)),W=g(ne(F));tt(W,{get svg(){return e(i)},setHelp:s,symbol:"tile",link:"tiling",help:"Jeu: carrelage",x:280,y:400,width:120,height:60});var B=g(W);tt(B,{get svg(){return e(i)},setHelp:s,symbol:"chocolate",link:"chocolat",help:"Jeu: chocolat",x:200,y:200,width:60,height:60,style:"transform:rotate(40deg);"});var $=g(B);tt($,{get svg(){return e(i)},setHelp:s,symbol:"pen",link:"dessin",help:"Jeu: dessin",x:610,y:400,width:60,height:60});var M=g($);tt(M,{get svg(){return e(i)},setHelp:s,symbol:"knight",link:"queens",help:"Jeu: les 8 reines",x:461,y:380,width:24,height:48,style:"transform:rotate(40deg);"});var E=g(M);tt(E,{get svg(){return e(i)},setHelp:s,symbol:"paw",link:"labete",help:"Jeu: la bête",x:300,y:180,width:40,height:40,style:"transform:rotate(30deg);opacity:0.5;"});var L=g(E);tt(L,{get svg(){return e(i)},setHelp:s,symbol:"stack",link:"jetons",help:"Jeu: acquisition",x:350,y:500,width:50,height:50});var C=g(L);tt(C,{get svg(){return e(i)},setHelp:s,symbol:"block2",link:"nim",help:"Jeu: bloque moi si tu peux",x:380,y:120,width:40,height:40});var c=g(C);tt(c,{get svg(){return e(i)},setHelp:s,symbol:"tricolor2",link:"baseball",help:"Jeu: baseball multicolore",x:350,y:330,width:90,height:60});var y=g(c);tt(y,{get svg(){return e(i)},setHelp:s,symbol:"eternal-attack",link:"eternal",help:"Jeu: domination éternelle",x:260,y:125,width:40,height:40});var k=g(y);tt(k,{get svg(){return e(i)},setHelp:s,symbol:"traffic",link:"tricolor",help:"Jeu: feu tricolore",x:250,y:280,width:64,height:64});var T=g(k);tt(T,{get svg(){return e(i)},setHelp:s,symbol:"frog2",link:"frog",help:"Jeu: la grenouille",x:549,y:320,width:40,height:40,style:"fill:#bcd35f;"});var m=g(T);tt(m,{get svg(){return e(i)},setHelp:s,symbol:"flowerpot",help:"Quelque chose se cache derrière ce pot",drag:!0,x:533,y:300,width:64,height:64});var q=g(m);tt(q,{get svg(){return e(i)},setHelp:s,symbol:"bulbon",link:"noirblanc",help:"Jeu: tout noir, tout blanc",x:477,y:280,width:48,height:48});var S=g(q);tt(S,{get svg(){return e(i)},setHelp:s,symbol:"race",link:"paths",help:"Jeu: chemins",x:450,y:445,width:64,height:64,style:"transform:rotate(40deg);"});var x=g(S);tt(x,{get svg(){return e(i)},setHelp:s,symbol:"quiet",link:"sansmot",help:"Preuves sans mot",x:180,y:130,width:50,height:50});var p=g(x);tt(p,{get svg(){return e(i)},setHelp:s,symbol:"soli-peg2",link:"solitaire",help:"Jeu: solitaire",x:492,y:350,width:40,height:40});var z=g(p);tt(z,{get svg(){return e(i)},setHelp:s,symbol:"hanoibot",link:"hanoi",help:"Jeu: tours de Hanoi",x:500,y:430,width:75,height:51,rectX:"30%",rectY:"20%",rectWidth:"40%",rectHeight:"40%"});var R=g(z);tt(R,{get svg(){return e(i)},setHelp:s,symbol:"hanoitop",help:"Quelque chose se cache sous cette tour",drag:!0,x:507,y:409,width:60,height:57});var X=g(R);tt(X,{get svg(){return e(i)},setHelp:s,symbol:"wheel",link:"roue",help:"Jeu: roue des couleurs",x:400,y:205,width:50,height:50,style:"transform:scale(1,0.8);"}),Hl(A,Q=>_(i,Q),()=>e(i)),d(H,A)};let o=_e(!1),l=_e(null),u=_e(!1);function s(H){H===null?_(u,!1):(_(l,H,!0),_(u,!0))}let i=_e(void 0);Zl(()=>setTimeout(()=>_(o,!0),1500));var a=Yl(),v=ne(a),b=ne(v);me(b,"",{},{width:"100%",height:"100%"});var h=g(v,2),f=ne(h);n(f);var j=g(f,2),P=ne(j);ie(()=>{Fe(a,1,Be(["main-container",{open:e(o)}]),"svelte-rtdtl8"),Fe(j,1,Be(["help",{visible:e(u)}]),"svelte-rtdtl8"),lt(P,e(l))}),d(t,a),Re()}function Ue(t,r){const n=new Array(t);return n.fill(r),n}function qt(t,r){const n=new Array(t);for(let o=0;o<t;o++)n[o]=r(o);return n}function We(t,r,n){const o=[];if(n=n??1,n>0)for(let l=t;l<r;l+=n)o.push(l);else for(let l=t;l>r;l+=n)o.push(l);return o}function fs(t,r){let n=0;const o=t.length;for(let l=0;l<o;l++)r(t[l],l)&&(n+=1);return n}function Xl(t,r){return t.slice(0,r)}function ei(t,r,n){const o=t.slice(),l=o[r];return o[r]=o[n],o[n]=l,o}function Sn(t,r){let n=null,o=1/0,l=t.length;for(let u=0;u<l;u++){const s=t[u],i=r(s);i<o&&(o=i,n=s)}return n}const ti=(t,r)=>Sn(t,n=>-r(n));function ri(t,r){const n=[],o=[];function l(u){if(o.length===r){n.push(o.slice());return}for(let s=u;s<t;s++)o.push(s),l(s+1),o.pop()}return l(0),n}const nr=(t,r)=>t+(r-t)*Math.random()|0;function zn(t){return t.length===0?null:t[Math.random()*t.length|0]}function ni(t){const r=t.slice();for(let n=r.length-1;n>=0;n--){const o=Math.random()*(n+1)|0,l=r[n];r[n]=r[o],r[o]=l}return r}const Vn=t=>new Promise(r=>setTimeout(r,t));function Tn(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>Tn(n));const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Tn(t[n]));return r}function qn(t){return new Set(t).size===t.length}function Br(t,r){const n=t%r;return n<0?n+r:n}const tr=(t,r,n)=>qt(t*r,o=>n(o/r|0,o%r));function mt(t,r){const n=r/t|0,o=r%t;return[n,o]}function Jr(t,r,n){const o=r/t|0,l=r%t,u=n/t|0,s=n%t;return[o-u,l-s]}function Rt(t,r,n){const o=Math.max(n,t,r);return`height:${100*t/o}%;width:${100*r/o}%;`}function xr(t){const r=t.currentTarget.getBoundingClientRect(),n=(t.clientX-r.left)/r.width,o=(t.clientY-r.top)/r.height;return{x:n,y:o}}function ct(t){return{position:t,history:[],redoHistory:[],turn:1,computerStarts:!1,mode:"solo",help:!1,showWin:!1,dialog:"rules",newGameAction:null,locked:!1}}function Wn(t,r,n,o){const l=r.play(n);return l===null?!1:(o&&(t.history.push(t.position),t.redoHistory=[]),t.position=l,t.turn=t.turn==1?2:1,!0)}async function st(t,r,n){if(!Wn(t,r,n,!0))return;const{isNewRecord:o,showWin:l}=r.updateScore?r.updateScore():oi(r);l?(t.showWin=!1,await Zn(),t.showWin=!0):(t.mode==="expert"||t.mode==="random")&&(t.locked=!0,await Vn(1e3),gs(t,r),t.locked=!1)}async function gs(t,r){const n=r.computerMove?r.computerMove():ai(t,r);n!==null&&(Wn(t,r,n),r.isLevelFinished()&&(t.showWin=!1,await Zn(),t.showWin=!0))}function oi(t){return{isNewRecord:!1,showWin:t.isLevelFinished()}}function Ee(t,r,n){if(!t.newGameAction&&n&&t.history.length>0&&!r.isLevelFinished()){t.newGameAction=n;return}t.history=[],t.redoHistory=[],t.help=!1,t.turn=1,t.computerStarts=!1,_s(t)&&delete t.scores.$custom,(n||t.newGameAction||(()=>{}))(),r.onNewGame&&r.onNewGame();do t.position=r.initialPosition();while(r.isLevelFinished());t.newGameAction=null}function hs(t){t.mode==="duel"?t.turn=t.turn===1?2:1:t.turn=t.computerStarts?2:1}function si(t,r){if(t.history.length===0)return;const n=t.history.pop();t.redoHistory.push(t.position),t.position=n,hs(t)}function li(t,r){if(t.redoHistory.length===0)return;const n=t.redoHistory.pop();t.history.push(t.position),t.position=n,hs(t)}function ii(t,r){if(t.history.length===0)return;const n=t.history[0];t.history=[],t.redoHistory=[],t.turn,t.position=n}function ai(t,r){if(r.isLevelFinished())return null;const n=r.possibleMoves();let o=null;if(t.mode==="expert"){const l=t.position;for(const u of n){let s=!1;if(Wn(t,r,u),r.isLosingPosition()&&(s=!0),t.position=l,t.turn=t.turn==1?2:1,s){o=u;break}}}return o!==null?o:zn(n)}function ui(t){return t.rows!==void 0&&t.columns!==void 0&&t.customSize!==void 0}function ci(t,r,n,o,l){if(!l)return;const{minRows:u,maxRows:s,minCols:i,maxCols:a}=l;n<u||n>s||o<i||o>a||Ee(t,r,()=>{t.rows=n,t.columns=o})}function _s(t){return!!t.scores}function di(t){return!!t.score&&!!t.scoreHash&&!!t.objective}function Kr(t,r,n,o){if(n&&!r.isLevelFinished())return{isNewRecord:!1,showWin:!1};{const l=r.score(),u=r.scoreHash()??"$custom",s=(v,b)=>r.objective==="minimize"?v<b:v>b,i=t.scores[u],a=!i||s(l,i[0]);return a&&(t.scores[u]=[l,Tn(t.position)]),{isNewRecord:a,showWin:a&&o==="onNewRecord"||o==="always"}}}function ps(t,r){return r.isLevelFinished()?"Partie finie":t.turn===1!==t.computerStarts?"Tour du premier joueur":t.mode==="duel"?"Tour du second joueur":"Tour de l'IA"}const Jn=t=>t.mode==="duel"?`Le ${t.turn===2?"premier":"second"} joueur gagne`:t.turn===2!==t.computerStarts?"Tu as gagné":"L'IA gagne";var vi=ge('<button class="ui-button ui-button-primary svelte-1kwbck4">Annuler</button>'),fi=ge('<button class="ui-button ui-button-primary svelte-1kwbck4">Ok</button>'),gi=ge('<div class="container svelte-1kwbck4"><div class="dialog svelte-1kwbck4"><div class="head svelte-1kwbck4"><div class="title svelte-1kwbck4"> </div></div> <div class="body svelte-1kwbck4"><!></div> <div class="buttons svelte-1kwbck4"><!> <!></div></div></div>');function fr(t,r){var n=gi(),o=ne(n),l=ne(o),u=ne(l),s=ne(u),i=g(l,2),a=ne(i);at(a,()=>r.children);var v=g(i,2),b=ne(v);{var h=P=>{var H=vi();H.__click=function(...A){r.onCancel?.apply(this,A)},d(P,H)};pe(b,P=>{r.onCancel&&P(h)})}var f=g(b,2);{var j=P=>{var H=fi();H.__click=function(...A){r.onOk?.apply(this,A)},d(P,H)};pe(f,P=>{r.onOk&&P(j)})}ie(()=>lt(s,r.title)),d(t,n)}Ze(["click"]);var hi=t=>t.preventDefault(),_i=ae('<svg><use class="icon-symbol svelte-6vx4ue"></use></svg>'),pi=ge('<span class="icon-text svelte-6vx4ue"> </span>'),mi=ge('<span class="tooltip svelte-6vx4ue"> </span>'),yi=ge("<button><!> <!></button>");function Ge(t,r){je(r,!0);var n=yi();n.__click=function(...a){r.onclick?.apply(this,a)},n.__pointerdown=function(...a){r.onpointerdown?.apply(this,a)},n.__pointerup=function(...a){r.onpointerup?.apply(this,a)},n.__contextmenu=[hi];var o=ne(n);{var l=a=>{var v=_i();let b;var h=ne(v);ie(()=>{b=me(v,r.style,b,{width:"100%",height:"100%"}),I(h,"href",r.text)}),d(a,v)},u=a=>{var v=Pe(),b=re(v);{var h=f=>{var j=pi(),P=ne(j);ie(()=>lt(P,r.text)),d(f,j)};pe(b,f=>{r.text&&f(h)},!0)}d(a,v)};pe(o,a=>{r.text&&r.text.startsWith("#")?a(l):a(u,!1)})}var s=g(o,2);{var i=a=>{var v=mi(),b=ne(v);ie(()=>lt(b,r.tooltip)),d(a,v)};pe(s,a=>{r.tooltip&&a(i)})}ie(()=>{Fe(n,1,Be(["icon",{selected:r.selected,round:r.round,large:r.large,hidden:r.hidden}]),"svelte-6vx4ue"),n.disabled=r.disabled}),et("pointerleave",n,function(...a){r.onpointerleave?.apply(this,a)}),d(t,n),Re()}Ze(["click","pointerdown","pointerup","contextmenu"]);var bi=ge('<div class="grid svelte-zhyzlg"><div class="container svelte-zhyzlg"><!> <div class="rows svelte-zhyzlg"><!> <div class="text svelte-zhyzlg"> </div> <!></div></div> <div class="columns svelte-zhyzlg"><!> <div class="text svelte-zhyzlg"> </div> <!></div></div>');function xi(t,r){je(r,!0);var n=bi(),o=ne(n),l=ne(o);at(l,()=>r.children);var u=g(l,2),s=ne(u);{let H=N(()=>!r.showRowButtons);Ge(s,{round:!0,text:"#plus",get disabled(){return r.locked},get hidden(){return e(H)},onclick:()=>r.resize(r.rows+1,r.columns)})}var i=g(s,2),a=ne(i),v=g(i,2);{let H=N(()=>!r.showRowButtons);Ge(v,{round:!0,text:"#minus",get disabled(){return r.locked},get hidden(){return e(H)},onclick:()=>r.resize(r.rows-1,r.columns)})}var b=g(o,2),h=ne(b);{let H=N(()=>!r.showColButtons);Ge(h,{round:!0,text:"#minus",get disabled(){return r.locked},get hidden(){return e(H)},onclick:()=>r.resize(r.rows,r.columns-1)})}var f=g(h,2),j=ne(f),P=g(f,2);{let H=N(()=>!r.showColButtons);Ge(P,{round:!0,text:"#plus",get disabled(){return r.locked},get hidden(){return e(H)},onclick:()=>r.resize(r.rows,r.columns+1)})}ie(()=>{lt(a,r.rows),lt(j,r.columns)}),d(t,n),Re()}const wi='@keyframes _ya_qjadi_1{to{translate:0 var(--sh)}}@keyframes _xa_qjadi_1{to{translate:var(--xlp) 0}}@keyframes _r_qjadi_1{50%{rotate:var(--hr) 180deg}to{rotate:var(--r) 360deg}}._c_qjadi_26{width:0;height:0;overflow:visible;position:relative;z-index:1200}._p_qjadi_38{animation:_xa_qjadi_1 var(--dc) forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:_xa_qjadi_1}._p_qjadi_38>div{position:absolute;top:0;left:0;animation:_ya_qjadi_1 var(--dc) forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));animation-name:_ya_qjadi_1;width:var(--w);height:var(--h)}._p_qjadi_38>div:before{display:block;height:100%;width:100%;content:"";background-color:var(--bgc);animation:_r_qjadi_1 var(--rd) infinite linear;animation-name:_r_qjadi_1;border-radius:var(--br)}',ki="_c_qjadi_26",ms="_p_qjadi_38",lo=["#FFC700","#FF0000","#2E3191","#41BBC7"],io=3500,ao=.5,uo=150,co="mix",vo=12,fo="",go=!0,ho="800px",_o="1600px";function Pi(t,r={}){let{colors:n=lo,duration:o=io,force:l=ao,particleCount:u=uo,particleShape:s=co,particleSize:i=vo,particleClass:a=fo,destroyAfterDone:v=go,stageHeight:b=ho,stageWidth:h=_o}=r;b=typeof b=="number"?b+"px":b,h=typeof h=="number"?h+"px":h,$i(wi),t.classList.add(ki),t.style.setProperty("--sh",b);let f=[],j=[];const P=()=>Nr(Ft()*(Ei-1)),H=(B,$)=>s!=="rectangles"&&(B==="circles"||Li($));function A(B,$){const M=P(),E=H(s,M),L=(y,k)=>B.style.setProperty(y,k+"");L("--xlp",`calc(${rn(xo($,90)-180)/180-.5} * ${h})`),L("--dc",o-Nr(Ft()*1e3)+"ms");const C=Ft()<zi?kr(Ft()*Ti,2):0;L("--x1",C),L("--x2",C*-1),L("--x3",C),L("--x4",kr(rn(bo(rn(xo($,90)-180),0,180,-1,1)),4)),L("--y1",kr(Ft()*mo,4)),L("--y2",kr(Ft()*l*(ys()?1:-1),4)),L("--y3",mo),L("--y4",kr(qi(bo(rn($-180),0,180,l,-l),0),4)),L("--w",(E?i:Nr(Ft()*4)+i/2)+"px"),L("--h",(E?i:Nr(Ft()*2)+i)+"px");const c=M.toString(2).padStart(3,"0").split("");L("--hr",c.map(y=>+y/2+"").join(" ")),L("--r",c.join(" ")),L("--rd",kr(Ft()*(Si-po)+po)+"ms"),L("--br",E?"50%":0)}let F;function W(){t.innerHTML="",clearTimeout(F),f=yo(u,n),j=Mi(t,f,a);for(const[B,$]of wo(j))A($,f[+B].degree);F=setTimeout(()=>{v&&(t.innerHTML="")},o)}return W(),{update(B){const $=B.particleCount??uo,M=B.particleShape??co,E=B.particleSize??vo,L=B.particleClass??fo,C=B.colors??lo,c=B.stageHeight??ho,y=B.duration??io,k=B.force??ao,T=B.stageWidth??_o,m=B.destroyAfterDone??go;f=yo($,C);let q=!1;if($===u){j=Array.from(t.querySelectorAll(`.${ms}`));for(const[S,{color:x}]of wo(f)){const p=j[+S];JSON.stringify(n)!==JSON.stringify(C)&&p.style.setProperty("--bgc",x),M!==s&&p.style.setProperty("--br",H(M,P())?"50%":"0"),L!==a&&(a&&p.classList.remove(a),L&&p.classList.add(L))}}else q=!0;v&&!m&&clearTimeout(F),t.style.setProperty("--sh",c+"px"),o=y,n=C,l=k,u=$,s=M,i=E,a=L,v=m,b=c,h=T,q&&W()},destroy(){t.innerHTML="",clearTimeout(F)}}}function $i(t){if(document.querySelector("style[data-neoconfetti]"))return;const r=En("style");r.dataset.neoconfetti="",r.textContent=t,Ln(document.head,r)}function Mi(t,r=[],n){const o=[];for(const{color:l}of r){const u=En("div");u.className=`${ms} ${n}`,u.style.setProperty("--bgc",l);const s=En("div");Ln(u,s),Ln(t,u),o.push(u)}return o}const po=200,Si=800,zi=.1,Ti=.3,mo=.5,rn=Math.abs,Ft=Math.random,Nr=Math.round,qi=Math.max,En=t=>document.createElement(t),Ln=(t,r)=>t.appendChild(r),yo=(t,r)=>Array.from({length:t},(n,o)=>({color:r[o%r.length],degree:o*360/t})),kr=(t,r=2)=>Nr((t+Number.EPSILON)*10**r)/10**r,bo=(t,r,n,o,l)=>(t-r)*(l-o)/(n-r)+o,xo=(t,r)=>t+r>360?t+r-360:t+r,ys=()=>Ft()>.5,wo=Object.entries,Ei=6,Li=t=>t!==1&&ys(),Ci=(t,r=fe,n=fe)=>{var o=Pe(),l=re(o);{var u=s=>{var i=Ai(),a=ne(i),v=ne(a);Rl(v,(f,j)=>Pi?.(f,j),()=>({stageHeight:"100vh",stageWidth:"100vw"}));var b=g(a,2),h=ne(b);ie(()=>lt(h,r())),d(s,i)};pe(l,s=>{n()&&s(u)})}d(t,o)};var Ai=ge('<div class="win-container svelte-16qq312"><div class="confetti-container svelte-16qq312"><div class="svelte-16qq312"></div></div> <div class="win svelte-16qq312"> </div></div>'),ji=ge('<div class="rules svelte-16qq312"><!></div>'),Ri=ge('<div class="main-container svelte-16qq312"><!> <!> <!> <!></div>');function dt(t,r){je(r,!0);const n=Vt(r,"model",15);var o=Ri(),l=ne(o);{var u=f=>{{let j=N(()=>n().customSize&&r.sizeLimit.minRows<r.sizeLimit.maxRows),P=N(()=>n().customSize&&r.sizeLimit.minCols<r.sizeLimit.maxCols);xi(f,{get rows(){return n().rows},get columns(){return n().columns},get showRowButtons(){return e(j)},get showColButtons(){return e(P)},get locked(){return n().locked},resize:(H,A)=>ci(n(),r.methods,H,A,r.sizeLimit),children:(H,A)=>{var F=Pe(),W=re(F);at(W,()=>r.board),d(H,F)},$$slots:{default:!0}})}},s=f=>{var j=Pe(),P=re(j);at(P,()=>r.board),d(f,j)};pe(l,f=>{r.sizeLimit&&ui(n())?f(u):f(s,!1)})}var i=g(l,2);at(i,()=>r.config);var a=g(i,2);Ci(a,()=>r.winTitle||"GAGNÉ",()=>n().showWin);var v=g(a,2);{var b=f=>{fr(f,{title:"Règles du jeu",onOk:()=>n(n().dialog=null,!0),children:(j,P)=>{var H=ji(),A=ne(H);at(A,()=>r.rules),d(j,H)}})},h=f=>{var j=Pe(),P=re(j);{var H=F=>{var W=Pe(),B=re(W);at(B,()=>r.custom??fe),d(F,W)},A=F=>{var W=Pe(),B=re(W);{var $=E=>{fr(E,{title:"Meilleur score",onOk:()=>n(n().dialog=null,!0),children:(L,C)=>{const c=N(()=>n().scores[r.methods.scoreHash()??"$custom"][1]);var y=Pe(),k=re(y);at(k,()=>r.bestScore??fe,()=>e(c)),d(L,y)}})},M=E=>{var L=Pe(),C=re(L);{var c=y=>{fr(y,{title:"Nouvelle Partie",onOk:()=>Ee(n(),r.methods),onCancel:()=>n(n().newGameAction=null,!0),children:(k,T)=>{var m=Pr("Tu es sur le point de créer une nouvelle partie. Ta partie en cours sera perdue. Es-tu sûr(e)?");d(k,m)}})};pe(C,y=>{n().newGameAction&&y(c)},!0)}d(E,L)};pe(B,E=>{n().dialog=="score"&&_s(n())&&di(r.methods)?E($):E(M,!1)},!0)}d(F,W)};pe(P,F=>{n().dialog==="customize"?F(H):F(A,!1)},!0)}d(f,j)};pe(v,f=>{n().dialog==="rules"?f(b):f(h,!1)})}d(t,o),Re()}var Ni=ge('<div><div class="title svelte-v5cdzl"> </div> <div class="icons svelte-v5cdzl"><!></div></div>');function Qe(t,r){var n=Ni(),o=ne(n),l=ne(o),u=g(o,2),s=ne(u);at(s,()=>r.children),ie(()=>lt(l,r.title)),d(t,n)}function Yr(t,r){je(r,!0);const n=Vt(r,"model",15);let o=N(()=>n().scores[r.methods.scoreHash()??"$custom"]),l=N(()=>`Meilleur score (${e(o)?""+e(o)[0]:"∅"})`);Qe(t,{get title(){return e(l)},children:(u,s)=>{{let i=N(()=>n().locked||!e(o));Ge(u,{text:"#cup",tooltip:"Meilleur score",get disabled(){return e(i)},onclick:()=>n(n().dialog="score",!0)})}}}),Re()}function Ar(t,r){je(r,!0);const n=Vt(r,"model",15),o=Vt(r,"interaction",3,"click");{let l=N(()=>o()!=="click"?null:()=>n(n().help=!n().help,!0)),u=N(()=>o()!=="press"?null:()=>n(n().help=!0,!0)),s=N(()=>o()!=="press"?null:()=>n(n().help=!1,!0)),i=N(()=>o()!=="press"?null:()=>n(n().help=!1,!0));Ge(t,{text:"#help",tooltip:"Aide",get disabled(){return n().locked},get selected(){return n().help},get onclick(){return e(l)},get onpointerdown(){return e(u)},get onpointerup(){return e(s)},get onpointerleave(){return e(i)}})}Re()}function Nt(t,r){je(r,!0);{let n=N(()=>r.model.locked||r.model.history.length===0);Ge(t,{text:"#undo",tooltip:"Annule le dernier coup",get disabled(){return e(n)},onclick:()=>si(r.model,r.methods)})}Re()}function It(t,r){je(r,!0);{let n=N(()=>r.model.locked||r.model.redoHistory.length===0);Ge(t,{text:"#undo",tooltip:"Rejoue le coup annulé",style:"transform:scaleX(-1);",get disabled(){return e(n)},onclick:()=>li(r.model,r.methods)})}Re()}function vt(t,r){je(r,!0);{let n=N(()=>r.model.locked||r.model.history.length===0);Ge(t,{text:"#reset",tooltip:"Recommence la partie",get disabled(){return e(n)},onclick:()=>ii(r.model,r.methods)})}Re()}function ft(t,r){je(r,!0);const n=Vt(r,"model",15);{let o=N(()=>n().dialog==="rules");Ge(t,{text:"#rules",tooltip:"Règles",get disabled(){return n().locked},get selected(){return e(o)},onclick:()=>n(n().dialog="rules",!0)})}Re()}var Ii=ge("<!> <!>",1);function Ye(t,r){je(r,!0),Qe(t,{get title(){return r.title},children:(n,o)=>{var l=Ii(),u=re(l);Me(u,17,()=>r.values,ze,(i,a,v)=>{{let b=N(()=>Array.isArray(r.text)?r.text[v]:r.text?r.text(e(a)):""+e(a)),h=N(()=>Array.isArray(r.tooltip)?r.tooltip[v]:r.tooltip?r.tooltip(e(a)):null),f=N(()=>e(a)===r.selected),j=N(()=>Array.isArray(r.disabled)?r.disabled[v]:typeof r.disabled=="function"?r.disabled(e(a)):!!r.disabled);Ge(i,{get text(){return e(b)},get tooltip(){return e(h)},get selected(){return e(f)},onclick:()=>r.setter(e(a)),get disabled(){return e(j)}})}});var s=g(u,2);at(s,()=>r.children??fe),d(n,l)}}),Re()}function Oi(t,r){je(r,!0),Qe(t,{get title(){return r.title},children:(n,o)=>{var l=Pe(),u=re(l);Me(u,17,()=>r.values,ze,(s,i)=>{{let a=N(()=>""+e(i)),v=N(()=>r.selected.includes(e(i)));Ge(s,{get text(){return e(a)},get selected(){return e(v)},onclick:()=>r.setter(e(i)),get disabled(){return r.disabled}})}}),d(n,l)}}),Re()}var Fi=ge("<!> <!>",1);function jr(t,r){je(r,!0);const n=Vt(r,"model",15),o=(l,u)=>Ee(n(),r.methods,()=>{n(n().rows=l,!0),n(n().columns=u,!0),n(n().customSize=!1,!0)});Qe(t,{title:"Dimensions de la grille",children:(l,u)=>{var s=Fi(),i=re(s);Me(i,17,()=>r.values,ze,(b,h)=>{var f=N(()=>Pt(e(h),2));let j=()=>e(f)[0],P=()=>e(f)[1];{let H=N(()=>!n().customSize&&j()===n().rows&&P()===n().columns);Ge(b,{get text(){return`${j()??""}x${P()??""}`},get selected(){return e(H)},onclick:()=>o(j(),P())})}});var a=g(i,2);{var v=b=>{Ge(b,{text:"NxM",tooltip:"Taille personalisée",get selected(){return n().customSize},onclick:()=>Ee(n(),r.methods,()=>n(n().customSize=!0,!0))})};pe(a,b=>{r.customSize&&b(v)})}d(l,s)}}),Re()}function vn(t,r){je(r,!0);const n=Vt(r,"model",15),o=()=>{n(n().computerStarts=!0,!0),gs(n(),r.methods)};Ye(t,{title:"Mode de jeu",values:["random","expert","duel"],text:["#school","#enstein","#duel"],tooltip:["IA mode facile","IA mode expert","Affronte un autre joueur"],get selected(){return n().mode},get disabled(){return n().locked},setter:l=>Ee(n(),r.methods,()=>n(n().mode=l,!0)),children:(l,u)=>{{let s=N(()=>n().locked||n().computerStarts||n().mode==="duel"||n().history.length>0);Ge(l,{text:"2P⇨",tooltip:"L'IA commence",get disabled(){return e(s)},onclick:o})}},$$slots:{default:!0}}),Re()}var Bi=ge('<div class="card svelte-xdgvle"><div class="head svelte-xdgvle"><div class="title svelte-xdgvle"> </div></div> <div class="body svelte-xdgvle"><!></div></div>');function gt(t,r){var n=Bi(),o=ne(n),l=ne(o),u=ne(l),s=g(o,2),i=ne(s);at(i,()=>r.children),ie(()=>lt(u,r.title)),d(t,n)}const Di=t=>{var r=Wi();d(t,r)};var Gi=ae('<rect class="base svelte-133gz3q"></rect>'),Hi=ae('<g class="player svelte-133gz3q"><use href="#meeple" width="7" height="7"></use></g>'),Ui=ge('<div class="ui-board board svelte-133gz3q"><svg viewBox="0 0 100 100" class="svelte-133gz3q"><!><!></svg></div>'),Zi=ge("<!> <!> <!> <!>",1),Vi=ge("<!> <!>",1),Wi=ge(`Le but de <strong class="svelte-133gz3q">Baseball multicolore</strong> est d'amener chaque <strong class="svelte-133gz3q">jeton</strong> dans sa <strong class="svelte-133gz3q">base</strong> (celle qui a la même couleur que le jeton).<br class="svelte-133gz3q"/> Pour cela, tu peux déplacer un jeton vers une base <strong class="svelte-133gz3q">adjacente</strong> si celle-ci possède un emplacement <strong class="svelte-133gz3q">libre</strong>.<br class="svelte-133gz3q"/> Pour déplacer un jeton, il te suffit de <strong class="svelte-133gz3q">cliquer</strong> dessus.`,1);function Ji(t,r){je(r,!0);const n=A=>{var F=Ui(),W=ne(F),B=ne(W);Me(B,17,()=>Xl(j,e(u)),ze,(M,E,L)=>{var C=Gi();let c;ie(y=>{I(C,"stroke",e(E)),c=me(C,"",c,y)},[()=>({transform:H(L)})]),d(M,C)});var $=g(B);Me($,17,()=>e(l).position,ze,(M,E,L)=>{var C=Pe(),c=re(C);{var y=k=>{var T=Hi();let m;var q=ne(T);q.__click=()=>st(e(l),f,L);let S;ie((x,p)=>{m=me(T,"",m,x),I(q,"fill",j[L/2|0]),Fe(q,0,Be({animate:e(i)}),"svelte-133gz3q"),S=me(q,"",S,p)},[()=>({transform:P(e(E))}),()=>({cursor:a(L)!==null?"pointer":"not-allowed","animation-delay":`${1e3+2e3*L/e(u)}ms`})]),d(k,T)};pe(c,k=>{L!==e(s)&&k(y)})}d(M,C)}),d(A,F)},o=A=>{gt(A,{title:"Baseball multicolore",children:(F,W)=>{var B=Vi(),$=re(B);te($,()=>Ye,(E,L)=>{L(E,{title:"Nombre de bases",values:[4,5,6,7,8],get selected(){return e(u)},setter:C=>Ee(e(l),f,()=>_(u,C,!0))})});var M=g($,2);te(M,()=>Qe,(E,L)=>{L(E,{title:"Options",children:(C,c)=>{var y=Zi(),k=re(y);te(k,()=>Nt,(S,x)=>{x(S,{get methods(){return f},get model(){return e(l)},set model(p){_(l,p,!0)}})});var T=g(k,2);te(T,()=>It,(S,x)=>{x(S,{get methods(){return f},get model(){return e(l)},set model(p){_(l,p,!0)}})});var m=g(T,2);te(m,()=>vt,(S,x)=>{x(S,{get methods(){return f},get model(){return e(l)},set model(p){_(l,p,!0)}})});var q=g(m,2);te(q,()=>ft,(S,x)=>{x(S,{get model(){return e(l)},set model(p){_(l,p,!0)}})}),d(C,y)},$$slots:{default:!0}})}),d(F,B)}})};let l=_e(Ae(ct(We(0,10)))),u=_e(5),s=_e(1),i=N(()=>e(l).position.every((A,F)=>A>>1==F>>1));function a(A){const F=e(l).position,W=e(s),B=F[A],$=F[W];return[1,e(u)-1,-1,-e(u)+1].includes((B>>1)-($>>1))?F.with(A,$).with(W,B):null}const f={play:a,isLevelFinished:()=>e(i),initialPosition:()=>ni(We(0,2*e(u))),onNewGame:()=>_(s,nr(0,2*e(u)),!0)},j=["blue","red","green","magenta","orange","black","cyan","gray"],P=A=>{const W=2*(A/2|0)*Math.PI/e(u),B=.42+.35*Math.cos(W)+.1*(A%2),$=.46+.35*Math.sin(W);return`translate(${100*B}%, ${100*$}%)`},H=A=>{const F=2*A*Math.PI/e(u),W=.5+.35*Math.cos(F),B=.5+.35*Math.sin(F);return`translate(${100*W}%, ${100*B}%) rotate(45deg)`};Ee(e(l),f),dt(t,{get methods(){return f},get board(){return n},get config(){return o},get rules(){return Di},get model(){return e(l)},set model(A){_(l,A,!0)}}),Re()}Ze(["click"]);var Ki=(t,r)=>_(r,xr(t),!0),Yi=ae("<svg><!><!></svg>");function Qr(t,r){je(r,!0);let n=_e(null);var o=Yi();o.__pointermove=[Ki,n];var l=ne(o);at(l,()=>r.children);var u=g(l);{var s=i=>{var a=Pe(),v=re(a);at(v,()=>r.pointer,()=>e(n).x,()=>e(n).y),d(i,a)};pe(u,i=>{e(n)&&i(s)})}ie(()=>{I(o,"viewBox",r.viewBox),Fe(o,0,Be(r.class)),me(o,r.style)}),et("pointerleave",o,()=>_(n,null)),d(t,o),Re()}Ze(["pointermove"]);const Qi=t=>{var r=va();d(t,r)};var Xi=(t,r,n,o,l)=>{_(r,null),st(e(n),o,l())},ea=ae('<circle r="7" class="cutter svelte-1oz20vc"></circle>'),ta=ae('<use href="#skull" class="pointer svelte-1oz20vc" x="-20" y="-20" width="26" height="26"></use>'),ra=(t,r,n,o)=>r([n(),o()]),na=ae("<rect></rect>"),oa=ae("<!><!>",1),sa=ae("<!><!>",1),la=ae('<use href="#skull" width="26" height="26" class="skull svelte-1oz20vc"></use>'),ia=ae('<line class="cut-line svelte-1oz20vc"></line>'),aa=ae("<!><!><!><!>",1),ua=ge('<div class="board-container svelte-1oz20vc"><div class="turn-message svelte-1oz20vc"> </div> <div class="ui-board"><!></div></div>'),ca=ge("<!> <!> <!> <!>",1),da=ge("<!> <!> <!> <!>",1),va=ge(`<strong>Chocolat</strong> est un jeu à <strong>deux joueurs</strong>.<br/> A chaque tour, un joueur <strong>coupe</strong> la barre de chocolat en deux, <strong>verticalement</strong> ou <strong>horizontalement</strong> et conserve celle
  qui contient le <strong>carré empoisonné</strong>.<br/> Lorsqu'il ne reste que le carré empoisonné, le joueur qui doit jouer a <strong>perdu</strong>.`,1);function fa(t,r){je(r,!0);const n=(c,y=fe,k=fe,T=fe)=>{var m=ea();m.__click=[Xi,v,s,A,T],ie(()=>{I(m,"cx",50*k()),I(m,"cy",50*y())}),et("pointerenter",m,()=>_(v,T(),!0)),et("pointerleave",m,()=>_(v,null)),d(c,m)},o=(c,y=fe,k=fe)=>{var T=Pe(),m=re(T);{var q=S=>{var x=ta();let p;ie(z=>p=me(x,"",p,z),[()=>({transform:`translate(${y()*100}%,${k()*100}%)`})]),d(S,x)};pe(m,S=>{e(i)===null&&S(q)})}d(c,T)},l=c=>{const y=N(()=>{const{left:x,right:p,top:z,bottom:R}=e(s).position;return{left:x,right:p,top:z,bottom:R}});var k=ua(),T=ne(k),m=ne(T),q=g(T,2),S=ne(q);{let x=N(()=>50*e(s).columns+14),p=N(()=>50*e(s).rows+14);Qr(S,{get pointer(){return o},get viewBox(){return`-7 -7 ${e(x)??""} ${e(p)??""}`},children:(z,R)=>{var X=aa(),Q=re(X);Me(Q,17,()=>e(W),ze,(J,se)=>{var le=N(()=>Pt(e(se),2));let de=()=>e(le)[0],ue=()=>e(le)[1];var Z=na();Z.__click=[ra,C,de,ue];let Y;ie((ee,ce)=>{Fe(Z,0,ee,"svelte-1oz20vc"),Y=me(Z,"",Y,ce)},[()=>Be(["square",{soap:e(i)!==null&&e(i)[0]===de()&&e(i)[1]===ue(),hidden:!F(de(),ue())}]),()=>({transform:`translate(${50*ue()}px, ${50*de()}px)`})]),d(J,Z)});var U=g(Q);Me(U,17,()=>e(B),ze,(J,se)=>{var le=N(()=>Pt(e(se),2));let de=()=>e(le)[0],ue=()=>e(le)[1];var Z=Pe(),Y=re(Z);{var ee=ve=>{var ye=oa(),be=re(ye);n(be,()=>e(y).top,ue,()=>[de(),ue()]);var Se=g(be);n(Se,()=>e(y).bottom,ue,()=>[de(),ue()]),d(ve,ye)},ce=ve=>{var ye=sa(),be=re(ye);n(be,ue,()=>e(y).left,()=>[de(),ue()]);var Se=g(be);n(Se,ue,()=>e(y).right,()=>[de(),ue()]),d(ve,ye)};pe(Y,ve=>{de()==="left"||de()==="right"?ve(ee):ve(ce,!1)})}d(J,Z)});var D=g(U);{var K=J=>{const se=N(()=>{const[de,ue]=e(i);return{row:de,col:ue}});var le=la();ie(()=>{I(le,"x",50*e(se).col+12),I(le,"y",50*e(se).row+12)}),d(J,le)};pe(D,J=>{e(i)!==null&&J(K)})}var oe=g(D);{var G=J=>{const se=N(()=>{const{x1:de,x2:ue,y1:Z,y2:Y}=e($);return{x1:de,x2:ue,y1:Z,y2:Y}});var le=ia();ie(()=>{I(le,"x1",50*e(se).x1),I(le,"x2",50*e(se).x2),I(le,"y1",50*e(se).y1),I(le,"y2",50*e(se).y2)}),d(J,le)};pe(oe,J=>{e($)&&J(G)})}d(z,X)},$$slots:{default:!0}})}ie(x=>{lt(m,e(M)),me(q,x)},[()=>Rt(e(s).rows,e(s).columns,3)]),d(c,k)},u=c=>{gt(c,{title:"Chocolat",children:(y,k)=>{var T=da(),m=re(T);te(m,()=>jr,(p,z)=>{z(p,{get methods(){return A},values:[[6,7]],customSize:!0,get model(){return e(s)},set model(R){_(s,R,!0)}})});var q=g(m,2);te(q,()=>Ye,(p,z)=>{z(p,{title:"Emplacement du savon",values:["corner","border","standard","custom"],text:["#choc-mode0","#choc-mode1","#choc-mode2","#customize"],tooltip:["Dans le coin","Sur le bord","N'importe où","Personnalisé"],get selected(){return e(a)},get disabled(){return e(s).locked},setter:R=>Ee(e(s),A,()=>_(a,R,!0))})});var S=g(q,2);te(S,()=>vn,(p,z)=>{z(p,{get methods(){return A},get model(){return e(s)},set model(R){_(s,R,!0)}})});var x=g(S,2);te(x,()=>Qe,(p,z)=>{z(p,{title:"Options",children:(R,X)=>{var Q=ca(),U=re(Q);te(U,()=>Nt,(G,J)=>{J(G,{get methods(){return A},get model(){return e(s)},set model(se){_(s,se,!0)}})});var D=g(U,2);te(D,()=>It,(G,J)=>{J(G,{get methods(){return A},get model(){return e(s)},set model(se){_(s,se,!0)}})});var K=g(D,2);te(K,()=>vt,(G,J)=>{J(G,{get methods(){return A},get model(){return e(s)},set model(se){_(s,se,!0)}})});var oe=g(K,2);te(oe,()=>ft,(G,J)=>{J(G,{get model(){return e(s)},set model(se){_(s,se,!0)}})}),d(R,Q)},$$slots:{default:!0}})}),d(y,T)}})};let s=_e(Ae({...ct({left:0,right:0,top:0,bottom:0}),rows:6,columns:7,customSize:!1,mode:"random"})),i=_e(null),a=_e("corner"),v=_e(null);function b([c,y]){switch(c){case"left":return{...e(s).position,left:y};case"right":return{...e(s).position,right:y};case"top":return{...e(s).position,top:y};default:return{...e(s).position,bottom:y}}}function h(){const{left:c,right:y,top:k,bottom:T}=e(s).position;return c===y-1&&k===T-1}const f=()=>({left:0,right:e(s).columns,top:0,bottom:e(s).rows});function j(){if(e(a)==="custom")_(i,null);else{const c=e(a)==="standard"?nr(0,e(s).rows):0,y=e(a)!=="corner"?nr(0,e(s).columns):0;_(i,[c,y],!0)}}function P(){if(e(i)===null)return!1;const[c,y]=e(i),{left:k,right:T,top:m,bottom:q}=e(s).position;return(y-k^T-y-1^c-m^q-c-1)===0}function H(){if(e(i)===null)return[];const[c,y]=e(i),{left:k,right:T,top:m,bottom:q}=e(s).position,S=We(k+1,y+1).map(R=>["left",R]),x=We(y+1,T).map(R=>["right",R]),p=We(m+1,c+1).map(R=>["top",R]),z=We(c+1,q).map(R=>["bottom",R]);return S.concat(x,p,z)}const A={play:b,isLevelFinished:h,initialPosition:f,onNewGame:j,isLosingPosition:P,possibleMoves:H};function F(c,y){const{left:k,right:T,top:m,bottom:q}=e(s).position;return y>=k&&y<T&&c>=m&&c<q}let W=N(()=>tr(e(s).rows,e(s).columns,(c,y)=>[c,y])),B=N(H),$=N(()=>{if(e(v)===null)return null;const{left:c,right:y,top:k,bottom:T}=e(s).position,[m,q]=e(v);return m==="left"||m==="right"?{x1:q,y1:k,x2:q,y2:T}:{x1:c,y1:q,x2:y,y2:q}}),M=N(()=>e(i)===null?"Place le savon":ps(e(s),A)),E=N(()=>Jn(e(s)));const L={minRows:4,minCols:4,maxRows:10,maxCols:10};function C(c){e(i)===null&&_(i,c,!0)}Ee(e(s),A),dt(t,{get methods(){return A},get board(){return l},get config(){return u},get rules(){return Qi},get winTitle(){return e(E)},get sizeLimit(){return L},get model(){return e(s)},set model(c){_(s,c,!0)}}),Re()}Ze(["click"]);function Ur(t,r,n){const{x:o,y:l}=t.vertices[r],{x:u,y:s}=t.vertices[n];return{x1:o,x2:u,y1:l,y2:s}}function ga(t,r){t.vertices.push(r)}function ha(t,r){t.vertices.splice(r,1),t.edges=t.edges.filter(([n,o])=>n!==r&&o!==r).map(([n,o])=>[n>r?n-1:n,o>r?o-1:o])}function _a(t,r,n){r>n&&([r,n]=[n,r]),t.edges=t.edges.filter(o=>o[0]!==r||o[1]!==n)}function pa(t,r,n){r>n&&([r,n]=[n,r]),t.edges.findIndex(o=>o[0]===r&&o[1]===n)===-1&&t.edges.push([r,n])}const ma=(t,r,n)=>{e(r)==="vertex"&&ga(n,xr(t))},ya=(t,r,n,o,l)=>{if(e(r)===null)return;const{x:u,y:s}=xr(t);e(n)==="vertex"&&e(r)!==null?o.vertices[e(r)]={x:u,y:s}:e(n)==="addedge"&&_(l,{x:u,y:s})};var ba=(t,r,n,o)=>r(n(),o()),xa=ae('<line class="edge svelte-gj4d79"></line>'),wa=ae('<circle r="3"></circle>'),ka=ae('<line class="line-to-pointer svelte-gj4d79"></line>'),Pa=ge('<div class="container svelte-gj4d79"><div class="board svelte-gj4d79"><svg viewBox="0 0 100 100"><!><!><!> S.line</svg></div> <div class="buttons svelte-gj4d79"><!> <!> <!> <!></div></div>');function bs(t,r){je(r,!0);let n=Ae({title:"Graph personnalisé",vertices:[],edges:[]}),o=_e("vertex"),l=_e(null),u=_e(null);function s(){e(o)==="addedge"&&(_(l,null),_(u,null))}function i(h,f){e(o)==="vertex"?h.stopPropagation():e(o)==="delete"&&ha(n,f)}function a(h){e(o)==="vertex"?(_(l,null),_(u,null)):e(o)==="addedge"&&e(l)!==null&&(pa(n,e(l),h),_(l,null))}function v(h,f){h.stopPropagation(),(e(o)==="addedge"||e(o)==="vertex")&&_(l,f,!0)}function b(h,f){e(o)==="delete"&&_a(n,h,f)}fr(t,{title:"Créé ton graphe",onOk:()=>r.onOk(n),children:(h,f)=>{var j=Pa(),P=ne(j),H=ne(P);H.__pointerup=s,H.__click=[ma,o,n],H.__pointermove=[ya,l,o,n,u];var A=ne(H);Me(A,17,()=>n.edges,ze,(c,y)=>{var k=N(()=>Pt(e(y),2));let T=()=>e(k)[0],m=()=>e(k)[1];const q=N(()=>{const{x1:x,y1:p,x2:z,y2:R}=Ur(n,T(),m());return{x1:x,y1:p,x2:z,y2:R}});var S=xa();S.__click=[ba,b,T,m],ie(()=>{I(S,"x1",100*e(q).x1),I(S,"y1",100*e(q).y1),I(S,"x2",100*e(q).x2),I(S,"y2",100*e(q).y2)}),d(c,S)});var F=g(A);Me(F,17,()=>n.vertices,ze,(c,y,k)=>{let T=()=>e(y).x,m=()=>e(y).y;var q=wa();q.__click=S=>i(S,k),q.__pointerdown=S=>v(S,k),q.__pointerup=()=>a(k),ie(()=>{I(q,"cx",100*T()),I(q,"cy",100*m()),Fe(q,0,Be(["vertex",{selected:e(l)===k}]),"svelte-gj4d79")}),d(c,q)});var W=g(F);{var B=c=>{const y=N(()=>{const{x:T,y:m}=n.vertices[e(l)];return{x:T,y:m}});var k=ka();ie(()=>{I(k,"x1",100*e(y).x),I(k,"y1",100*e(y).y),I(k,"x2",100*e(u).x),I(k,"y2",100*e(u).y)}),d(c,k)};pe(W,c=>{e(l)!==null&&e(u)!==null&&c(B)})}var $=g(P,2),M=ne($);{let c=N(()=>e(o)==="vertex");Ge(M,{text:"#vertex",get selected(){return e(c)},tooltip:"Ajoute ou déplace un sommet",onclick:()=>_(o,"vertex")})}var E=g(M,2);{let c=N(()=>e(o)==="addedge");Ge(E,{text:"#edge",get selected(){return e(c)},tooltip:"Connecte deux sommets",onclick:()=>_(o,"addedge")})}var L=g(E,2);{let c=N(()=>e(o)==="delete");Ge(L,{text:"#trash",get selected(){return e(c)},tooltip:"Retire un sommet ou une arête",onclick:()=>_(o,"delete")})}var C=g(L,2);Ge(C,{text:"#clear",tooltip:"Efface tout le graphe",onclick:()=>{n.vertices=[],n.edges=[]}}),ie(()=>Fe(H,0,`svg ${e(o)??""}`,"svelte-gj4d79")),et("pointerleave",H,s),d(h,j)}}),Re()}Ze(["pointerup","click","pointermove","pointerdown"]);const $a=t=>{var r=Ra();d(t,r)};var Ma=ae('<line class="line-to-pointer svelte-476vzw"></line>'),Sa=ae('<line class="line1 svelte-476vzw"></line>'),za=ae("<path></path>"),Ta=ae('<circle r="3" fill="blue"></circle>'),qa=ae("<!><!><!>",1),Ea=ge('<div class="ui-board board svelte-476vzw"><!> <span class="title svelte-476vzw"> </span> <span class="raise-info svelte-476vzw"> </span> <button class="ui-button ui-button-primary raise svelte-476vzw">Lever le crayon</button></div>'),La=ge("<!> <!> <!> <!>",1),Ca=ge("<!> <!> <!>",1),Aa=ae('<line class="line2 svelte-476vzw" stroke="red"></line><text class="edge-no svelte-476vzw"></text>',1),ja=ge('<div class="bestscore svelte-476vzw"><svg viewBox="0 0 100 100"></svg></div>'),Ra=ge("Le but du jeu est de dessiner le motif indiqué en pointillé en levant le moins souvent possible le crayon.<br/> Pour lever le crayon, tu peux cliquer sur le bouton prévu pour ou utiliser le clic droit.",1);function Na(t,r){je(r,!0);const n=(G,J=fe,se=fe)=>{var le=Pe(),de=re(le);{var ue=Z=>{const Y=N(()=>{const{x:ce,y:ve}=e(C).vertices[e($).position.at(-1)];return{x:ce,y:ve}});var ee=Ma();ie(()=>{I(ee,"x1",e(Y).x*100),I(ee,"y1",e(Y).y*100),I(ee,"x2",J()*100),I(ee,"y2",se()*100),I(ee,"stroke",U[e(k)]??"red")}),d(Z,ee)};pe(de,Z=>{!e(T)&&typeof e($).position.at(-1)=="number"&&Z(ue)})}d(G,le)},o=G=>{var J=Ea();J.__contextmenu=ee=>{ee.preventDefault(),st(e($),X,"raise")};var se=ne(J);Qr(se,{viewBox:"0 0 100 100",get pointer(){return n},children:(ee,ce)=>{var ve=qa(),ye=re(ve);Me(ye,17,()=>e(C).edges,ze,(w,O)=>{var V=N(()=>Pt(e(O),2));let he=()=>e(V)[0],xe=()=>e(V)[1];const ke=N(()=>{const{x1:Le,x2:$e,y1:qe,y2:Ie}=Ur(e(C),he(),xe());return{x1:Le,x2:$e,y1:qe,y2:Ie}});var we=Sa();ie(()=>{I(we,"x1",e(ke).x1*100),I(we,"x2",e(ke).x2*100),I(we,"y1",e(ke).y1*100),I(we,"y2",e(ke).y2*100)}),d(w,we)});var be=g(ye);Me(be,19,()=>e(D),({path:w,length:O,start:V},he)=>`${he},${e(L)}`,(w,O,V)=>{let he=()=>e(O).path,xe=()=>e(O).length,ke=()=>e(O).start;var we=za();let Le;ie($e=>{I(we,"d",he()),Fe(we,0,Be(["line2",{animate:e(T)}]),"svelte-476vzw"),I(we,"stroke-dasharray",e(T)?100*xe():"0"),I(we,"stroke-dashoffset",e(T)?100*xe():"0"),I(we,"stroke",U[e(V)]??"red"),Le=me(we,"",Le,$e)},[()=>({"animation-duration":`${xe()??""}s`,"animation-delay":`${ke()??""}s`})]),et("animationend",we,function(...$e){(e(V)<e(D).length-1?null:()=>_(L,e(L)+1))?.apply(this,$e)}),d(w,we)});var Se=g(be);{var Te=w=>{var O=Pe(),V=re(O);Me(V,17,()=>e(C).vertices,ze,(he,xe,ke)=>{let we=()=>e(xe).x,Le=()=>e(xe).y;var $e=Ta();$e.__click=()=>st(e($),X,ke),ie(qe=>{I($e,"cx",we()*100),I($e,"cy",Le()*100),I($e,"stroke",qe)},[()=>ke===e($).position.at(-1)?"red":"blue"]),d(he,$e)}),d(w,O)};pe(Se,w=>{e(T)||w(Te)})}d(ee,ve)},$$slots:{default:!0}});var le=g(se,2),de=ne(le),ue=g(le,2),Z=ne(ue),Y=g(ue,2);Y.__click=()=>st(e($),X,"raise"),ie(ee=>{lt(de,e(C).title),lt(Z,`${e(k)??""} levé${e(k)>0?"s":""} de crayon`),Y.disabled=ee},[()=>e(T)||typeof e($).position.at(-1)!="number"]),d(G,J)},l=G=>{gt(G,{title:"Dessin",children:(J,se)=>{var le=Ca(),de=re(le);te(de,()=>Ye,(Y,ee)=>{ee(Y,{title:"Niveau",values:[0,1,2,3,4,5,6,7,8,9,10,11],get selected(){return e(M)},text:ce=>""+(ce+1),tooltip:ce=>B[ce].title,setter:ce=>Ee(e($),X,()=>_(M,ce,!0)),children:(ce,ve)=>{var ye=Pe(),be=re(ye);{let Se=N(()=>e(M)==="custom");te(be,()=>Ge,(Te,w)=>{w(Te,{text:"#customize",tooltip:"Créé ton propre graphe",get selected(){return e(Se)},onclick:K})})}d(ce,ye)},$$slots:{default:!0}})});var ue=g(de,2);te(ue,()=>Qe,(Y,ee)=>{ee(Y,{title:"Options",children:(ce,ve)=>{var ye=La(),be=re(ye);te(be,()=>Nt,(O,V)=>{V(O,{get methods(){return X},get model(){return e($)},set model(he){_($,he,!0)}})});var Se=g(be,2);te(Se,()=>It,(O,V)=>{V(O,{get methods(){return X},get model(){return e($)},set model(he){_($,he,!0)}})});var Te=g(Se,2);te(Te,()=>vt,(O,V)=>{V(O,{get methods(){return X},get model(){return e($)},set model(he){_($,he,!0)}})});var w=g(Te,2);te(w,()=>ft,(O,V)=>{V(O,{get model(){return e($)},set model(he){_($,he,!0)}})}),d(ce,ye)},$$slots:{default:!0}})});var Z=g(ue,2);te(Z,()=>Yr,(Y,ee)=>{ee(Y,{get methods(){return X},get model(){return e($)},set model(ce){_($,ce,!0)}})}),d(J,le)}})},u=(G,J=fe)=>{var se=ja(),le=ne(se);Me(le,21,()=>c(J()),ze,(de,ue,Z)=>{var Y=N(()=>Pt(e(ue),2));let ee=()=>e(Y)[0],ce=()=>e(Y)[1];const ve=N(()=>{const{x1:Te,x2:w,y1:O,y2:V}=Ur(e(C),ee(),ce());return{x1:Te,x2:w,y1:O,y2:V}});var ye=Aa(),be=re(ye),Se=g(be);Se.textContent=Z+1,ie(()=>{I(be,"x1",e(ve).x1*100),I(be,"x2",e(ve).x2*100),I(be,"y1",e(ve).y1*100),I(be,"y2",e(ve).y2*100),I(Se,"x",50*(e(ve).x1+e(ve).x2)),I(Se,"y",50*(e(ve).y1+e(ve).y2))}),d(de,ye)}),d(G,se)},s=G=>{bs(G,{onOk:oe})},i={title:"Maison",vertices:[{x:1,y:4},{x:3,y:4},{x:2,y:3},{x:1,y:2},{x:3,y:2},{x:2,y:1}],edges:[[0,1],[1,4],[3,4],[0,3],[0,2],[1,2],[2,3],[2,4],[3,5],[4,5]]},a={title:"Sablier",vertices:[{x:1,y:.7},{x:4,y:.7},{x:2.5,y:1.2},{x:2.5,y:1.9},{x:1.5,y:1.9},{x:3.5,y:1.9},{x:1.5,y:2.5},{x:3.5,y:2.5},{x:2.5,y:2.5},{x:2.5,y:3.2},{x:1,y:3.7},{x:4,y:3.7}],edges:[[0,1],[0,2],[1,2],[2,3],[3,4],[3,5],[4,6],[5,7],[6,8],[7,8],[8,9],[9,10],[9,11],[10,11]]},v={title:"Maison avec cave",vertices:[{x:2,y:2.5},{x:1,y:3.2},{x:3,y:3.2},{x:1,y:1.8},{x:3,y:1.8},{x:2,y:1},{x:2,y:4}],edges:[[0,1],[0,2],[0,3],[0,4],[1,2],[2,4],[3,4],[1,3],[3,5],[4,5],[1,6],[2,6]]},b={title:"Entrelacements",vertices:[{x:2.5,y:1},{x:4,y:1},{x:1,y:2},{x:2.5,y:2},{x:3.25,y:2},{x:2.5,y:2.5},{x:3.25,y:2.5},{x:4,y:2.5},{x:1,y:4},{x:3.25,y:4}],edges:[[0,1],[0,3],[2,3],[3,4],[1,7],[5,6],[6,7],[3,5],[4,6],[2,8],[6,9],[8,9]]},h={title:"Grille",vertices:[{x:0,y:.5},{x:2,y:.5},{x:4,y:.5},{x:1,y:1.5},{x:3,y:1.5},{x:0,y:2.5},{x:2,y:2.5},{x:4,y:2.5},{x:1,y:3.5},{x:3,y:3.5},{x:0,y:4.5},{x:2,y:4.5},{x:4,y:4.5}].map(({x:G,y:J})=>({x:G*.85+1,y:J*.85+.21})),edges:[[0,1],[1,2],[0,3],[1,3],[1,4],[2,4],[3,5],[3,6],[4,6],[4,7],[5,8],[6,8],[6,9],[7,9],[8,10],[8,11],[9,11],[9,12],[10,11],[11,12],[0,5],[2,7],[5,10],[7,12]]},f={title:"Ponts de Königsberg",vertices:[{x:1,y:0},{x:3,y:0},{x:0,y:1},{x:2,y:1},{x:4,y:1},{x:1,y:2},{x:3,y:2},{x:0,y:3},{x:2,y:4},{x:4,y:3}].map(({x:G,y:J})=>({x:G*.85+1,y:J*.85+1})),edges:[[0,2],[0,3],[1,3],[1,4],[4,6],[3,6],[3,5],[2,5],[2,7],[3,8],[4,9],[7,8],[8,9]]},j={title:"Tour",vertices:[{x:1,y:0},{x:0,y:1},{x:2,y:1},{x:1,y:2},{x:0,y:3},{x:2,y:3},{x:1,y:4},{x:0,y:5},{x:2,y:5}].map(({x:G,y:J})=>({x:G*.9+1,y:J*.9+.2})),edges:[[0,1],[0,2],[1,2],[1,3],[2,3],[3,4],[3,5],[4,5],[1,4],[2,5],[4,6],[5,6],[6,7],[6,8],[4,7],[5,8]]},P={title:"Soleil",vertices:[{x:1,y:2},{x:2,y:1},{x:3,y:2},{x:2,y:3},{x:.5,y:.5},{x:.5,y:3.5},{x:3.5,y:3.5},{x:3.5,y:.5},{x:2,y:2}].map(({x:G,y:J})=>({x:G*1.15,y:J*1.15})),edges:[[0,1],[1,2],[2,3],[0,3],[0,8],[1,8],[2,8],[3,8],[0,4],[1,4],[0,5],[3,5],[2,6],[3,6],[1,7],[2,7]]},H={title:"Ville folle",vertices:[{x:0,y:0},{x:2,y:0},{x:3,y:0},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:1,y:3},{x:2,y:3},{x:4,y:3},{x:0,y:4},{x:1,y:4},{x:3,y:4},{x:4,y:4},{x:1,y:5},{x:2,y:5},{x:3,y:5},{x:4,y:5}].map(({x:G,y:J})=>({x:G*.75+1,y:J*.72+.6})),edges:[[1,2],[0,3],[0,4],[1,4],[2,5],[4,5],[3,7],[4,8],[7,8],[5,8],[5,9],[6,9],[6,10],[8,11],[9,12],[11,12],[10,13],[14,15],[15,16],[16,17],[9,16],[12,16],[13,16],[14,18],[15,19],[16,20],[17,21],[18,19],[20,21]]},A={title:"Hibou",vertices:[{x:0,y:0},{x:2,y:0},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:1,y:3},{x:2,y:3},{x:4,y:3},{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:4,y:4},{x:1,y:5},{x:3,y:5}].map(({x:G,y:J})=>({x:G*.8+.5,y:J*.8+.6})),edges:[[0,2],[0,3],[1,3],[1,4],[2,3],[3,4],[4,5],[2,6],[2,7],[3,7],[3,8],[4,8],[4,9],[5,9],[6,7],[7,8],[7,10],[7,11],[8,11],[9,11],[9,12],[10,14],[11,15],[12,15],[9,15],[13,14],[14,15],[15,16],[13,17],[14,17],[15,18],[16,18]]},F={title:"Lièvre bondissant",vertices:[{x:1,y:0},{x:2,y:0},{x:4,y:0},{x:2,y:1},{x:3,y:1},{x:4,y:1},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:0,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:1,y:5}].map(({x:G,y:J})=>({x:G*.8+1,y:J*.8+.8})),edges:[[0,1],[0,3],[1,4],[2,4],[2,5],[3,4],[4,5],[3,6],[3,7],[4,7],[4,8],[5,8],[5,9],[7,8],[8,9],[6,10],[6,11],[7,11],[9,12],[12,13],[6,15],[10,15],[11,15],[14,15],[15,16],[12,16],[12,17],[13,17],[14,18],[15,18]]},W={title:"Croix",vertices:[{x:0,y:1},{x:0,y:2},{x:.5,y:1.5},{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:1,y:3},{x:1.5,y:.5},{x:1.5,y:1.5},{x:1.5,y:2.5},{x:2,y:0},{x:2,y:1},{x:2,y:2},{x:2,y:3},{x:2.5,y:1.5},{x:3,y:1},{x:3,y:2}].map(({x:G,y:J})=>({x:G*1.3+.5,y:J*1.3+.5})),edges:[[0,1],[0,2],[1,2],[0,4],[1,5],[2,4],[2,5],[3,4],[4,5],[5,6],[3,7],[4,7],[4,8],[5,8],[5,9],[6,9],[3,10],[4,11],[5,12],[6,13],[7,10],[7,11],[8,11],[8,12],[9,12],[9,13],[10,11],[11,12],[12,13],[11,14],[12,14],[11,15],[12,16],[14,15],[14,16],[15,16]]},B=[i,v,a,b,h,f,j,P,H,A,F,W];let $=_e(Ae({...ct([]),scores:{}})),M=_e(0),E=_e(Ae({title:"Graphe personnalisé",vertices:[],edges:[]})),L=_e(0),C=N(()=>{if(e(M)==="custom")return e(E);{const G=B[e(M)];return{...G,vertices:G.vertices.map(({x:J,y:se})=>({x:J/5,y:se/5}))}}});function c(G){const J=[];let se=G.length-1;for(let le=0;le<se;le++){let de=G[le],ue=G[le+1];de!=="raise"&&ue!=="raise"&&(de>ue&&([ue,de]=[de,ue]),J.push([de,ue]))}return J}let y=N(()=>c(e($).position)),k=N(()=>e($).position.filter(G=>G==="raise").length),T=N(()=>e(y).length===e(C).edges.length);function m(G,J,se){return J>se&&([se,J]=[J,se]),G.findIndex(le=>le[0]===J&&le[1]===se)!==-1}function q(G){const J=e($).position.at(-1);return G==="raise"?typeof J=="number"?[...e($).position,G]:null:typeof J=="number"&&(m(e(y),G,J)||!m(e(C).edges,G,J))?null:[...e($).position,G]}const X={play:q,isLevelFinished:()=>e(T),initialPosition:()=>[],objective:"minimize",score:()=>e(k),scoreHash:()=>e(M)==="custom"?null:""+e(M)};X.updateScore=()=>Kr(e($),X,!0,"onNewRecord");let Q=N(()=>`Tu as réussi en ${e(k)} levé${e(k)>1?"s":""}`);const U=["red","green","magenta","orange","gray","cyan","black","blue"];let D=N(()=>{let G=[],J="",se=0,le=0,de=null;for(const ue of e($).position)if(ue==="raise")se+=.5,G.push({path:J,length:se,start:le}),J="",le+=se,se=0,de=null;else{const{x:Z,y:Y}=e(C).vertices[ue];if(J+=`${J===""?"M":"L"} ${100*Z} ${100*Y}`,de){let[ee,ce]=de;se+=Math.sqrt((ee-Z)**2+(ce-Y)**2)}de=[Z,Y]}return J!==""&&(se+=2,G.push({path:J,length:se,start:le})),G});const K=()=>e($).dialog="customize";function oe(G){G.vertices.length>0&&(_(E,G,!0),_(M,"custom")),e($).dialog=null}Ee(e($),X),dt(t,{get methods(){return X},get board(){return o},get config(){return l},get rules(){return $a},get bestScore(){return u},get custom(){return s},get winTitle(){return e(Q)},get model(){return e($)},set model(G){_($,G,!0)}}),Re()}Ze(["contextmenu","click"]);function Ia(t){const r=new Array(t.size),n=new Array(t.size),o=[...t.AConfs,...t.BConfs];for(const u of o){const s=t.encode(u);r[s]=[],n[s]=[]}for(const u of o)for(const s of t.neighbors(u))r[t.encode(u)].push(s),n[t.encode(s)].push(u);const l=Oa(t,r,n);return{adj:r,reverseAdj:n,attractor:l,...t}}function Oa(t,r,n){const o=new Array(t.size),l=new Array(t.size),u=[];for(const s of t.BConfs){const i=t.encode(s),a=r[i];l[i]=a.length,a.length===0&&(u.push(s),o[i]=1)}for(;u.length>0;){const s=u.shift(),i=t.encode(s),a=o[i];for(const v of n[i]){const b=t.encode(v);!o[b]&&(t.isAConf(v)||--l[b]===0)&&(o[b]=a+1,u.push(v))}}return o}function Fa(t,r){const n=t.adj[t.encode(r)];return ti(n,o=>t.attractor.at(t.encode(o))??1e3)}const Ba=(t,r=fe,n=fe)=>{var o=Ua();let l;ie(u=>l=me(o,"",l,u),[()=>({transform:`translate(${100*r()}px, ${100*n()}px)`})]),d(t,o)},Da=t=>{var r=tu();d(t,r)};function Ga(t,r,n,o,l){e(r)==="preparation"?(_(r,"game"),e(n).computerStarts=!1):st(e(n),o,e(l))}function ko(t,r,n){e(r)!==null&&_(n,xr(t),!0)}var Ha=ae('<line class="line2 svelte-l0ojxb"></line><path fill="red"></path>',1),Ua=ae('<use href="#roman" width="6" height="12" x="-3" y="-6" pointer-events="none"></use>'),Za=(t,r)=>r(null),Va=ae('<line class="line1 svelte-l0ojxb"></line>'),Wa=ae('<circle r="3" fill="blue"></circle>'),Ja=ae('<use href="#roman" width="6" height="12" x="-3" y="-6"></use>'),Ka=ae('<use href="#eternal-attack" width="8" height="8" x="-4" y="-4" pointer-events="none"></use>'),Ya=ae('<rect width="10" height="10" x="-5" y="-5" fill="transparent"></rect>'),Qa=ge('<div class="ui-board board svelte-l0ojxb"><svg viewBox="0 0 100 100"><!><!><!><!><!><!><!></svg> <span class="info svelte-l0ojxb"><!></span> <button class="ui-button ui-button-primary validate svelte-l0ojxb">Valider</button></div>'),Xa=ge("<!> <!> <!> <!>",1),eu=ge("<!> <!> <!> <!>",1),tu=ge(`<strong>Domination Eternelle</strong> est un jeu à deux joueurs: un <strong>attaquant</strong> et un <strong>défenseur</strong>.<br/> Au début de la partie, le défenseur choisit des sommets sur lesquels poser des <strong>gardes</strong>.<br/> Ensuite, à chaque tour, l'attaquant choisit d'attaquer un sommet puis le défenseur doit <strong>déplacer</strong> un de ses gardes vers le sommet attaqué à la condition que celui soit <strong>adjacent</strong> au garde.<br/> Si le défenseur ne peut pas déplacer de garde, il perd la partie.<br/> La partie peut ne pas avoir de fin. Le but est de déterminer le nombre minimum
  de gardes pour défendre infiniment toute attaque.<br/> Dans une variante, le défenseur peut déplacer <strong>plusieurs gardes</strong> à chaque tour.`,1);function ru(t,r){je(r,!0);const n=(w,O=fe,V=fe,he=fe,xe=fe)=>{var ke=Ha(),we=re(ke),Le=g(we);ie($e=>{I(we,"x1",O()),I(we,"y1",V()),I(we,"x2",he()),I(we,"y2",xe()),I(Le,"d",$e)},[()=>Y(O(),V(),he(),xe())]),d(w,ke)},o=w=>{var O=Qa(),V=ne(O);V.__pointerdown=[ko,m,q],V.__pointermove=[ko,m,q],V.__pointerup=[Za,ve];var he=ne(V);Me(he,17,()=>e(p).edges,ze,(Ce,De)=>{var He=N(()=>Pt(e(De),2));let Je=()=>e(He)[0],Ve=()=>e(He)[1];const Xe=N(()=>{const{x1:Qt,x2:lr,y1:zt,y2:ht}=Ur(e(p),Je(),Ve());return{x1:Qt,x2:lr,y1:zt,y2:ht}});var nt=Va();ie(()=>{I(nt,"x1",100*e(Xe).x1),I(nt,"x2",100*e(Xe).x2),I(nt,"y1",100*e(Xe).y1),I(nt,"y2",100*e(Xe).y2)}),d(Ce,nt)});var xe=g(he);{var ke=Ce=>{var De=Pe(),He=re(De);Me(He,17,()=>e(x),ze,(Je,Ve,Xe)=>{const nt=N(()=>e(c).position.guards[Xe]);var Qt=Pe(),lr=re(Qt);{var zt=ht=>{const Ot=N(()=>{const{x1:gn,y1:hn,x2:Xt,y2:Xr}=Ur(e(p),e(nt),e(Ve));return{x1:gn,y1:hn,x2:Xt,y2:Xr}});n(ht,()=>100*e(Ot).x1,()=>100*e(Ot).y1,()=>100*e(Ot).x2,()=>100*e(Ot).y2)};pe(lr,ht=>{e(nt)!==e(Ve)&&ht(zt)})}d(Je,Qt)}),d(Ce,De)};pe(xe,Ce=>{e(T)=="many"&&Ce(ke)})}var we=g(xe);Me(we,17,()=>e(p).vertices,ze,(Ce,De)=>{let He=()=>e(De).x,Je=()=>e(De).y;var Ve=Wa();ie(()=>{I(Ve,"cx",100*He()),I(Ve,"cy",100*Je())}),d(Ce,Ve)});var Le=g(we);Me(Le,17,()=>e(c).position.guards,ze,(Ce,De)=>{var He=Ja();let Je;ie(Ve=>{Fe(He,0,Be(["guard",{nomove:e(y)==="preparation"}]),"svelte-l0ojxb"),Je=me(He,"",Je,Ve)},[()=>({transform:Z(e(p).vertices[e(De)])})]),d(Ce,He)});var $e=g(Le);{var qe=Ce=>{var De=Ka();let He;ie(Je=>He=me(De,"",He,Je),[()=>({transform:Z(e(p).vertices[e(c).position.attacked])})]),d(Ce,De)};pe($e,Ce=>{e(c).position.attacked!==null&&Ce(qe)})}var Ie=g($e);Me(Ie,17,()=>e(p).vertices,ze,(Ce,De,He)=>{var Je=Ya();Je.__click=()=>ee(He),Je.__pointerdown=Xe=>ce(Xe,He),Je.__pointerup=()=>ve(He);let Ve;ie((Xe,nt)=>{Fe(Je,0,Xe,"svelte-l0ojxb"),Ve=me(Je,"",Ve,nt)},[()=>Be({sel:e(y)==="preparation"||e(c).position.attacked!==null&&e(c).position.guards.includes(He)||e(c).position.attacked===null&&!e(c).position.guards.includes(He)}),()=>({transform:Z(e(De))})]),d(Ce,Je)});var Lt=g(Ie);{var it=Ce=>{Ba(Ce,()=>e(q).x,()=>e(q).y)};pe(Lt,Ce=>{e(m)!==null&&e(q)!==null&&Ce(it)})}var St=g(V,2),Kt=ne(St);{var Yt=Ce=>{var De=Pr("Le sommet attaqué ne peut être défendu");d(Ce,De)},sr=Ce=>{var De=Pe(),He=re(De);{var Je=Xe=>{var nt=Pr("Choisis la position initiale des gardes");d(Xe,nt)},Ve=Xe=>{var nt=Pe(),Qt=re(nt);{var lr=ht=>{var Ot=Pr("Déplace un garde vers le sommet attaqué");d(ht,Ot)},zt=ht=>{var Ot=Pr("Choisis un sommet à attaquer");d(ht,Ot)};pe(Qt,ht=>{e(c).position.attacked!==null?ht(lr):ht(zt,!1)},!0)}d(Xe,nt)};pe(He,Xe=>{e(y)==="preparation"?Xe(Je):Xe(Ve,!1)},!0)}d(Ce,De)};pe(Kt,Ce=>{e(U)?Ce(Yt):Ce(sr,!1)})}var rt=g(St,2);rt.__click=[Ga,y,c,ue,x],ie(()=>rt.disabled=e(z)===0||e(y)==="game"&&e(T)==="one"),et("pointerleave",V,()=>_(m,null)),d(w,O)},l=w=>{gt(w,{title:"Domination éternelle",children:(O,V)=>{var he=eu(),xe=re(he);te(xe,()=>Ye,($e,qe)=>{qe($e,{title:"Type de graphe",values:["path","cycle","biclique","grid"],get selected(){return e(k)},text:["#graph-path","#graph-cycle","#graph-biclique","#graph-grid"],get disabled(){return e(c).locked},tooltip:["Chemin","Cycle","Biclique","Grille"],setter:Ie=>Ee(e(c),ue,()=>ye(Ie)),children:(Ie,Lt)=>{var it=Pe(),St=re(it);{let Kt=N(()=>e(k)==="custom");te(St,()=>Ge,(Yt,sr)=>{sr(Yt,{text:"#customize",tooltip:"Créé ton propre graphe",get selected(){return e(Kt)},get disabled(){return e(c).locked},onclick:be})})}d(Ie,it)},$$slots:{default:!0}})});var ke=g(xe,2);te(ke,()=>Ye,($e,qe)=>{qe($e,{title:"Règles",values:["one","many"],get selected(){return e(T)},text:["1","∞","#graph-biclique"],get disabled(){return e(c).locked},tooltip:["Un seul garde peut se déplacer","Plusieurs gardes peuvent se déplacer"],setter:Ie=>Ee(e(c),ue,()=>_(T,Ie,!0))})});var we=g(ke,2);te(we,()=>vn,($e,qe)=>{qe($e,{get methods(){return ue},get model(){return e(c)},set model(Ie){_(c,Ie,!0)}})});var Le=g(we,2);te(Le,()=>Qe,($e,qe)=>{qe($e,{title:"Options",children:(Ie,Lt)=>{var it=Xa(),St=re(it);te(St,()=>Nt,(rt,Ce)=>{Ce(rt,{get methods(){return ue},get model(){return e(c)},set model(De){_(c,De,!0)}})});var Kt=g(St,2);te(Kt,()=>It,(rt,Ce)=>{Ce(rt,{get methods(){return ue},get model(){return e(c)},set model(De){_(c,De,!0)}})});var Yt=g(Kt,2);te(Yt,()=>vt,(rt,Ce)=>{Ce(rt,{get methods(){return ue},get model(){return e(c)},set model(De){_(c,De,!0)}})});var sr=g(Yt,2);te(sr,()=>ft,(rt,Ce)=>{Ce(rt,{get model(){return e(c)},set model(De){_(c,De,!0)}})}),d(Ie,it)},$$slots:{default:!0}})}),d(O,he)}})},u=w=>{bs(w,{onOk:Se})},s=(w,O,V)=>w[O].includes(V);function*i(w,O,V=0){if(V===O.length)yield O;else for(const he of i(w,O,V+1)){yield he;for(const xe of w[he[V]])yield he.with(V,xe)}}function a(w,O){return We(0,w.length).filter(V=>!O.includes(V)).map(V=>[...O,V])}function*v(w,O){const V=O[O.length-1],he=O.slice(0,-1);for(let xe=0;xe<he.length;xe++)if(s(w,he[xe],V)){const ke=he.with(xe,V);ke.sort((we,Le)=>we-Le),yield ke}}function*b(w,O){const V=O.slice(),he=V.pop();for(const xe of i(w,V,0)){const ke=xe.slice();ke.sort((we,Le)=>we-Le),qn(ke)&&ke.includes(he)&&(yield ke)}}const h={attackerMoves:a,guardsMoves:v},f={attackerMoves:a,guardsMoves:b},j=w=>w==="one"?h:f,P=(w,O,V)=>Fa(w,O.concat(V));function H(w,O){const V=w.encode(O);if(!w.attractor[V])return null;const he=w.adj[V];return Sn(he,ke=>w.attractor[w.encode(ke)]||1e3).at(-1)}function A(w,O,V){const he=w.length,xe=j(O),ke=ri(w.length,V),we=[];for(const $e of ke)for(let qe=0;qe<he;qe++)$e.includes(qe)||we.push($e.concat(qe));const Le={size:he+1<<V,AConfs:ke,BConfs:we,isAConf:$e=>$e.length===V,neighbors:$e=>$e.length===V?xe.attackerMoves(w,$e):Array.from(xe.guardsMoves(w,$e)),encode:$e=>{let qe=0;const Ie=$e[V];for(let Lt=0;Lt<V;Lt++)qe+=1<<$e[Lt];return Ie!==void 0&&(qe+=Ie+1<<he),qe}};return Ia(Le)}const F=w=>({title:"Chemin",vertices:qt(w,O=>({x:.5+.35*Math.cos(2*O*Math.PI/w),y:.5+.35*Math.sin(2*O*Math.PI/w)})),edges:qt(w-1,O=>[O,O+1])});function W(w){const O=F(w);return O.title="Cycle",O.edges.push([0,w-1]),O}function B(w,O){const V=Math.max(w,O);return{title:"Grille",vertices:tr(w,O,(he,xe)=>({x:.15+.7*he/(V-1),y:.1+.7*xe/(V-1)})),edges:[...tr(w,O-1,(he,xe)=>[he*O+xe,he*O+xe+1]),...tr(w-1,O,(he,xe)=>[he*O+xe,he*O+xe+O])]}}const $=(w,O)=>(console.log(O,w),{title:"Biclique",vertices:qt(O+w,V=>({x:V<O?.2:.8,y:.75-.7*(V<O?V:V-O)/(V<O?O:w)})),edges:tr(O,w,(V,he)=>[V,he+O])});function M(w,O,V){w[O].push(V),w[V].push(O)}function E(w,O){const V=qt(w,()=>[]);for(const[he,xe]of O)M(V,he,xe);return V}function L(w){if(w.length===0)return[[]];const O=[];for(let V=0;V<w.length;V++){const he=w[V],xe=w.toSpliced(V,1),ke=L(xe);for(const we of ke)O.push([he].concat(we))}return O}function C(w,O,V){const he=L(V).filter(xe=>xe.every((ke,we)=>ke===O[we]||s(w,ke,O[we])));return Sn(he,xe=>fs(xe,(ke,we)=>ke!==O[we]))}let c=_e(Ae({...ct({guards:[],attacked:null}),rows:6,columns:0,customSize:!0,mode:"duel"})),y=_e("preparation"),k=_e("path"),T=_e("one"),m=_e(null),q=_e(null),S=_e(Ae({title:"Graphe personnalisé",vertices:[],edges:[]})),x=N(()=>e(c).position.guards),p=N(()=>{switch(e(k)){case"path":return F(e(c).rows);case"cycle":return W(e(c).rows);case"biclique":return $(e(c).rows,e(c).columns);case"grid":return B(e(c).rows,e(c).columns);default:return e(S)}}),z=N(()=>e(c).position.guards.length),R=N(()=>E(e(p).vertices.length,e(p).edges)),X=N(()=>e(c).mode==="duel"?null:A(e(R),e(T),e(z))),Q=N(()=>{switch(e(k)){case"grid":return{minRows:2,minCols:2,maxRows:5,maxCols:5};case"biclique":return{minRows:1,minCols:1,maxRows:6,maxCols:0};case"custom":return{minRows:0,minCols:0,maxRows:0,maxCols:0};default:return{minRows:3,minCols:0,maxRows:11,maxCols:0}}}),U=N(()=>{const w=e(c).position.attacked;return w!==null&&e(c).position.guards.every(O=>!s(e(R),O,w))});function D(w,O,V,he){if(w===O||s(e(R),w,O)){const xe=V.indexOf(w);return xe!==-1?he.with(xe,O):he}else return he}function K(w){if(e(c).position.attacked===null)return!1;const O=e(c).position.guards;return w.includes(e(c).position.attacked)&&O.every((V,he)=>V===w[he]||s(e(R),V,w[he]))&&qn(w)}function oe(w){return typeof w=="number"?e(c).position.guards.includes(w)||e(c).position.attacked!==null?null:{...e(c).position,attacked:w}:e(c).position.attacked===null||!K(w)?null:{guards:w,attacked:null}}const G=()=>({guards:[],attacked:null});function J(){_(x,[]),_(y,"preparation"),e(c).computerStarts=!0}const se=()=>e(U);function le(){if(e(U))return null;const{guards:w,attacked:O}=e(c).position;if(O!==null){const V=w.filter(he=>s(e(R),he,O));return D(zn(V),O,w,w)}else{const V=We(0,e(p).vertices.length).filter(he=>!w.includes(he));return zn(V)}}function de(){if(e(U))return null;if(!e(X)||e(c).mode==="random")return le();const{guards:w,attacked:O}=e(c).position;if(O!==null){const V=P(e(X),w,O);return!V||e(T)==="one"?V:C(e(R),w,V)}else{const V=H(e(X),w);return V!==null?V:le()}}const ue={play:oe,initialPosition:G,onNewGame:J,isLevelFinished:se,computerMove:de},Z=({x:w,y:O})=>`translate(${100*w}%,${100*O}%)`;function Y(w,O,V,he){const ke=V-w,we=he-O,Le=Math.sqrt(ke*ke+we*we),$e=Math.acos(ke/Le),qe=we>=0?2*Math.PI-$e:$e,Ie=V+6*Math.sin(qe-Math.PI/3),Lt=he+6*Math.cos(qe-Math.PI/3),it=V+6*Math.sin(qe-2*Math.PI/3),St=he+6*Math.cos(qe-2*Math.PI/3);return`M${V} ${he}L${Ie} ${Lt}L${it} ${St}z`}function ee(w){const{guards:O,attacked:V}=e(c).position;if(e(y)==="preparation"){const he=O.indexOf(w);he===-1?e(c).position={attacked:V,guards:[...O,w]}:O.splice(he,1)}else V===null?st(e(c),ue,w):e(T)==="one"&&st(e(c),ue,D(w,V,O,O))}function ce(w,O){e(T)==="many"&&e(c).position.guards.includes(O)&&e(c).position.attacked!==null&&(w.currentTarget?.releasePointerCapture(w.pointerId),_(m,O,!0))}function ve(w){e(m)!==null&&(_(x,D(e(m),w??e(m),e(c).position.guards,e(x))),_(m,null))}const ye=w=>Ee(e(c),ue,()=>{switch(_(k,w,!0),w){case"path":case"cycle":e(c).columns=0,e(c).rows=6;break;case"grid":e(c).columns=3,e(c).rows=3;break;case"biclique":e(c).columns=2,e(c).rows=5}}),be=()=>e(c).dialog="customize";function Se(w){w.vertices.length>0&&(_(S,w,!0),_(k,"custom")),e(c).dialog=null}const Te="L'attaquant gagne";Ee(e(c),ue),dt(t,{get methods(){return ue},get board(){return o},get config(){return l},get custom(){return u},get rules(){return Da},get sizeLimit(){return e(Q)},winTitle:Te,get model(){return e(c)},set model(w){_(c,w,!0)}}),Re()}Ze(["pointerdown","pointermove","pointerup","click"]);const nu=t=>{var r=hu();d(t,r)};var ou=ae('<g class="svelte-rpizk8"><path fill="none" stroke="black" stroke-width="3" class="svelte-rpizk8"></path><line x1="153" y1="9" x2="207" y2="20" stroke="black" stroke-dasharray="5" stroke-width="6" class="svelte-rpizk8"></line><line x1="153" y1="7" x2="153" y2="39" stroke="black" stroke-width="3.0" class="svelte-rpizk8"></line><line x1="207" y1="18" x2="207" y2="50" stroke="black" stroke-width="3.0" class="svelte-rpizk8"></line></g>'),su=(t,r,n)=>r(t,n()),lu=(t,r,n)=>{t.preventDefault(),e(r)[n()]=!e(r)[n()]},iu=ae('<use href="#lily"></use>'),au=ae('<g class="frog-container svelte-rpizk8"><use href="#frog2" x="-20" y="-30" width="40" height="40"></use></g>'),uu=ae('<text class="index svelte-rpizk8"> </text>'),cu=ae('<use href="#frog2" width="20" height="20" class="frog marked svelte-rpizk8"></use>'),du=ae("<!><!><!><!>",1),vu=ge('<div class="ui-board board svelte-rpizk8"><svg viewBox="-190 -200 400 400" class="svelte-rpizk8"><!><!><!></svg> <span class="turn-message svelte-rpizk8"> </span></div>'),fu=ge("<!> <!> <!> <!> <!>",1),gu=ge("<!> <!> <!>",1),hu=ge(`Le jeu de la <strong class="svelte-rpizk8">grenouille</strong> est un jeu à <strong class="svelte-rpizk8">deux joueurs</strong>.<br class="svelte-rpizk8"/> A chaque tour, un joueur peut <strong class="svelte-rpizk8">avancer</strong> la grenouille d'un nombre de cases parmi ceux
  indiqués dans <strong class="svelte-rpizk8">Déplacements autorisés</strong>.<br class="svelte-rpizk8"/> Le premier joueur à atteindre le <strong class="svelte-rpizk8">nénuphar final</strong> a gagné.<br class="svelte-rpizk8"/> Pour éviter une situation bloquante, un joueur peut se déplacer vers le nénuphar
  final en utilisant <strong class="svelte-rpizk8">moins</strong> de déplacements que ce qui lui est autorisé.<br class="svelte-rpizk8"/> Tu peux placer des indices sur les nénuphars avec un <strong class="svelte-rpizk8">clic droit</strong> ou <strong class="svelte-rpizk8">shift + clic gauche</strong>.`,1);function _u(t,r){je(r,!0);const n=p=>{var z=ou(),R=ne(z);ie(()=>I(R,"d",y)),d(p,z)},o=(p,z=fe,R=fe,X=fe,Q=fe,U=fe)=>{var D=iu();D.__click=[su,x,z],D.__contextmenu=[lu,v,z],ie(()=>{Fe(D,0,Be(["lily",{reachable:Q(),hidden:U()}]),"svelte-rpizk8"),I(D,"x",z()===0?R()-30:R()-24),I(D,"y",z()===0?X()-45:X()-24),I(D,"width",z()===0?80:48),I(D,"height",z()===0?80:48)}),d(p,D)},l=p=>{const z=N(()=>{const{theta:U,radius:D}=e(m);return{theta:U,radius:D}});var R=au();let X;var Q=ne(R);ie(U=>{X=me(R,"",X,U),Fe(Q,0,Be(["frog",{goal:e(i).position===0}]),"svelte-rpizk8")},[()=>({transform:`${E(e(z).theta)??""} translate(${e(z).radius??""}px, 0px) ${E(-e(z).theta)??""}`})]),d(p,R)},u=p=>{var z=vu();me(z,"",{},{width:"80vmin",height:"80vmin"});var R=ne(z),X=ne(R);n(X);var Q=g(X);Me(Q,17,()=>e(T),ze,(oe,G,J)=>{var se=du(),le=re(se);o(le,()=>J,()=>e(G).x,()=>e(G).y,()=>!1,()=>!1);var de=g(le);o(de,()=>J,()=>e(G).x,()=>e(G).y,()=>!0,()=>!e(B)[J]||e(i).locked);var ue=g(de);{var Z=ce=>{var ve=uu(),ye=ne(ve);ie(()=>{I(ve,"x",e(G).x),I(ve,"y",e(G).y),lt(ye,e(i).rows-J)}),d(ce,ve)};pe(ue,ce=>{e(i).help&&ce(Z)})}var Y=g(ue);{var ee=ce=>{var ve=cu();ie(()=>{I(ve,"x",e(G).x-20),I(ve,"y",e(G).y-20)}),d(ce,ve)};pe(Y,ce=>{e(v)[J]&&J!==e(i).position&&ce(ee)})}d(oe,se)});var U=g(Q);l(U);var D=g(R,2),K=ne(D);ie(()=>lt(K,e(q))),d(p,z)},s=p=>{gt(p,{title:"La grenouille",children:(z,R)=>{var X=gu(),Q=re(X);te(Q,()=>Oi,(K,oe)=>{oe(K,{title:"Déplacements autorisés",values:[1,2,3,4,5],get selected(){return e(a)},get disabled(){return e(i).locked},setter:M})});var U=g(Q,2);te(U,()=>vn,(K,oe)=>{oe(K,{get methods(){return W},get model(){return e(i)},set model(G){_(i,G,!0)}})});var D=g(U,2);te(D,()=>Qe,(K,oe)=>{oe(K,{title:"Options",children:(G,J)=>{var se=fu(),le=re(se);te(le,()=>Ar,(ee,ce)=>{ce(ee,{get model(){return e(i)},set model(ve){_(i,ve,!0)}})});var de=g(le,2);te(de,()=>Nt,(ee,ce)=>{ce(ee,{get methods(){return W},get model(){return e(i)},set model(ve){_(i,ve,!0)}})});var ue=g(de,2);te(ue,()=>It,(ee,ce)=>{ce(ee,{get methods(){return W},get model(){return e(i)},set model(ve){_(i,ve,!0)}})});var Z=g(ue,2);te(Z,()=>vt,(ee,ce)=>{ce(ee,{get methods(){return W},get model(){return e(i)},set model(ve){_(i,ve,!0)}})});var Y=g(Z,2);te(Y,()=>ft,(ee,ce)=>{ce(ee,{get model(){return e(i)},set model(ve){_(i,ve,!0)}})}),d(G,se)},$$slots:{default:!0}})}),d(z,X)}})};let i=_e(Ae({...ct(20),mode:"expert",rows:20,columns:0,customSize:!0})),a=_e(Ae([1,2,3])),v=_e(Ae([]));const b=p=>{const z=e(i).position,R=Math.max(...e(a));return e(a).includes(z-p)||z>0&&p==0&&z<=R};let h=N(()=>{const p=e(i).rows,z=new Array(p+1);z[0]=!0;for(let R=1;R<=p;R++)z[R]=e(a).every(X=>R-X>=0&&!z[R-X]);return z});const W={play:p=>b(p)?p:null,isLevelFinished:()=>e(i).position===0,initialPosition:()=>e(i).rows,onNewGame:()=>_(v,Ue(e(i).rows,!1),!0),possibleMoves:()=>We(0,e(i).rows+1).filter(b),isLosingPosition:()=>e(h)[e(i).position]};let B=N(()=>qt(e(i).rows+1,b));const $={minRows:5,maxRows:30,minCols:0,maxCols:0};function M(p){const z=[1,2,3,4,5].filter(R=>R===p!=e(a).includes(R));z.length>0&&Ee(e(i),W,()=>_(a,z,!0))}const E=p=>`rotate(${p*180/Math.PI}deg)`;function L(p,z,R,X){const Q=(X-z)/(p-R);return{x:Q,y:p*Q+z}}function C(p){return{x:p.radius*Math.cos(p.theta),y:p.radius*Math.sin(p.theta)}}function c(p,z,R,X,Q,U){const D=[];for(let oe=X;oe<=Q;oe+=U){const G=R/(2*Math.PI),J=z+G*oe,se={x:p.x+J*Math.cos(oe),y:p.y+J*Math.sin(oe)},le=(G*Math.sin(oe)+J*Math.cos(oe))/(G*Math.cos(oe)-J*Math.sin(oe)),de=-(le*J*Math.cos(oe)-J*Math.sin(oe));D.push({point:se,slope:le,intercept:de})}let K=`M${D[0].point.x} ${D[0].point.y}`;for(let oe=0;oe<D.length-1;oe++){const G=D[oe],J=D[oe+1],{x:se,y:le}=L(G.slope,G.intercept,J.slope,J.intercept);K+=`Q${se+p.x} ${le+p.y} ${J.point.x} ${J.point.y}`}return K}const y=c({x:0,y:0},0,61,0,37/6*Math.PI,Math.PI/6);let k=N(()=>{const p=e(i).rows;return We(0,p+1).map(z=>{const R=Math.sqrt(z==p?21:z*20/p)*1.36*Math.PI,X=61*R/(2*Math.PI);return{theta:R,radius:X}}).toReversed()}),T=N(()=>e(k).map(C)),m=N(()=>e(k)[e(i).position]),q=N(()=>ps(e(i),W)),S=N(()=>Jn(e(i)));const x=(p,z)=>{p.shiftKey?e(v)[z]=!e(v)[z]:st(e(i),W,z)};Ee(e(i),W),dt(t,{get methods(){return W},get board(){return u},get config(){return s},get rules(){return nu},get winTitle(){return e(S)},get sizeLimit(){return $},get model(){return e(i)},set model(p){_(i,p,!0)}}),Re()}Ze(["click","contextmenu"]);const Po=(t,r,n)=>{r()!==null&&_(n,xr(t),!0)};var pu=(t,r)=>r(null),mu=ae("<svg><!><!></svg>");function fn(t,r){je(r,!0);let n=Vt(r,"dragged",15),o=_e(null);var l=mu();l.__pointerdown=[Po,n,o],l.__pointermove=[Po,n,o],l.__pointerup=[pu,n];var u=ne(l);at(u,()=>r.children);var s=g(u);{var i=a=>{var v=Pe(),b=re(v);at(b,()=>r.draggedElement,()=>`transform:translate(${100*e(o).x}%,${100*e(o).y}%);`),d(a,v)};pe(s,a=>{n()!=null&&e(o)&&a(i)})}ie(()=>{I(l,"viewBox",r.viewBox),Fe(l,0,Be(r.class)),me(l,r.style)}),et("pointerleave",l,()=>n(null)),d(t,l),Re()}Ze(["pointerdown","pointermove","pointerup"]);var yu=ae("<g><!></g>");function Ut(t,r){je(r,!0);let n=Vt(r,"dragged",15),o=N(()=>!!r.droppable&&n()!==null&&r.methods.play({from:n(),to:r.id})!==null);function l(a){a.currentTarget?.releasePointerCapture(a.pointerId),n(r.id)}function u(a){a.stopPropagation(),n()!==null&&st(r.model,r.methods,{from:n(),to:r.id}),n(null)}var s=yu(),i=ne(s);{let a=N(()=>n()!==null&&(r.equals?r.equals(n(),r.id):n()===r.id));at(i,()=>r.render,()=>r.argument,()=>e(a),()=>e(o),()=>r.draggable?l:void 0,()=>r.droppable?u:void 0)}d(t,s),Re()}const bu=(t,r=fe)=>{var n=ku();ie(()=>I(n,"d",`M${r()*60+14} 99a3 3 0 0 1 0 -6h20a3 3 0 0 0 3 -3v-80a3 3 0 0 1 6 0v80 a3 3 0 0 0 3 3h20a3 3 0 0 1 0 6z`)),d(t,n)},xu=(t,r=fe,n=fe,o=fe,l=fe,u=fe)=>{var s=$u();s.__pointerdown=function(...i){l()?.apply(this,i)},s.__pointerup=function(...i){u()?.apply(this,i)},ie(()=>I(s,"x",13+60*r())),d(t,s)},wu=t=>{var r=Eu();d(t,r)};var ku=ae('<path stroke="blue" stroke-width="0.5" fill="#d43"></path>'),Pu=ae('<rect height="10"></rect>'),$u=ae('<rect y="10" width="54" height="90" fill="transparent"></rect>'),Mu=ae('<g pointer-events="none"><!></g>'),Su=ge("<!> <!> <!>",1),zu=ge('<div class="ui-board board svelte-1ah0lv1"><!> <div class="moves svelte-1ah0lv1"> </div></div>'),Tu=ge("<!> <!> <!> <!>",1),qu=ge("<!> <!>",1),Eu=ge(`Le but des <strong>Tours de Hanoi</strong> est de déplacer tous les <strong>disques</strong> sur la tour
  de <strong>droite</strong> avec les contraintes suivantes: <ul><li>tu peux déplacer un <strong>seul disque</strong> disque à la fois;</li> <li>tu ne peux pas déplacer un disque sur un disque <strong>plus petit</strong> que lui.</li></ul>`,1);function Lu(t,r){je(r,!0);const n=(A,F,W=fe,B=fe,$=fe,M=fe)=>{var E=N(()=>Pt(F?.(),4));let L=()=>e(E)[0],C=()=>e(E)[1],c=()=>e(E)[2],y=()=>e(E)[3];var k=Pu();k.__pointerdown=function(...T){$()?.apply(this,T)},k.__pointerup=function(...T){M()?.apply(this,T)},ie(()=>{I(k,"x",L()-25+2.5*c()),I(k,"y",C()-7),I(k,"width",50-5*c()),Fe(k,0,Be(["disk",{dragged:W()&&y()}]),"svelte-1ah0lv1"),I(k,"fill",j[c()])}),d(A,k)},o=(A,F=fe)=>{var W=Mu(),B=ne(W);{let $=N(()=>[0,0,e(s).position[e(a)].at(-1),!1]);n(B,()=>e($),()=>!1,()=>!1)}ie(()=>me(W,F())),d(A,W)},l=A=>{var F=zu(),W=ne(F);fn(W,{viewBox:"0 0 200 100",get draggedElement(){return o},get dragged(){return e(a)},set dragged(M){_(a,M,!0)},children:(M,E)=>{var L=Pe(),C=re(L);Me(C,17,()=>e(s).position,ze,(c,y,k)=>{var T=Su(),m=re(T);bu(m,()=>k);var q=g(m,2);Ut(q,{get methods(){return f},id:k,argument:k,get render(){return xu},droppable:!0,get model(){return e(s)},set model(x){_(s,x,!0)},get dragged(){return e(a)},set dragged(x){_(a,x,!0)}});var S=g(q,2);Me(S,17,()=>e(y),ze,(x,p,z)=>{const R=N(()=>z===e(y).length-1);{let X=N(()=>[40+60*k,90-10*z,e(p),e(R)]);Ut(x,{get methods(){return f},id:k,get argument(){return e(X)},get render(){return n},get draggable(){return e(R)},get model(){return e(s)},set model(Q){_(s,Q,!0)},get dragged(){return e(a)},set dragged(Q){_(a,Q,!0)}})}}),d(c,T)}),d(M,L)},$$slots:{default:!0}});var B=g(W,2),$=ne(B);ie(()=>lt($,`${e(P)??""} coup${e(P)>1?"s":""}`)),d(A,F)},u=A=>{gt(A,{title:"Tours de Hanoi",children:(F,W)=>{var B=qu(),$=re(B);te($,()=>Ye,(E,L)=>{L(E,{title:"Nombre de disques",values:[4,5,6,7,8],get selected(){return e(i)},setter:C=>Ee(e(s),f,()=>_(i,C,!0))})});var M=g($,2);te(M,()=>Qe,(E,L)=>{L(E,{title:"Options",children:(C,c)=>{var y=Tu(),k=re(y);te(k,()=>Nt,(S,x)=>{x(S,{get methods(){return f},get model(){return e(s)},set model(p){_(s,p,!0)}})});var T=g(k,2);te(T,()=>It,(S,x)=>{x(S,{get methods(){return f},get model(){return e(s)},set model(p){_(s,p,!0)}})});var m=g(T,2);te(m,()=>vt,(S,x)=>{x(S,{get methods(){return f},get model(){return e(s)},set model(p){_(s,p,!0)}})});var q=g(m,2);te(q,()=>ft,(S,x)=>{x(S,{get model(){return e(s)},set model(p){_(s,p,!0)}})}),d(C,y)},$$slots:{default:!0}})}),d(F,B)}})};let s=_e(Ae(ct([]))),i=_e(4),a=_e(null);function v({from:A,to:F}){const W=e(s).position,B=W[A].at(-1);if(A===F||B===void 0||B<(W[F].at(-1)??-1))return null;const $=W[A].slice(0,-1);return W.with(A,$).with(F,W[F].concat([B]))}const f={play:v,initialPosition:()=>[We(0,e(i)),[],[]],isLevelFinished:()=>e(s).position[0].length===0&&e(s).position[1].length===0},j=["blue","red","green","magenta","orange","gray","cyan"];let P=N(()=>e(s).history.length),H=N(()=>`Tu as gagné en ${e(P)} étapes`);Ee(e(s),f),dt(t,{get methods(){return f},get board(){return l},get config(){return u},get rules(){return wu},get winTitle(){return e(H)},get model(){return e(s)},set model(A){_(s,A,!0)}}),Re()}Ze(["pointerdown","pointerup"]);const Cu=(t,r=fe)=>{var n=Ru();ie(()=>me(n,r())),d(t,n)},Au=t=>{var r=Bu();d(t,r)};var ju=ae('<g><rect></rect><text y="3" class="peg-text svelte-1nm4zdv"> </text></g>'),Ru=ae('<rect x="-15" y="-15" width="30" height="30" class="cursor svelte-1nm4zdv"></rect>'),Nu=ge('<div class="board-container svelte-1nm4zdv"><div class="ui-board"><!></div></div>'),Iu=ge("<!> <!> <!> <!>",1),Ou=ge("<!> <!> <!>",1),Fu=ge('<div class="bestscore-container svelte-1nm4zdv"><div class="ui-board"><svg></svg></div></div>'),Bu=ge(`À chaque tour de ce jeu, tu peux déplacer une pile de jetons vers une case adjacente
  qui contient au moins autant de jetons.<br/> Le but est de finir la partie avec le moins de cases contenant des piles de jetons.`,1);function Du(t,r){je(r,!0);const n=(F,W,B=fe,$=fe,M=fe,E=fe)=>{var L=N(()=>Pt(W?.(),2));let C=()=>e(L)[0],c=()=>e(L)[1];const y=N(()=>C()/e(s).columns|0),k=N(()=>C()%e(s).columns);var T=ju();let m;var q=ne(T);q.__pointerdown=function(...p){M()?.apply(this,p)},q.__pointerup=function(...p){E()?.apply(this,p)};var S=g(q),x=ne(S);ie((p,z)=>{m=me(T,"",m,p),Fe(q,0,Be(["peg",{dragged:B(),droppable:$()}]),"svelte-1nm4zdv"),I(q,"fill",`rgb(255 ${z??""} 0)`),I(q,"filter",`drop-shadow(${c()/2}px ${c()/2}px 0.5px #656565)`),lt(x,c())},[()=>({transform:`translate(${25+50*e(k)}px,${25+50*e(y)}px)`}),()=>255*(1-Math.sqrt(c()/(e(s).rows*e(s).columns)))]),d(F,T)},o=F=>{var W=Nu(),B=ne(W),$=ne(B);{let M=N(()=>50*e(s).columns),E=N(()=>50*e(s).rows);fn($,{get viewBox(){return`0 0 ${e(M)??""} ${e(E)??""}`},get draggedElement(){return Cu},get dragged(){return e(i)},set dragged(L){_(i,L,!0)},children:(L,C)=>{var c=Pe(),y=re(c);Me(y,17,()=>e(s).position,ze,(k,T,m)=>{var q=Pe(),S=re(q);{var x=p=>{{let z=N(()=>[m,e(T)]);Ut(p,{get methods(){return P},id:m,get argument(){return e(z)},draggable:!0,droppable:!0,get render(){return n},get model(){return e(s)},set model(R){_(s,R,!0)},get dragged(){return e(i)},set dragged(R){_(i,R,!0)}})}};pe(S,p=>{e(T)!==0&&p(x)})}d(k,q)}),d(L,c)},$$slots:{default:!0}})}ie(M=>me(B,M),[()=>Rt(e(s).rows,e(s).columns,3)]),d(F,W)},l=F=>{gt(F,{title:"Jeu d'acquisition",children:(W,B)=>{var $=Ou(),M=re($);te(M,()=>jr,(C,c)=>{c(C,{get methods(){return P},values:[[2,2],[4,4],[5,5],[6,6]],customSize:!0,get model(){return e(s)},set model(y){_(s,y,!0)}})});var E=g(M,2);te(E,()=>Qe,(C,c)=>{c(C,{title:"Options",children:(y,k)=>{var T=Iu(),m=re(T);te(m,()=>Nt,(p,z)=>{z(p,{get methods(){return P},get model(){return e(s)},set model(R){_(s,R,!0)}})});var q=g(m,2);te(q,()=>It,(p,z)=>{z(p,{get methods(){return P},get model(){return e(s)},set model(R){_(s,R,!0)}})});var S=g(q,2);te(S,()=>vt,(p,z)=>{z(p,{get methods(){return P},get model(){return e(s)},set model(R){_(s,R,!0)}})});var x=g(S,2);te(x,()=>ft,(p,z)=>{z(p,{get model(){return e(s)},set model(R){_(s,R,!0)}})}),d(y,T)},$$slots:{default:!0}})});var L=g(E,2);te(L,()=>Yr,(C,c)=>{c(C,{get methods(){return P},get model(){return e(s)},set model(y){_(s,y,!0)}})}),d(W,$)}})},u=(F,W=fe)=>{var B=Fu(),$=ne(B),M=ne($);Me(M,21,W,ze,(E,L,C)=>{var c=Pe(),y=re(c);{var k=T=>{n(T,()=>[C,e(L)],()=>!1,()=>!1)};pe(y,T=>{e(L)!==0&&T(k)})}d(E,c)}),ie(E=>{me($,E),I(M,"viewBox",`0 0 ${50*e(s).columns} ${50*e(s).rows}`)},[()=>Rt(e(s).rows,e(s).columns,3)]),d(F,B)};let s=_e(Ae({...ct([]),rows:4,columns:4,customSize:!1,scores:{}})),i=_e(null);function a({from:F,to:W}){const B=e(s).position,[$,M]=Jr(e(s).columns,F,W),E=B[F],L=B[W];return E>0&&E<=L&&$*$+M*M===1?B.with(F,0).with(W,E+L):null}const P={play:a,isLevelFinished:()=>{const F=e(s).position,W=e(s).columns;return F.every((B,$)=>{let M=($+1)%W==0?0:F[$+1],E=F[$+W]??0;return B*(M+E)===0})},initialPosition:()=>Ue(e(s).rows*e(s).columns,1),score:()=>e(s).position.filter(F=>F>0).length,scoreHash:()=>`${e(s).rows},${e(s).columns}`,objective:"minimize"};P.updateScore=()=>Kr(e(s),P,!0,"always");const H={minRows:1,minCols:2,maxRows:6,maxCols:12};let A=N(()=>{const F=P.score(),W=F>1?"s":"";return`${F} case${W} restante${W}`});Ee(e(s),P),dt(t,{get methods(){return P},get board(){return o},get config(){return l},get rules(){return Au},get bestScore(){return u},get winTitle(){return e(A)},get sizeLimit(){return H},get model(){return e(s)},set model(F){_(s,F,!0)}}),Re()}Ze(["pointerdown","pointerup"]);const Gu=t=>{var r=sc();d(t,r)};var Hu=ae('<rect class="zone svelte-1u1tplt"></rect> #',1),Uu=ae('<use href="#trap" x="-20" y="-20" width="40" height="40" class="pointer svelte-1u1tplt"></use>'),Zu=(t,r)=>{t.shiftKey&&_(r,xr(t),!0)},Vu=(t,r)=>_(r,xr(t),!0),Wu=ae('<use href="#grass" width="50" height="50"></use><rect width="50" height="50" class="square-borders svelte-1u1tplt"></rect>',1),Ju=ae('<use href="#trap" width="40" height="40" pointer-events="none"></use>'),Ku=ae('<use href="#paw" width="40" height="40"></use>'),Yu=ge('<div class="container svelte-1u1tplt"><div class="ui-board"><svg><!><!><!><!><!></svg></div> <div class="color svelte-1u1tplt"></div></div>'),Qu=ge("<!> <!> <!>",1),Xu=ge("<!> <!> <!> <!> <!>",1),ec=ae('<use href="#trap" width="40" height="40"></use>'),tc=ae('<use href="#grass" width="50" height="50"></use><rect width="50" height="50" class="square-borders svelte-1u1tplt"></rect><!>',1),rc=ge('<div class="bestscore-container svelte-1u1tplt"><div class="ui-board"><svg></svg></div></div>'),nc=ae('<use href="#grass" width="50" height="50"></use><rect width="50" height="50" class="square-borders svelte-1u1tplt"></rect><use href="#paw" width="40" height="40"></use>',1),oc=ge('<div class="custombeast-container svelte-1u1tplt"><svg viewBox="0 0 250 250"></svg></div>'),sc=ge(`Place le moins de <strong>pièges</strong> possible pour empêcher la <strong>bête</strong> d'abîmer ta belle pelouse !<br/> Tu peux choisir de jouer avec des bêtes de différentes formes comme celles prédéfinies dans <strong>Forme de la bête</strong>.<br/> Dans le dernier choix, la bête peut prendre l'une ou l'autre des formes indiquées.<br/> Le plateau de jeu peut prendre une <strong>grille</strong>, un <strong>cylindre</strong> ou un <strong>tore</strong>.<br/> <br/> Pour t'aider, tu peux <strong>colorier</strong> les zones en la sélectionnant à la souris
  et en maintenant <strong>shift</strong> enfoncé.<br/> Tu peux changer de couleur à l'aide des flèches gauche et droite du clavier.`,1);function lc(t,r){je(r,!0);const n=Z=>{var Y=Pe(),ee=re(Y);{var ce=ve=>{const ye=N(()=>{const{x:w,y:O}=e(F);return{x1:w,y1:O}}),be=N(()=>{const{x:w,y:O}=e(A);return{x2:w,y2:O}});var Se=Hu(),Te=re(Se);ie((w,O,V,he)=>{I(Te,"x",`${w??""}%`),I(Te,"y",`${O??""}%`),I(Te,"width",`${V??""}%`),I(Te,"height",`${he??""}%`),I(Te,"fill",le[e(H)])},[()=>100*Math.min(e(ye).x1,e(be).x2),()=>100*Math.min(e(ye).y1,e(be).y2),()=>100*Math.abs(e(be).x2-e(ye).x1),()=>100*Math.abs(e(be).y2-e(ye).y1)]),d(ve,Se)};pe(ee,ve=>{e(F)&&e(A)&&ve(ce)})}d(Z,Y)},o=Z=>{var Y=Pe(),ee=re(Y);{var ce=ve=>{const ye=N(()=>{const{x:Te,y:w}=e(A);return{x:Te,y:w}});var be=Uu();let Se;ie(Te=>Se=me(be,"",Se,Te),[()=>({transform:`translate(${100*e(ye).x}%, ${100*e(ye).y}%)`})]),d(ve,be)};pe(ee,ve=>{!e(F)&&e(A)&&ve(ce)})}d(Z,Y)},l=Z=>{var Y=Yu(),ee=ne(Y),ce=ne(ee);ce.__pointerdown=[Zu,F],ce.__pointermove=[Vu,A];var ve=ne(ce);Me(ve,17,()=>e(B),ze,(V,he,xe)=>{const ke=N(()=>{const[qe,Ie]=mt(e(f).columns,xe);return{row:qe,col:Ie}});var we=Wu(),Le=re(we),$e=g(Le);$e.__pointerdown=qe=>ue(qe,xe),$e.__pointerup=()=>G(xe),$e.__click=qe=>{qe.shiftKey||st(e(f),D,xe)},ie(()=>{I(Le,"x",50*e(ke).col),I(Le,"y",50*e(ke).row),I(Le,"fill",le[e(he)]),I($e,"x",50*e(ke).col),I($e,"y",50*e(ke).row)}),d(V,we)});var ye=g(ve);Me(ye,17,()=>e(f).position,ze,(V,he,xe)=>{const ke=N(()=>{const[qe,Ie]=mt(e(f).columns,xe);return{row:qe,col:Ie}});var we=Pe(),Le=re(we);{var $e=qe=>{var Ie=Ju();ie(()=>{I(Ie,"x",50*e(ke).col+5),I(Ie,"y",50*e(ke).row+5)}),d(qe,Ie)};pe(Le,qe=>{e(he)&&qe($e)})}d(V,we)});var be=g(ye);Me(be,17,()=>e(q),ze,(V,he,xe)=>{const ke=N(()=>{const[Le,$e]=mt(e(f).columns,xe);return{row:Le,col:$e}});var we=Ku();ie(()=>{I(we,"x",50*e(ke).col+5),I(we,"y",50*e(ke).row+5),Fe(we,0,Be(["beast",{visible:e(f).help&&e(he)}]),"svelte-1u1tplt")}),d(V,we)});var Se=g(be);n(Se);var Te=g(Se);o(Te);var w=g(ee,2);let O;ie((V,he)=>{me(ee,V),I(ce,"viewBox",`0 0 ${50*e(f).columns} ${50*e(f).rows}`),O=me(w,"",O,he)},[()=>Rt(e(f).rows,e(f).columns,5),()=>({"background-color":le[e(H)]})]),et("pointerleave",ce,()=>_(F,_(A,null),!0)),d(Z,Y)},u=Z=>{gt(Z,{title:"La bête",children:(Y,ee)=>{var ce=Xu(),ve=re(ce);te(ve,()=>Ye,(w,O)=>{O(w,{title:"Forme de la bête",values:["type1","type2","type3","type4","custom"],text:["#beast1","#beast2","#beast3","#beast23","#customize"],get selected(){return e(P)},setter:V=>Ee(e(f),D,()=>K(V))})});var ye=g(ve,2);te(ye,()=>Ye,(w,O)=>{O(w,{title:"Type de la grille",values:["standard","cylinder","torus"],text:["#grid-normal","#grid-cylinder","#grid-torus"],tooltip:["Normale","Cylindrique","Torique"],get selected(){return e(j)},setter:V=>Ee(e(f),D,()=>_(j,V,!0))})});var be=g(ye,2);te(be,()=>jr,(w,O)=>{O(w,{get methods(){return D},values:[[3,3],[5,5],[6,6]],customSize:!0,get model(){return e(f)},set model(V){_(f,V,!0)}})});var Se=g(be,2);te(Se,()=>Qe,(w,O)=>{O(w,{title:"Options",children:(V,he)=>{var xe=Qu(),ke=re(xe);te(ke,()=>Ar,($e,qe)=>{qe($e,{interaction:"press",get model(){return e(f)},set model(Ie){_(f,Ie,!0)}})});var we=g(ke,2);te(we,()=>vt,($e,qe)=>{qe($e,{get methods(){return D},get model(){return e(f)},set model(Ie){_(f,Ie,!0)}})});var Le=g(we,2);te(Le,()=>ft,($e,qe)=>{qe($e,{get model(){return e(f)},set model(Ie){_(f,Ie,!0)}})}),d(V,xe)},$$slots:{default:!0}})});var Te=g(Se,2);te(Te,()=>Yr,(w,O)=>{O(w,{get methods(){return D},get model(){return e(f)},set model(V){_(f,V,!0)}})}),d(Y,ce)}})},s=(Z,Y=fe)=>{var ee=rc(),ce=ne(ee),ve=ne(ce);Me(ve,21,Y,ze,(ye,be,Se)=>{const Te=N(()=>{const[ke,we]=mt(e(f).columns,Se);return{row:ke,col:we}});var w=tc(),O=re(w),V=g(O),he=g(V);{var xe=ke=>{var we=ec();ie(()=>{I(we,"x",50*e(Te).col+5),I(we,"y",50*e(Te).row+5)}),d(ke,we)};pe(he,ke=>{e(be)&&ke(xe)})}ie(()=>{I(O,"x",50*e(Te).col),I(O,"y",50*e(Te).row),I(O,"fill",le[0]),I(V,"x",50*e(Te).col),I(V,"y",50*e(Te).row)}),d(ye,w)}),ie(ye=>{me(ce,ye),I(ve,"viewBox",`0 0 ${50*e(f).columns} ${50*e(f).rows}`)},[()=>Rt(e(f).rows,e(f).columns,5)]),d(Z,ee)},i=Z=>{fr(Z,{title:"Personnalise ta bête",onOk:()=>e(f).dialog=null,children:(Y,ee)=>{var ce=oc(),ve=ne(ce);Me(ve,21,()=>e(S),ze,(ye,be,Se,Te)=>{const w=N(()=>{const[ke,we]=mt(5,Se);return{row:ke,col:we}});var O=nc(),V=re(O),he=g(V);he.__click=()=>oe(Se);var xe=g(he);ie(()=>{I(V,"x",50*e(w).col),I(V,"y",50*e(w).row),I(V,"fill",le[0]),I(he,"x",50*e(w).col),I(he,"y",50*e(w).row),I(xe,"x",50*e(w).col+5),I(xe,"y",50*e(w).row+5),Fe(xe,0,Be(["beast",{visible:e(be)}]),"svelte-1u1tplt")}),d(ye,O)}),d(Y,ce)}})},a=[[0,0],[0,1]],v=[[0,0],[0,1],[0,-1]],b=[[0,0],[0,1],[1,1]],h=[[a],[v],[b],[v,b]];let f=_e(Ae({...ct([]),rows:5,columns:5,customSize:!1,scores:{}})),j=_e("standard"),P=_e("type1"),H=_e(0),A=_e(null),F=_e(null),W=_e(null),B=_e(Ae([])),$=Ae([[]]),M=N(()=>{switch(e(P)){case"type1":return h[0];case"type2":return h[1];case"type3":return h[2];case"type4":return h[3];default:return $}});const E=Z=>Z.map(([Y,ee])=>[-ee,Y]),L=(Z,Y,ee)=>Z.map(([ce,ve])=>[ce+Y,ve+ee]);function C(Z){const Y=E(Z),ee=E(Y),ce=E(ee);return[Z,Y,ee,ce]}const c=Z=>tr(e(f).rows,e(f).columns,(Y,ee)=>L(Z,Y,ee));function y(Z){const Y=[];for(const ee of Z)for(const ce of C(ee))for(const ve of c(ce))Y.push(ve);return Y}const k=Z=>Z.map(([Y,ee])=>{switch(e(j)){case"standard":return[Y,ee];case"cylinder":return[Y,Br(ee,e(f).columns)];default:return[Br(Y,e(f).rows),Br(ee,e(f).columns)]}}),T=Z=>Z[28921%Z.length];let m=N(()=>{const Z=e(f).rows,Y=e(f).columns,ee=ce=>ce.every(([ve,ye])=>ve>=0&&ve<Z&&ye>=0&&ye<Y&&!e(f).position[ve*Y+ye]);return y(e(M)).map(k).filter(ee)}),q=N(()=>{const Z=Ue(e(f).rows*e(f).columns,!1);if(e(m).length>0){const Y=T(e(m));for(const[ee,ce]of Y)Z[ee*e(f).columns+ce]=!0}return Z}),S=N(()=>{const Z=Ue(25,!1);for(const[Y,ee]of $[0])Z[Y*5+ee+12]=!0;return Z});const x=Z=>e(f).position.with(Z,!e(f).position[Z]),p=()=>e(m).length===0,z=()=>Ue(e(f).rows*e(f).columns,!1);function R(){_(B,Ue(e(f).rows*e(f).columns,0),!0)}const X="minimize",Q=()=>fs(e(f).position,Z=>Z),D={play:x,isLevelFinished:p,initialPosition:z,onNewGame:R,objective:X,score:Q,scoreHash:()=>e(P)==="custom"?null:`${e(f).columns},${e(f).rows},${e(j)},${e(P)}`};D.updateScore=()=>Kr(e(f),D,!0,"onNewRecord");function K(Z){_(P,Z,!0),Z==="custom"&&(e(f).dialog="customize",e(f).rows=Math.max(e(f).rows,5),e(f).columns=Math.max(e(f).columns,5))}function oe(Z){let[Y,ee]=mt(5,Z);Y-=2,ee-=2;let ce=$[0].findIndex(([ve,ye])=>ve===Y&&ye===ee);ce===-1?$[0].push([Y,ee]):$[0].slice(ce,1)}function G(Z){if(e(W)!==null){let[Y,ee]=mt(e(f).columns,Z),[ce,ve]=mt(e(f).columns,e(W));Y>ce&&([Y,ce]=[ce,Y]),ee>ve&&([ee,ve]=[ve,ee]);for(let ye=Y;ye<=ce;ye++)for(let be=ee;be<=ve;be++)e(B)[ye*e(f).columns+be]=e(H)}_(W,null),_(F,null)}const J={minRows:2,minCols:2,maxRows:9,maxCols:9};let se=N(()=>`Record: ${Q()} pièges`);const le=["#5aa02c","blue","red","yellow","magenta","cyan","orange","darkgreen","grey"];function de(Z){Z.code==="ArrowLeft"?_(H,(e(H)+8)%9):Z.code==="ArrowRight"&&_(H,(e(H)+1)%9)}const ue=(Z,Y)=>{Z.shiftKey&&(Z.currentTarget?.releasePointerCapture(Z.pointerId),_(W,Y,!0))};Ee(e(f),D),et("keydown",Dr,de),dt(t,{get methods(){return D},get board(){return l},get config(){return u},get rules(){return Gu},get sizeLimit(){return J},get winTitle(){return e(se)},get bestScore(){return s},get custom(){return i},get model(){return e(f)},set model(Z){_(f,Z,!0)}}),Re()}Ze(["pointerdown","pointermove","pointerup","click"]);const ic=(t,r=fe,n=fe,o=fe,l=fe)=>{var u=dc();u.__click=function(...j){l()?.apply(this,j)};var s=ne(u),i=ne(s),a=ne(i);{var v=j=>{var P=uc();d(j,P)};pe(a,j=>{n()&&j(v)})}var b=g(i,2),h=ne(b);{var f=j=>{var P=cc();d(j,P)};pe(h,j=>{n()&&j(f)})}ie(()=>{me(u,o()),Fe(s,1,Be(["square-inner",{light:r()}]),"svelte-1apmgi4")}),d(t,u)},ac=t=>{var r=hc();d(t,r)};var uc=ae('<svg class="cross svelte-1apmgi4"><use href="#cross"></use></svg>'),cc=ae('<svg class="cross svelte-1apmgi4"><use href="#cross"></use></svg>'),dc=ge('<div class="square svelte-1apmgi4"><div><div class="blanc svelte-1apmgi4"><!></div> <div class="noir svelte-1apmgi4"><!></div></div></div>'),vc=ge('<div class="board-container svelte-1apmgi4"><div class="ui-board"></div></div>'),fc=ge("<!> <!> <!>",1),gc=ge("<!> <!> <!>",1),hc=ge(`Le but de <strong>Tout noir, tout blanc</strong> est de <strong>retourner</strong> pour que toutes soient face noire.<br/> La difficulté est que lorsque tu retournes une tuile, les tuiles <strong>adjacentes</strong> sont également retournées.<br/> Ce jeu possède différents <strong>niveaux débloqués</strong> au fur et à mesure ainsi que d'autres modes de jeu.
  Selon le mode choisi, les règles pour retourner les tuiles changent.`,1);function _c(t,r){je(r,!0);const n=C=>{const c=N(()=>e(l).rows),y=N(()=>e(l).columns);var k=vc(),T=ne(k);Me(T,21,()=>e(l).position.light,ze,(m,q,S)=>{const x=N(()=>S/e(l).columns|0),p=N(()=>S%e(l).columns),z=N(()=>`width:${86/e(y)}%;height:${86/e(c)}%;left:${(100*e(p)+7)/e(y)}%;top:${(100*e(x)+7)/e(c)}%;`);ic(m,()=>e(q),()=>e(l).help&&e(l).position.played[S],()=>e(z),()=>()=>A(S))}),ie(m=>me(T,m),[()=>Rt(e(l).rows,e(l).columns,4)]),d(C,k)},o=C=>{gt(C,{title:"Tout noir, tout blanc",children:(c,y)=>{var k=gc(),T=re(k);te(T,()=>Ye,(S,x)=>{x(S,{title:"Mode de jeu",values:[0,1,2,3],text:p=>`#lo-mode${p+1}`,get selected(){return e(u)},setter:F})});var m=g(T,2);te(m,()=>Ye,(S,x)=>{x(S,{title:"Difficulté",values:[0,1,2,3,4,5,6],text:p=>$(p,p<=i[e(u)]),tooltip:p=>E(p,p<=i[e(u)]),disabled:p=>p>i[e(u)],get selected(){return e(s)},setter:W})});var q=g(m,2);te(q,()=>Qe,(S,x)=>{x(S,{title:"Options",children:(p,z)=>{var R=fc(),X=re(R);te(X,()=>Ar,(D,K)=>{K(D,{get model(){return e(l)},set model(oe){_(l,oe,!0)}})});var Q=g(X,2);te(Q,()=>vt,(D,K)=>{K(D,{get methods(){return H},get model(){return e(l)},set model(oe){_(l,oe,!0)}})});var U=g(Q,2);te(U,()=>ft,(D,K)=>{K(D,{get model(){return e(l)},set model(oe){_(l,oe,!0)}})}),d(p,R)},$$slots:{default:!0}})}),d(c,k)}})};let l=_e(Ae({...ct({light:[],played:[]}),rows:3,columns:3,customSize:!1,scores:{}})),u=_e(0),s=_e(0),i=Ae([0,1,1,0]);function a(C,c){let[y,k]=Jr(e(l).columns,C,c);return y*y+k*k===1||e(u)%3==0&&C===c||e(u)>=2&&C!==c&&y*k==0}const v=(C,c)=>C.map((y,k)=>y!==a(c,k));function b(C){const{light:c,played:y}=e(l).position;return{light:v(c,C),played:y.with(C,!y[C])}}function h(){const C=e(l).rows*e(l).columns;return{light:Ue(C,!0),played:Ue(C,!1)}}const f=()=>e(l).position.light.every(C=>!C),j=[[3,3],[4,4],[2,10],[3,10],[5,5]];function P(){if(e(s)<5){const[C,c]=j[e(s)];e(l).customSize=!1,e(l).rows=C,e(l).columns=c}else e(l).customSize||(e(l).customSize=!0,e(l).rows=8,e(l).columns=8)}const H={play:b,isLevelFinished:f,initialPosition:h,onNewGame:P};async function A(C){await st(e(l),H,C),H.isLevelFinished()&&(i[e(u)]=e(s)>=4?6:e(s)+(e(u)===0||e(u)===3?1:2),Ee(e(l),H,()=>_(s,Math.min(e(s)+1,6),!0)))}const F=C=>Ee(e(l),H,()=>{_(u,C,!0),_(s,0)}),W=C=>Ee(e(l),H,()=>_(s,C,!0)),B=["3x3","4x4","2x10","3x10","5x5","NxM","#lo-rand"],$=(C,c)=>c?B[C]:"#locked",M=[null,null,null,null,null,"Dimensions personnalisées","Grille aléatoire"],E=(C,c)=>c?M[C]:"Difficulté non débloquée",L={minRows:2,minCols:2,maxRows:12,maxCols:12};Ee(e(l),H),dt(t,{get methods(){return H},get board(){return n},get config(){return o},get rules(){return ac},get sizeLimit(){return L},get model(){return e(l)},set model(C){_(l,C,!0)}}),Re()}Ze(["click"]);const pc=t=>{var r=Sc();d(t,r)};var mc=ae("<rect></rect>"),yc=(t,r,n,o,l)=>st(e(r),n,{pile:o(),pos:l()}),bc=ae('<rect class="square svelte-ro5lwe"></rect>'),xc=ae('<use href="#meeple" width="8" height="8" class="player svelte-ro5lwe"></use>'),wc=ae("<!><!>",1),kc=ae("<!><!>",1),Pc=ge('<div class="ui-board board svelte-ro5lwe"><svg viewBox="0 0 100 100"><!><!></svg> <span class="turn-message svelte-ro5lwe"> </span></div>'),$c=ge("<!> <!> <!> <!>",1),Mc=ge("<!> <!> <!> <!>",1),Sc=ge(`Le but de <strong>Bloque moi</strong> si tu peux est d'acculer chacun des jetons de l'adversaire au bord du plateau de telle
  façon qu'il ne puisse <strong>plus en déplacer</strong>.<br/> À chaque tour, tu peux déplacer un de tes jetons vers la <strong>gauche</strong> ou vers la <strong>droite</strong> d'autant de cases que tu veux mais tu
  ne peux pas <strong>sauter</strong> par-dessus un jeton adverse.<br/> Tu es obligé de déplacer un jeton d'au moins une case, tu ne peux pas <strong>passer ton tour</strong>.<br/> Tu gagnes la partie si ton adversaire n'a aucun mouvement possible.`,1);function zc(t,r){je(r,!0);const n=(B,$=fe)=>{var M=mc();ie(()=>{Fe(M,0,`row ${e(a)===5?"row-5":"row-10"}`,"svelte-ro5lwe"),I(M,"y",10+19*$())}),d(B,M)},o=(B,$=fe,M=fe)=>{var E=bc();E.__click=[yc,i,A,$,M];let L;ie(C=>L=me(E,"",L,C),[()=>({transform:`translate(${(e(a)===5?30:5)+10*M()}px, ${15+19*$()}px) rotate(45deg)`,cursor:b({pile:$(),pos:M()})?"pointer":"not-allowed"})]),d(B,E)},l=(B,$=fe,M=fe,E=fe)=>{var L=xc();let C;ie(c=>{I(L,"fill",M()===0?"blue":"red"),C=me(L,"",C,c)},[()=>({transform:`translate(${(e(a)===5?26:1)+10*E()}px, ${11+19*$()}px)`})]),d(B,L)},u=B=>{var $=Pc(),M=ne($),E=ne(M);Me(E,17,()=>We(0,e(v)),ze,(y,k)=>{var T=wc(),m=re(T);n(m,()=>e(k));var q=g(m);Me(q,17,()=>We(0,e(a)),ze,(S,x)=>{o(S,()=>e(k),()=>e(x))}),d(y,T)});var L=g(E);Me(L,17,()=>e(i).position,ze,(y,k,T)=>{var m=N(()=>Pt(e(k),2));let q=()=>e(m)[0],S=()=>e(m)[1];var x=kc(),p=re(x);l(p,()=>T,()=>0,q);var z=g(p);l(z,()=>T,()=>1,S),d(y,x)});var C=g(M,2),c=ne(C);ie(()=>lt(c,e(F))),d(B,$)},s=B=>{gt(B,{title:"Bloque moi si tu peux",children:($,M)=>{var E=Mc(),L=re(E);te(L,()=>Ye,(k,T)=>{T(k,{title:"Taille des rangées",values:[1,2,3,4,5],get selected(){return e(v)},get disabled(){return e(i).locked},setter:m=>Ee(e(i),A,()=>_(v,m,!0))})});var C=g(L,2);te(C,()=>Ye,(k,T)=>{T(k,{title:"Taille des rangées",values:[10,5],get selected(){return e(a)},get disabled(){return e(i).locked},setter:m=>Ee(e(i),A,()=>_(a,m,!0))})});var c=g(C,2);te(c,()=>vn,(k,T)=>{T(k,{get methods(){return A},get model(){return e(i)},set model(m){_(i,m,!0)}})});var y=g(c,2);te(y,()=>Qe,(k,T)=>{T(k,{title:"Options",children:(m,q)=>{var S=$c(),x=re(S);te(x,()=>Nt,(X,Q)=>{Q(X,{get methods(){return A},get model(){return e(i)},set model(U){_(i,U,!0)}})});var p=g(x,2);te(p,()=>It,(X,Q)=>{Q(X,{get methods(){return A},get model(){return e(i)},set model(U){_(i,U,!0)}})});var z=g(p,2);te(z,()=>vt,(X,Q)=>{Q(X,{get methods(){return A},get model(){return e(i)},set model(U){_(i,U,!0)}})});var R=g(z,2);te(R,()=>ft,(X,Q)=>{Q(X,{get model(){return e(i)},set model(U){_(i,U,!0)}})}),d(m,S)},$$slots:{default:!0}})}),d($,E)}})};let i=_e(Ae({...ct([]),mode:"random"})),a=_e(10),v=_e(4);const b=B=>{const[$,M]=e(i).position[B.pile];return B.pos!=$&&B.pos!=M&&(e(i).turn===1?B.pos<M:B.pos>$)};function h(B){if(!b(B))return null;const[$,M]=e(i).position[B.pile];return e(i).position.with(B.pile,e(i).turn===1?[B.pos,M]:[$,B.pos])}const f=()=>qt(e(v),()=>e(a)===5?[0,4]:[nr(0,5),nr(5,10)]),j=()=>e(i).position.every(([B,$])=>$-B===1&&B==(e(i).turn===2?e(a)-2:0));function P(){const B=[];for(let M=0;M<e(v);M++)for(let E=0;E<e(a);E++)B.push({pile:M,pos:E});const $=M=>{const[E,L]=e(i).position[M.pile];return e(i).turn===1?E-M.pos:M.pos-L};return B.filter(b).toSorted((M,E)=>$(M)-$(E))}const A={play:h,isLevelFinished:j,initialPosition:f,possibleMoves:P,isLosingPosition:()=>e(i).position.reduce((B,[$,M])=>B^M-$-1,0)===0};let F=N(()=>j()?"Partie finie":e(i).turn===1?"Tour du joueur bleu":"Tour du joueur rouge"),W=N(()=>Jn(e(i)));Ee(e(i),A),dt(t,{get methods(){return A},get board(){return u},get config(){return s},get rules(){return pc},get winTitle(){return e(W)},get model(){return e(i)},set model(B){_(i,B,!0)}}),Re()}Ze(["click"]);const Tc=(t,r=fe,n=fe,o=fe,l=fe,u=fe,s=fe)=>{var i=Lc();let a;var v=ne(i);v.__click=function(...j){s()?.apply(this,j)};var b=g(v);{var h=j=>{var P=Ec();d(j,P)};pe(b,j=>{u()&&j(h)})}var f=g(b);ie(j=>{Fe(i,0,Be({darken:o()}),"svelte-mmrok6"),a=me(i,"",a,j),Fe(f,0,Be(["trap",{visible:l()&&!u()}]),"svelte-mmrok6")},[()=>({transform:`translate(${r()??""}px, ${n()??""}px)`})]),d(t,i)},qc=t=>{var r=Fc();d(t,r)};var Ec=ae('<use href="#paths-door" width="100" height="100" class="svelte-mmrok6"></use>'),Lc=ae('<g><use href="#paths-background" width="100" height="100" class="svelte-mmrok6"></use><!><use href="#paths-trap" width="100" height="100"></use></g>'),Cc=ae('<use href="#meeplehat" width="80" height="80" x="10" y="10" class="hero svelte-mmrok6"></use>'),Ac=ae('<use href="#meeplehat" class="pointer svelte-mmrok6" x="-40" y="-40" width="80" height="80"></use>'),jc=ae('<use href="#paths-door" class="pointer svelte-mmrok6" x="-50" y="-50.0" width="100" height="100"></use>'),Rc=ae("<!><path></path><!>",1),Nc=ge('<div class="board-container svelte-mmrok6"><div class="ui-board svelte-mmrok6"><!></div></div>'),Ic=ge("<!> <!> <!> <!> <!>",1),Oc=ge("<!> <!> <!>",1),Fc=ge(`<p class="svelte-mmrok6">Après moultes péripéties dans le temple maudit de Berge, le professeur <strong class="svelte-mmrok6">Hamilton Jones</strong> se retrouve dans la dernière salle.<br class="svelte-mmrok6"/> Pour sortir de celle-ci, il doit s'enfuir par une porte au-dessous de lui.<br class="svelte-mmrok6"/> Celle-ci ne peut être ouverte qu'en marchant sur chacune des dalles dans la salle.</p> <p class="svelte-mmrok6">Malheureusement, ces dalles sont piégées, le piège se déclenchant peu de temps après avoir marché dessus.<br class="svelte-mmrok6"/> Donc, Hamilton ne <strong class="svelte-mmrok6">ne peut pas remarcher</strong> sur une dalle sur laquelle il a déjà été.<br class="svelte-mmrok6"/> N'ayant plus l'aisance de sa jeunesse, Hamilton ne peut se déplacer que d'une <strong class="svelte-mmrok6">dalle à la fois</strong> et ne peut le faire en <strong class="svelte-mmrok6">diagonale</strong>.</p> <p class="svelte-mmrok6">Trouve un parcours pour résoudre l'énigme. Ca semble facile ?
    Mais, cela est-il possible pour toutes les tailles de grille ?</p> <p class="svelte-mmrok6">Tu remarqueras qu'il n'y a <strong class="svelte-mmrok6">pas</strong> toujours de solution.<br class="svelte-mmrok6"/> Dans le deuxième mode de jeu, tu peux choisir la <strong class="svelte-mmrok6">position de départ</strong> d'Hamilton ainsi que celle de la <strong class="svelte-mmrok6">porte</strong>.<br class="svelte-mmrok6"/> Trouve des critères sur les positions d'Hamilton et de la porte pour qu'une solution soit possible</p>`,1);function Bc(t,r){je(r,!0);const n=(M,E=fe)=>{const L=N(()=>E()/e(s).columns|0),C=N(()=>E()%e(s).columns);var c=Cc();let y;ie(k=>y=me(c,"",y,k),[()=>({transform:`translate(${e(C)*100}px, ${e(L)*100}px)`})]),d(M,c)},o=(M,E=fe,L=fe)=>{var C=Pe(),c=re(C);{var y=T=>{var m=Ac();let q;ie(S=>q=me(m,"",q,S),[()=>({transform:`translate(${100*E()}%, ${100*L()}%)`})]),d(T,m)},k=T=>{var m=Pe(),q=re(m);{var S=x=>{var p=jc();let z;ie(R=>z=me(p,"",z,R),[()=>({transform:`translate(${100*E()}%, ${100*L()}%)`})]),d(x,p)};pe(q,x=>{e(i)===null&&x(S)},!0)}d(T,m)};pe(c,T=>{e(s).position.length===0?T(y):T(k,!1)})}d(M,C)},l=M=>{var E=Nc(),L=ne(E),C=ne(L);{let c=N(()=>100*e(s).columns),y=N(()=>100*e(s).rows);Qr(C,{get pointer(){return o},get viewBox(){return`0 0 ${e(c)??""} ${e(y)??""}`},children:(k,T)=>{var m=Rc(),q=re(m);Me(q,17,()=>e(W),ze,(z,R,X)=>{const Q=N(()=>X/e(s).columns|0),U=N(()=>X%e(s).columns);{let D=N(()=>e(R)&&X!==e(s).position.at(-1)&&!e(v));Tc(z,()=>e(U)*100,()=>e(Q)*100,()=>e(s).help&&(e(Q)+e(U))%2===0,()=>e(D),()=>X===e(i),()=>()=>$(X))}});var S=g(q),x=g(S);{var p=z=>{{let R=N(()=>e(s).position.at(-1));n(z,()=>e(R))}};pe(x,z=>{e(s).position.length>0&&z(p)})}ie(()=>{I(S,"d",e(B)),Fe(S,0,Be(["path",{animate:e(v)}]),"svelte-mmrok6"),I(S,"stroke-dasharray",e(v)?100*e(s).position.length:"0"),I(S,"stroke-dashoffset",e(v)?100*e(s).position.length:"0")}),d(k,m)},$$slots:{default:!0}})}ie(c=>me(L,c),[()=>Rt(e(s).rows,e(s).columns,5)]),d(M,E)},u=M=>{gt(M,{title:"Chemins",children:(E,L)=>{var C=Oc(),c=re(C);te(c,()=>Ye,(T,m)=>{m(T,{title:"Mode de jeu",values:[1,2],text:["#paths-mode0","#paths-mode1"],tooltip:["Mode 1","Mode 2"],get selected(){return e(a)},setter:q=>Ee(e(s),F,()=>_(a,q,!0))})});var y=g(c,2);te(y,()=>jr,(T,m)=>{m(T,{get methods(){return F},values:[[4,6],[5,5],[3,8]],customSize:!0,get model(){return e(s)},set model(q){_(s,q,!0)}})});var k=g(y,2);te(k,()=>Qe,(T,m)=>{m(T,{title:"Options",children:(q,S)=>{var x=Ic(),p=re(x);te(p,()=>Ar,(U,D)=>{D(U,{get model(){return e(s)},set model(K){_(s,K,!0)}})});var z=g(p,2);te(z,()=>Nt,(U,D)=>{D(U,{get methods(){return F},get model(){return e(s)},set model(K){_(s,K,!0)}})});var R=g(z,2);te(R,()=>It,(U,D)=>{D(U,{get methods(){return F},get model(){return e(s)},set model(K){_(s,K,!0)}})});var X=g(R,2);te(X,()=>vt,(U,D)=>{D(U,{get methods(){return F},get model(){return e(s)},set model(K){_(s,K,!0)}})});var Q=g(X,2);te(Q,()=>ft,(U,D)=>{D(U,{get model(){return e(s)},set model(K){_(s,K,!0)}})}),d(q,x)},$$slots:{default:!0}})}),d(E,C)}})};let s=_e(Ae({...ct([]),rows:4,columns:6,customSize:!1})),i=_e(null),a=_e(1),v=N(()=>e(i)!==null&&e(s).position.length>0&&e(s).position.length==e(s).columns*e(s).rows+(e(i)===e(s).position[0]?1:0));function b(M,E,L){const[C,c]=Jr(M,E,L);return C==0?E<L?We(E+1,L+1):We(E-1,L-1,-1):c==0?E<L?We(E+M,L+1,M):We(E-M,L-1,-M):null}function h(M){if(e(i)==null||M.length<=2)return!0;const E=M.slice(1),L=E.slice(0,-1),C=M[0],c=M.at(-1);return qn(E)&&!L.includes(e(i))&&!L.includes(c)&&(C!==c||M.length===e(s).rows*e(s).columns+(C===e(i)?1:0)&&c===e(i))}function f(M){if(e(s).position.length===0)return e(a)===2?[M]:null;{const E=e(s).position.at(-1),L=b(e(s).columns,E,M);if(L===null||L.length===0)return null;const C=e(s).position.concat(L);return h(C)?C:null}}const j=()=>e(v),P=()=>e(i)===null?[]:[e(i)];function H(){_(i,e(a)===1?nr(0,e(s).rows*e(s).columns):null,!0)}const A={minRows:2,minCols:2,maxRows:9,maxCols:9},F={play:f,isLevelFinished:j,initialPosition:P,onNewGame:H};let W=N(()=>{const M=Ue(e(s).rows*e(s).columns,!1);for(const E of e(s).position)M[E]=!0;return M}),B=N(()=>e(s).position.map((M,E)=>{const L=50+100*(M%e(s).columns),C=50+100*(M/e(s).columns|0);return`${E===0?"M":"L"}${L} ${C}`}).join(""));function $(M){e(s).position.length===0?e(s).position=[M]:e(i)===null?_(i,M,!0):st(e(s),F,M)}Ee(e(s),F),dt(t,{get methods(){return F},get board(){return l},get config(){return u},get rules(){return qc},get sizeLimit(){return A},get model(){return e(s)},set model(M){_(s,M,!0)}}),Re()}Ze(["click"]);const bn=(t,r=fe,n=fe)=>{var o=Zc(),l=re(o);Me(l,17,()=>We(1,n()),ze,(s,i)=>{var a=Hc();ie(()=>{I(a,"y2",50*r()),I(a,"x1",e(i)*50),I(a,"x2",e(i)*50)}),d(s,a)});var u=g(l);Me(u,17,()=>We(1,r()),ze,(s,i)=>{var a=Uc();ie(()=>{I(a,"x2",50*n()),I(a,"y1",e(i)*50),I(a,"y2",e(i)*50)}),d(s,a)}),d(t,o)},Dc=t=>{var r=td();d(t,r)};var Gc=ge('<div class="pieceselector svelte-oa6bbb"></div>'),Hc=ae('<line y1="0" class="line svelte-oa6bbb"></line>'),Uc=ae('<line x1="0" class="line svelte-oa6bbb"></line>'),Zc=ae("<!><!>",1),Vc=ae('<use class="piece svelte-oa6bbb" width="40" height="40"></use>'),Wc=ae('<use width="40" height="40"></use>'),Jc=ae("<rect></rect><!>",1),Kc=ae("<!><!>",1),Yc=ge('<div class="board svelte-oa6bbb"><div class="ui-board board svelte-oa6bbb"><!></div></div>'),Qc=ge('<div class="board-container svelte-oa6bbb"><!> <!></div>'),Xc=ge("<!> <!> <!> <!> <!>",1),ed=ge("<!> <!> <!> <!>",1),td=ge("Place le <strong>plus de pièces</strong> possible sur ta grille sans qu'aucune ne soit <strong>menacée</strong> par une autre pièce.<br/> Tu peux choisir de jouer avec différentes pièces comme celles du <strong>jeu d'échecs.</strong><br/> Le mode <strong>mixte</strong> permet de jouer avec plusieurs pièces différentes.<br/> Tu peux jouer avec une pièce <strong>personnalisée</strong> si tu le souhaites.",1),rd=ae('<use class="piece svelte-oa6bbb" width="40" height="40"></use>'),nd=ae('<rect class="square svelte-oa6bbb"></rect><!>',1),od=ge('<div class="bestscore-container svelte-oa6bbb"><div class="ui-board"><svg><!><!></svg></div></div>'),sd=ae("<rect></rect>"),ld=ge('<div class="custompiece-container svelte-oa6bbb"><div class="ui-board custompiece-grid svelte-oa6bbb"><svg viewBox="0 0 250 250"><!><use class="piece svelte-oa6bbb" href="#piece-custom" x="105" y="105" width="40" height="40"></use><!></svg></div> <div class="custompiece-directions svelte-oa6bbb"></div></div>');function id(t,r){je(r,!0);const n=Q=>{var U=Gc();Me(U,21,()=>e(P),ze,(D,K)=>{var oe=Pe(),G=re(oe);{let J=N(()=>e(K)===e(f));te(G,()=>Ge,(se,le)=>{le(se,{get text(){return`#piece-${e(K)??""}`},get selected(){return e(J)},onclick:()=>_(f,e(K),!0)})})}d(D,oe)}),d(Q,U)},o=(Q,U=fe,D=fe)=>{var K=Vc();I(K,"x",-20),I(K,"y",-20);let oe;ie(G=>{I(K,"href",`#piece-${e(f)??""}`),oe=me(K,"",oe,G)},[()=>({transform:`translate(${100*U()}%, ${100*D()}%)`})]),d(Q,K)},l=Q=>{var U=Yc(),D=ne(U),K=ne(D);{let oe=N(()=>50*e(h).columns),G=N(()=>50*e(h).rows);Qr(K,{get pointer(){return o},get viewBox(){return`0 0 ${e(oe)??""} ${e(G)??""}`},children:(J,se)=>{var le=Kc(),de=re(le);Me(de,17,()=>e(h).position,ze,(Z,Y,ee)=>{const ce=N(()=>50*(ee%e(h).columns)),ve=N(()=>50*(ee/e(h).columns|0));var ye=Jc(),be=re(ye);be.__click=()=>st(e(h),S,ee);var Se=g(be);{var Te=w=>{var O=Wc();ie(()=>{Fe(O,0,Be(["piece",{capturable:e(M)[ee]}]),"svelte-oa6bbb"),I(O,"href",`#piece-${e(Y)??""}`),I(O,"x",e(ce)+5),I(O,"y",e(ve)+5)}),d(w,O)};pe(Se,w=>{e(Y)!==null&&w(Te)})}ie(()=>{I(be,"x",e(ce)),I(be,"y",e(ve)),Fe(be,0,Be(["square",{attacked:ee===e(j)||e(L)[ee],capturable:e(h).help&&(e(Y)!==null||e(M)[ee])}]),"svelte-oa6bbb")}),et("pointerenter",be,()=>_(j,ee,!0)),et("pointerleave",be,()=>_(j,null)),d(Z,ye)});var ue=g(de);bn(ue,()=>e(h).rows,()=>e(h).columns),d(J,le)},$$slots:{default:!0}})}ie(oe=>me(D,oe),[()=>Rt(e(h).rows,e(h).columns,5)]),d(Q,U)},u=Q=>{var U=Qc(),D=ne(U);n(D);var K=g(D,2);l(K),d(Q,U)},s=Q=>{gt(Q,{title:"Les reines",children:(U,D)=>{var K=ed(),oe=re(K);te(oe,()=>jr,(le,de)=>{de(le,{get methods(){return S},values:[[4,4],[5,5],[7,7],[8,8]],customSize:!0,get model(){return e(h)},set model(ue){_(h,ue,!0)}})});var G=g(oe,2);te(G,()=>Qe,(le,de)=>{de(le,{title:"Pièces disponibles",children:(ue,Z)=>{var Y=Pe(),ee=re(Y);Me(ee,17,()=>v,ze,(ce,ve)=>{var ye=Pe(),be=re(ye);{let Se=N(()=>e(P).includes(e(ve))),Te=N(()=>x(e(ve)));te(be,()=>Ge,(w,O)=>{O(w,{get text(){return`#piece-${e(ve)??""}`},get selected(){return e(Se)},get tooltip(){return e(Te)},onclick:()=>z(e(ve))})})}d(ce,ye)}),d(ue,Y)},$$slots:{default:!0}})});var J=g(G,2);te(J,()=>Qe,(le,de)=>{de(le,{title:"Options",children:(ue,Z)=>{var Y=Xc(),ee=re(Y);{let Se=N(()=>e(P)[0]=="custom");te(ee,()=>Ge,(Te,w)=>{w(Te,{text:"#customize",get selected(){return e(Se)},tooltip:"Crée ta propre pièce",onclick:R})})}var ce=g(ee,2);te(ce,()=>Ge,(Se,Te)=>{Te(Se,{text:"#piece-mix",tooltip:"Mode mixte",get selected(){return e(H)},onclick:p})});var ve=g(ce,2);te(ve,()=>Ar,(Se,Te)=>{Te(Se,{get model(){return e(h)},set model(w){_(h,w,!0)}})});var ye=g(ve,2);te(ye,()=>vt,(Se,Te)=>{Te(Se,{get methods(){return S},get model(){return e(h)},set model(w){_(h,w,!0)}})});var be=g(ye,2);te(be,()=>ft,(Se,Te)=>{Te(Se,{get model(){return e(h)},set model(w){_(h,w,!0)}})}),d(ue,Y)},$$slots:{default:!0}})});var se=g(J,2);te(se,()=>Yr,(le,de)=>{de(le,{get methods(){return S},get model(){return e(h)},set model(ue){_(h,ue,!0)}})}),d(U,K)}})},i=(Q,U=fe)=>{var D=od(),K=ne(D),oe=ne(K),G=ne(oe);Me(G,17,U,ze,(se,le,de)=>{const ue=N(()=>50*(de%e(h).columns)),Z=N(()=>50*(de/e(h).columns|0));var Y=nd(),ee=re(Y),ce=g(ee);{var ve=ye=>{var be=rd();ie(()=>{I(be,"href",`#piece-${e(le)??""}`),I(be,"x",e(ue)+5),I(be,"y",e(Z)+5)}),d(ye,be)};pe(ce,ye=>{e(le)!==null&&ye(ve)})}ie(()=>{I(ee,"x",e(ue)),I(ee,"y",e(Z))}),d(se,Y)});var J=g(G);bn(J,()=>e(h).rows,()=>e(h).columns),ie(se=>{me(K,se),I(oe,"viewBox",`0 0 ${50*e(h).columns} ${50*e(h).rows}`)},[()=>Rt(e(h).rows,e(h).columns,5)]),d(Q,D)},a=Q=>{fr(Q,{title:"Personnalise ta pièce",onOk:()=>e(h).dialog=null,children:(U,D)=>{var K=ld(),oe=ne(K),G=ne(oe),J=ne(G);Me(J,17,()=>A,ze,(de,ue,Z)=>{const Y=N(()=>{const[ce,ve]=mt(5,Z);return{row:ce,col:ve}});var ee=sd();ee.__click=()=>{Z!==12&&(A[Z]=!A[Z])},ie(()=>{I(ee,"x",50*e(Y).col),I(ee,"y",50*e(Y).row),Fe(ee,0,Be(["square",{attacked:e(ue)}]),"svelte-oa6bbb")}),d(de,ee)});var se=g(J,2);bn(se,()=>5,()=>5);var le=g(oe,2);Me(le,21,()=>F,ze,(de,ue,Z)=>{var Y=Pe(),ee=re(Y);te(ee,()=>Ge,(ce,ve)=>{ve(ce,{text:Z===4?"":"#arrow",get selected(){return e(ue)},get style(){return`transform:rotate(${b[Z]??""}deg)`},onclick:()=>{Z!==4&&(F[Z]=!F[Z])}})}),d(de,Y)}),d(U,K)}})},v=["R","B","K","N","Q"],b=[45,90,135,0,0,180,-45,-90,-135];let h=_e(Ae({...ct([]),rows:8,columns:8,customSize:!1,scores:{}})),f=_e("Q"),j=_e(null),P=_e(Ae(["R"])),H=_e(!1),A=Ae(Ue(25,!1)),F=Ae(Ue(9,!1));function W(Q,U,D){switch(Q){case"Q":return(U*U-D*D)*U*D==0;case"K":return U*U+D*D<=2;case"R":return U*D==0;case"B":return U*U-D*D==0;case"N":return U*U+D*D==5;default:return!1}}function B(Q,U,D){const[K,oe]=Jr(e(h).columns,U,D);return Q!=="custom"?U!==D&&W(Q,K,oe):(K*K-oe*oe)*K*oe===0&&F[3*Math.sign(K)+Math.sign(oe)+4]||K*K+oe*oe<=8&&A[5*K+oe+12]}const $=(Q,U)=>qt(e(h).rows*e(h).columns,D=>B(Q,D,U));let M=N(()=>{const Q=e(h).rows*e(h).columns,U=Ue(Q,!1);return e(h).position.forEach((D,K)=>{if(D!==null){const oe=$(D,K);for(let G=0;G<Q;G++)U[G]||=oe[G]}}),U}),E=N(()=>e(h).position.every((Q,U)=>Q===null||!e(M)[U])),L=N(()=>e(j)===null?Ue(e(h).rows*e(h).columns,!1):$(e(f),e(j)));function C(Q){const U=e(h).position[Q]===null?e(f):null;return e(h).position.with(Q,U)}const S={play:C,isLevelFinished:()=>!1,initialPosition:()=>Ue(e(h).rows*e(h).columns,null),onNewGame:()=>_(f,e(P)[0],!0),objective:"maximize",score:()=>e(E)?e(h).position.filter(Q=>Q!==null).length:0,scoreHash:()=>e(H)||e(P).includes("custom")?null:`${e(h).rows},${e(h).columns},${e(P)[0]}`};S.updateScore=()=>Kr(e(h),S,!1,"never");function x(Q){switch(Q){case"Q":return"Reine";case"K":return"Roi";case"R":return"Tour";case"B":return"Fou";case"N":return"Cavalier";default:return"Pièce personnalisée"}}function p(){_(H,!e(H)),e(H)||_(P,e(P).slice(0,1),!0)}function z(Q){Ee(e(h),S,()=>{if(e(H)){const U=v.filter(D=>D===Q!==e(P).includes(D));U.length>0&&_(P,U,!0)}else _(P,[Q],!0)})}const R=()=>Ee(e(h),S,()=>{_(P,["custom"],!0),e(h).dialog="customize",_(H,!1)}),X={minRows:3,minCols:3,maxRows:9,maxCols:9};Ee(e(h),S),dt(t,{get methods(){return S},get board(){return u},get config(){return s},get rules(){return Dc},get bestScore(){return i},get custom(){return a},get sizeLimit(){return X},get model(){return e(h)},set model(Q){_(h,Q,!0)}}),Re()}Ze(["click"]);var ad=ae('<svg class="pytha-svg2 svelte-vlo16r" viewBox="-1 -1 702 302"><path d="M 0 300 h 300 v -300 h -300 Z L 100 100 M 0 100 h 300 l -200 -100 v 300" fill="transparent" stroke="#000"></path><path d="M 400 300 h 300 v -300 h -300 Z M 400 200 l 200 100 l 100 -200 l -200 -100 l -100 200" fill="transparent" stroke="#000"></path><path d="M 0 300 v -200 h 100 Z" fill="blue" stroke="#000"></path><path d="M 0 300 h 100 v -200 Z" fill="yellow" stroke="#000"></path><path d="M 100 0 h 200 v 100 Z" fill="#00FF00" stroke="#000"></path><path d="M 100 0 v 100 h 200 Z" fill="red" stroke="#000"></path><path d="M 0 300 v -200 h 100 Z" fill="blue" stroke="#000"></path><path d="M 0 300 h 100 v -200 Z" fill="yellow" stroke="#000"></path><path d="M 100 0 h 200 v 100 Z" fill="#00FF00" stroke="#000"></path><path d="M 100 0 v 100 h 200 0 Z" fill="red" stroke="#000"></path><text x="5" y="55" font-size="20">a</text><text x="46" y="16" font-size="20">a</text><text x="105" y="210" font-size="20">b</text><text x="198" y="120" font-size="20">b</text><text x="460" y="98" font-size="20">c</text><text x="595" y="80" font-size="20">c</text></svg>'),ud=(t,r,n)=>r(n),cd=ge(`<h2 class="h2 svelte-vlo16r">Que raconte le théorème de Pythagore?</h2> <p class="center svelte-vlo16r"><svg class="pytha-svg svelte-vlo16r" viewBox="0 -100 200 250"><path d="M 50 50 h 100 v 100 h -100 Z" fill="yellow" stroke="black"></path><path d="M 0 0 h 50 v 50 h -50 Z" fill="yellow" stroke="black"></path><path d="M 50 0 l 100 50 l 50 -100 l -100 -50 Z" fill="#00ff00" stroke="black"></path><text x="90" y="105" font-size="35">a²</text><text x="18" y="35" font-size="35">b²</text><text x="110" y="-10" font-size="35">c²</text></svg></p> <h2 class="h2 svelte-vlo16r">Preuve sans mot due à un auteur chinois inconnu qui vivait vers 200 avant J.-C.</h2> <p class="center svelte-vlo16r"><!></p> <button class="anim-btn svelte-vlo16r">Lancer l'animation</button>`,1),dd=ae('<line class="grid svelte-vlo16r"></line>'),vd=ae('<line x1="-10" x2="1360" class="grid svelte-vlo16r"></line>'),fd=ae('<svg class="caroll-svg svelte-vlo16r" viewBox="-10 -10 1370 270"><path d="M 400 100 h 250 v -100 Z" fill="orange"></path><path d="M 400 200 h 150 v -50 h 100 v -50 h -250 Z" fill="red"></path><path d="M 400 250 h 250 v -100 h -100 v 50 h -150 Z" fill="blue"></path><path d="M 0 250 h 400 v -150 Z" fill="green"></path><path d="M 400 100 h 250 v -100 Z" fill="orange"></path><path d="M 400 200 h 150 v -50 h 100 v -50 h -250 Z" fill="red"></path><path d="M 400 250 h 250 v -100 h -100 v 50 h -150 Z" fill="blue"></path><path d="M 0 250 h 400 v -150 Z" fill="green"></path><!><!></svg>'),gd=(t,r,n)=>r(n),hd=ge(`<h2 class="h2 svelte-vlo16r">Où est passé le carré manquant ?</h2> <p class="center svelte-vlo16r"><!></p> <button class="anim-btn svelte-vlo16r">Lancer l'animation</button>`,1),_d=(t,r)=>r("pythagore"),pd=(t,r)=>r("caroll"),md=ge('<div class="main svelte-vlo16r"><div class="menu svelte-vlo16r"><button class="link svelte-vlo16r">1</button> <button class="link svelte-vlo16r">2</button></div> <div><h1 class="title svelte-vlo16r">Preuves sans mot</h1> <!></div></div>');function yd(t,r){je(r,!0);const n=c=>{const y=N(()=>G=>P[G][e(s)[G]??0]);var k=ad(),T=g(ne(k),2),m=g(T),q=g(m),S=g(q),x=g(S),p=g(x),z=g(p),R=g(z),X=g(R),Q=g(X),U=g(Q),D=g(U),K=g(D),oe=g(K);ie((G,J,se,le,de,ue,Z,Y,ee,ce,ve,ye,be,Se)=>{me(T,G),me(m,J),me(q,se),me(S,le),me(x,de),me(p,ue),me(z,Z),me(R,Y),me(X,ee),me(Q,ce),me(U,ve),me(D,ye),me(K,be),me(oe,Se)},[()=>e(y)("a"),()=>e(y)("b"),()=>e(y)("c"),()=>e(y)("d"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e")]),d(c,k)},o=c=>{var y=cd(),k=g(re(y),6),T=ne(k);n(T);var m=g(k,2);m.__click=[ud,v,j],d(c,y)},l=c=>{const y=N(()=>U=>A[U][e(s)[U]??0]);var k=fd(),T=ne(k),m=g(T),q=g(m),S=g(q),x=g(S),p=g(x),z=g(p),R=g(z),X=g(R);Me(X,17,()=>We(0,28),ze,(U,D)=>{var K=dd();I(K,"y1",-10),I(K,"y2",260),ie(()=>{I(K,"x1",50*e(D)),I(K,"x2",50*e(D))}),d(U,K)});var Q=g(X);Me(Q,17,()=>We(0,6),ze,(U,D)=>{var K=vd();ie(()=>{I(K,"y1",50*e(D)),I(K,"y2",50*e(D))}),d(U,K)}),ie((U,D,K,oe,G,J,se,le)=>{me(T,U),me(m,D),me(q,K),me(S,oe),me(x,G),me(p,J),me(z,se),me(R,le)},[()=>e(y)("a"),()=>e(y)("b"),()=>e(y)("c"),()=>e(y)("d"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e")]),d(c,k)},u=c=>{var y=hd(),k=g(re(y),2),T=ne(k);l(T);var m=g(k,2);m.__click=[gd,v,H],d(c,y)};let s=_e(Ae({})),i=_e(!1),a=_e("pythagore");async function v(c){if(!e(i)){_(i,!0),_(s,{},!0);for(const[y,k,T]of c)await Vn(y),e(s)[k]=T;_(i,!1)}}function b(c){e(i)||_(a,c,!0)}const h="transform:translate(0px, 0px);",f=(c,y,k,T)=>`transform: translate(${c}px, ${y}px);transition: transform linear ${T}ms;`,j=[[500,"a",1],[200,"a",2],[600,"b",1],[200,"b",2],[600,"c",1],[200,"c",2],[600,"d",1],[200,"d",2],[600,"e",1]],P={a:["opacity: 0;",h,f(400,-100,0,600)],b:["opacity: 0;",h,f(600,0,0,600)],c:["opacity: 0;",h,f(400,0,0,600)],d:["opacity: 0;",h,f(300,200,0,600)],e:["opacity: 0;",""]},H=[[700,"a",1],[700,"b",1],[700,"c",1],[700,"d",1],[600,"e",1]],A={a:[h,f(300,150,0,600)],b:[h,f(550,50,0,600)],c:[h,f(700,0,0,600)],d:[h,f(950,-100,0,600)],e:["opacity: 0;",""]};var F=md(),W=ne(F),B=ne(W);B.__click=[_d,b];var $=g(B,2);$.__click=[pd,b];var M=g(W,2),E=g(ne(M),2);{var L=c=>{o(c)},C=c=>{var y=Pe(),k=re(y);{var T=m=>{u(m)};pe(k,m=>{e(a)==="caroll"&&m(T)},!0)}d(c,y)};pe(E,c=>{e(a)==="pythagore"?c(L):c(C,!1)})}d(t,F),Re()}Ze(["click"]);const bd=(t,r=fe)=>{var n=$d();ie(()=>me(n,r())),d(t,n)},xd=t=>{var r=Pr("todo");d(t,r)};var wd=ae('<rect x="-25.0" y="-25.0" width="50" height="50"></rect>'),kd=ae('<!><circle r="17"></circle>',1),Pd=ae('<circle r="20"></circle>'),$d=ae('<circle r="20" width="30" height="30" class="cursor svelte-bnfj6e"></circle>'),Md=ae('<circle cx="125" cy="125" r="90" class="circle svelte-bnfj6e"></circle>'),Sd=ae("<!><!><!>",1),zd=ge('<div class="ui-board"><!></div>'),Td=ge('<div class="board-container svelte-bnfj6e"><!></div>'),qd=ge('<div class="scoredialog svelte-bnfj6e"><!></div>'),Ed=ge("<!> <!> <!> <!> <!>",1),Ld=ge("<!> <!> <!>",1);function Cd(t,r){je(r,!0);const n=(m,q=fe,S=fe,x=fe,p=fe,z=fe)=>{var R=kd(),X=re(R);{var Q=K=>{var oe=wd();let G;ie((J,se)=>{I(oe,"fill",J),G=me(oe,"",G,se)},[()=>k(q()),()=>({transform:y(q())})]),d(K,oe)};pe(X,K=>{e(b)>0&&e(h)!=="circle"&&K(Q)})}var U=g(X);U.__pointerdown=function(...K){p()?.apply(this,K)},U.__pointerup=function(...K){z()?.apply(this,K)};let D;ie(K=>{Fe(U,0,Be(["hole",{droppable:x()}]),"svelte-bnfj6e"),D=me(U,"",D,K)},[()=>({transform:y(q())})]),d(m,R)},o=(m,q=fe,S=fe,x=fe,p=fe,z=fe)=>{var R=Pd();R.__pointerdown=function(...Q){p()?.apply(this,Q)},R.__pointerup=function(...Q){z()?.apply(this,Q)};let X;ie(Q=>{Fe(R,0,Be(["peg",{dragged:S()}]),"svelte-bnfj6e"),X=me(R,"",X,Q)},[()=>({transform:y(q())})]),d(m,R)},l=(m,q=fe,S=fe)=>{var x=zd(),p=ne(x);{let z=N(()=>e(h)==="circle"?"0 0 250 250":`0 0 ${50*e(a).columns} ${50*e(a).rows}`);fn(p,{get viewBox(){return e(z)},get draggedElement(){return bd},get dragged(){return e(f)},set dragged(R){_(f,R,!0)},children:(R,X)=>{var Q=Sd(),U=re(Q);{var D=G=>{var J=Md();d(G,J)};pe(U,G=>{e(h)==="circle"&&G(D)})}var K=g(U);Me(K,17,()=>e(v),ze,(G,J,se)=>{var le=Pe(),de=re(le);{var ue=Z=>{Ut(Z,{get methods(){return C},id:se,argument:se,get droppable(){return S()},get render(){return n},get model(){return e(a)},set model(Y){_(a,Y,!0)},get dragged(){return e(f)},set dragged(Y){_(f,Y,!0)}})};pe(de,Z=>{e(J)&&Z(ue)})}d(G,le)});var oe=g(K);Me(oe,17,q,ze,(G,J,se)=>{var le=Pe(),de=re(le);{var ue=Z=>{Ut(Z,{get methods(){return C},id:se,argument:se,get draggable(){return S()},get render(){return o},get model(){return e(a)},set model(Y){_(a,Y,!0)},get dragged(){return e(f)},set dragged(Y){_(f,Y,!0)}})};pe(de,Z=>{e(J)&&Z(ue)})}d(G,le)}),d(R,Q)},$$slots:{default:!0}})}ie(z=>me(x,z),[()=>e(h)==="circle"?"width:100%;height:100%;":Rt(e(a).rows,e(a).columns,5)]),d(m,x)},u=m=>{var q=Td(),S=ne(q);l(S,()=>e(a).position,()=>!0),d(m,q)},s=(m,q=fe)=>{var S=qd(),x=ne(S);l(x,q,()=>!1),d(m,S)},i=m=>{gt(m,{title:"Les reines",children:(q,S)=>{var x=Ld(),p=re(x);te(p,()=>Ye,(X,Q)=>{Q(X,{title:"Plateau",values:["circle","grid3","random","english","french"],text:["#circle","3xN","#shuffle","#tea","#bread"],tooltip:["3xN","Cercle","Aléatoire","Anglais","Français"],get selected(){return e(h)},setter:U=>Ee(e(a),C,()=>T(U))})});var z=g(p,2);te(z,()=>Qe,(X,Q)=>{Q(X,{title:"Options",children:(U,D)=>{var K=Ed(),oe=re(K);{let de=N(()=>e(b)>0);Ge(oe,{text:"#help",tooltip:"Aide",get selected(){return e(de)},onclick:()=>_(b,(e(b)+1)%3)})}var G=g(oe,2);te(G,()=>Nt,(de,ue)=>{ue(de,{get methods(){return C},get model(){return e(a)},set model(Z){_(a,Z,!0)}})});var J=g(G,2);te(J,()=>It,(de,ue)=>{ue(de,{get methods(){return C},get model(){return e(a)},set model(Z){_(a,Z,!0)}})});var se=g(J,2);te(se,()=>vt,(de,ue)=>{ue(de,{get methods(){return C},get model(){return e(a)},set model(Z){_(a,Z,!0)}})});var le=g(se,2);te(le,()=>ft,(de,ue)=>{ue(de,{get model(){return e(a)},set model(Z){_(a,Z,!0)}})}),d(U,K)},$$slots:{default:!0}})});var R=g(z,2);te(R,()=>Yr,(X,Q)=>{Q(X,{get methods(){return C},get model(){return e(a)},set model(U){_(a,U,!0)}})}),d(q,x)}})};let a=_e(Ae({...ct([]),rows:5,columns:1,customSize:!1,scores:{}})),v=_e(Ae([])),b=_e(0),h=_e("circle"),f=_e(null);function j({from:m,to:q}){const[S,x]=Jr(e(a).columns,m,q);return S*S+x*x==4?(m+q)/2|0:null}const P=(m,q,S)=>m-q===2||q-m===2?(m+q)/2|0:(S+q-m)%S===2?(m+1)%S:(S+m-q)%S==2?(q+1)%S:null;function H(m){const{from:q,to:S}=m;if(e(h)==="circle"){const x=P(q,S,e(a).rows);return x===null?null:e(a).rows===4&&!e(a).position[x]?(x+2)%4:x}else return j(m)}function A(m){const{from:q,to:S}=m,x=H(m);if(x===null)return null;const p=e(a).position[x],z=e(a).position[q],R=e(a).position[S],X=e(v)[S];if(!z||!p||!X||R)return null;const Q=e(a).position.slice();return Q[q]=!1,Q[x]=!1,Q[S]=!0,Q}const F=()=>e(a).position,W=()=>e(a).position.every((m,q)=>!m||[2,-2,2*e(a).columns,-2*e(a).columns,e(a).rows-2].every(S=>A({from:q,to:q+S})===null));function B(){let m=e(a).columns,q=e(a).rows;if(e(h)==="english")_(v,tr(7,7,(S,x)=>Math.min(S,6-S)>=2||Math.min(x,6-x)>=2),!0),e(a).position=e(v).with(24,!1),e(a).customSize=!1;else if(e(h)==="french")_(v,tr(7,7,(S,x)=>Math.min(S,6-S)+Math.min(x,6-x)>=2),!0),e(a).position=e(v).with(24,!1),e(a).customSize=!1;else if(e(h)==="circle"){_(v,Ue(q,!0),!0);const S=nr(0,q);e(a).position=qt(q,x=>x!==S),e(a).customSize=!0}else if(e(h)==="grid3")_(v,Ue(3*m,!0),!0),e(a).position=qt(3*m,S=>S<2*m),e(a).customSize=!0;else{_(v,Ue(3*m,!0),!0);const S=qt(m,()=>Math.random()<.5);e(a).position=S.concat(Ue(m,!0),S.map(x=>!x)),e(a).customSize=!0}}let $=N(()=>e(h)==="circle"?{minRows:3,maxRows:12,minCols:1,maxCols:1}:e(h)==="grid3"||e(h)==="random"?{minRows:3,maxRows:3,minCols:1,maxCols:12}:{minRows:7,maxRows:7,minCols:7,maxCols:7});const C={play:A,isLevelFinished:W,initialPosition:F,onNewGame:B,objective:"minimize",score:()=>e(a).position.filter(m=>m).length,scoreHash:()=>e(h)==="random"?null:`${e(h)},${e(a).rows},${e(a).columns}`};C.updateScore=()=>Kr(e(a),C,!0,"always");let c=N(()=>{const m=C.score(),q=m>1?"s":"";return`${m} pièce${q} restante${q}`});function y(m){const q=m/e(a).columns|0,S=m%e(a).columns;if(e(h)==="circle"){const x=125+Math.sin(2*Math.PI*m/e(a).rows)*90,p=125+Math.cos(2*Math.PI*m/e(a).rows)*90;return`translate(${x}px,${p}px)`}else return`translate(${50*S+25}px,${50*q+25}px)`}function k(m){switch((m%e(a).columns+e(b)+(m/e(a).columns|0))%3){case 0:return"red";case 1:return"blue";default:return"green"}}function T(m){switch(_(h,m,!0),m){case"circle":e(a).rows=6,e(a).columns=1;break;case"grid3":case"random":e(a).rows=3,e(a).columns=5;break;default:e(a).rows=7,e(a).columns=7}}Ee(e(a),C),dt(t,{get methods(){return C},get board(){return u},get config(){return i},get rules(){return xd},get winTitle(){return e(c)},get bestScore(){return s},get sizeLimit(){return e($)},get model(){return e(a)},set model(m){_(a,m,!0)}}),Re()}Ze(["pointerdown","pointerup"]);const Ad=(t,r=fe,n=fe,o=fe,l=fe,u=fe)=>{var s=Nd();s.__pointerdown=function(...i){l()?.apply(this,i)},s.__pointerup=function(...i){u()?.apply(this,i)},d(t,s)},jd=t=>{var r=Wd();d(t,r)};async function Rd(t,r,n,o,l){e(r).locked=!0;for(let u=0;u<e(n);u++){if(!e(o)){e(r).locked=!1;return}_(l,e(l)+1),await Vn(600)}e(r).showWin=!1,await Zn(),e(r).showWin=!0,e(r).locked=!1}var Nd=ae('<rect x="-100" y="-120" width="100%" height="100%" fill="transparent"></rect>'),Id=ae("<path></path>"),Od=ae('<circle r="8" stroke="black"></circle>'),Fd=ae('<circle r="8" cx="-100" cy="-120" stroke="black" pointer-events="none"></circle>'),Bd=ae('<path stroke="black" pointer-events="none"></path>'),Dd=ae('<!><!><!><g class="outer-wheel svelte-14rqq2d"><!><!></g>',1),Gd=(t,r)=>_(r,e(r)-1),Hd=(t,r)=>_(r,e(r)+1),Ud=ge('<div class="board-ui board svelte-14rqq2d"><!> <button class="ui-button ui-button-primary btn-left svelte-14rqq2d">↶</button> <button class="ui-button ui-button-primary btn-right svelte-14rqq2d">↷</button> <button class="ui-button ui-button-primary btn-validate svelte-14rqq2d">Valider</button></div>'),Zd=ge("<!> <!>",1),Vd=ge("<!> <!>",1),Wd=ge(`Le but du jeu est de poser une bille sur chaque emplacement de la roue
  et effectuer un tour complet de la roue en respectant la condition suivante:<br/> à chaque moment durant la rotation de la roue, exactement une bille a sa couleur
  qui correspond avec la couleur de la roue.<br/> Tu peux tester en faisant varier le nombre de couleurs de la roue mais également
  en faisant varier le nombre de couleurs que tu utilises.`,1);function Jd(t,r){je(r,!0);const n=(c,y,k=fe,T=fe,m=fe,q=fe)=>{var S=N(()=>Pt(y?.(),2));let x=()=>e(S)[0],p=()=>e(S)[1];var z=Id();z.__pointerdown=function(...R){m()?.apply(this,R)},z.__pointerup=function(...R){q()?.apply(this,R)},ie(R=>{I(z,"d",R),Fe(z,0,Be(["wheel-part",{droppable:T()}]),"svelte-14rqq2d"),I(z,"fill",p()?e(f)?"lightgreen":"#F5B7B1":"#F0B27A")},[()=>C(0,0,50,80,2*Math.PI*(x()-.5)/e(a),2*Math.PI*(x()+.5)/e(a))]),d(c,z)},o=(c,y,k=fe,T=fe,m=fe,q=fe)=>{var S=N(()=>Pt(y?.(),3));let x=()=>e(S)[0],p=()=>e(S)[1],z=()=>e(S)[2];var R=Od();R.__pointerdown=function(...X){m()?.apply(this,X)},R.__pointerup=function(...X){q()?.apply(this,X)},ie(()=>{I(R,"cx",p()),I(R,"cy",z()),I(R,"fill",M[x()]),I(R,"opacity",k()?"20%":"100%"),I(R,"pointer-events",e(b)?"none":"")}),d(c,R)},l=(c,y=fe)=>{var k=Fd();ie(()=>{I(k,"fill",M[e(P)]),me(k,y())}),d(c,k)},u=c=>{var y=Ud(),k=ne(y);fn(k,{viewBox:"-100 -120 200 260",get draggedElement(){return l},get dragged(){return e(b)},set dragged(S){_(b,S)},children:(S,x)=>{var p=Dd(),z=re(p);Ut(z,{get methods(){return $},id:{kind:"board"},argument:null,droppable:!0,get render(){return Ad},get model(){return e(i)},set model(oe){_(i,oe,!0)},get dragged(){return e(b)},set dragged(oe){_(b,oe)}});var R=g(z);Me(R,17,()=>We(0,e(a)),ze,(oe,G)=>{var J=Pe(),se=re(J);{var le=de=>{{let ue=N(()=>({kind:"panel",id:e(G)})),Z=N(()=>[e(G),-65+130*e(G)/(e(a)-1),-100]);Ut(de,{get methods(){return $},get id(){return e(ue)},get argument(){return e(Z)},draggable:!0,get render(){return o},get model(){return e(i)},set model(Y){_(i,Y,!0)},get dragged(){return e(b)},set dragged(Y){_(b,Y)}})}};pe(se,de=>{e(H)[e(G)]||de(le)})}d(oe,J)});var X=g(R);Me(X,17,()=>M.slice(0,e(a)),ze,(oe,G,J)=>{var se=Bd();ie(le=>{I(se,"d",le),I(se,"fill",e(G))},[()=>L(0,0,50,2*Math.PI*(J-.5)/e(a),2*Math.PI*(J+.5)/e(a))]),d(oe,se)});var Q=g(X);let U;var D=ne(Q);Me(D,17,()=>e(h),ze,(oe,G,J)=>{{let se=N(()=>[J,e(G)]);Ut(oe,{get methods(){return $},id:{kind:"wheel",id:J},get argument(){return e(se)},droppable:!0,get render(){return n},get model(){return e(i)},set model(le){_(i,le,!0)},get dragged(){return e(b)},set dragged(le){_(b,le)}})}});var K=g(D);Me(K,17,()=>e(i).position,ze,(oe,G,J)=>{var se=Pe(),le=re(se);{var de=ue=>{const Z=N(()=>64*Math.cos(2*J*Math.PI/e(a))),Y=N(()=>64*Math.sin(2*J*Math.PI/e(a)));{let ee=N(()=>[e(G),e(Z),e(Y)]);Ut(ue,{get methods(){return $},id:{kind:"wheel",id:J},get argument(){return e(ee)},draggable:!0,droppable:!0,get render(){return o},get model(){return e(i)},set model(ce){_(i,ce,!0)},get dragged(){return e(b)},set dragged(ce){_(b,ce)}})}};pe(le,ue=>{e(G)!==null&&ue(de)})}d(oe,se)}),ie(oe=>U=me(Q,"",U,oe),[()=>({transform:`rotate(${360*e(v)/e(a)}deg)`})]),d(S,p)},$$slots:{default:!0}});var T=g(k,2);T.__click=[Gd,v];var m=g(T,2);m.__click=[Hd,v];var q=g(m,2);q.__click=[Rd,i,a,j,v],ie(()=>{T.disabled=e(i).locked,m.disabled=e(i).locked,q.disabled=e(i).locked||!e(j)}),d(c,y)},s=c=>{gt(c,{title:"Roue des couleurs",children:(y,k)=>{var T=Vd(),m=re(T);te(m,()=>Ye,(S,x)=>{x(S,{title:"Nombre de couleurs",values:[4,5,6,7,8],get selected(){return e(a)},get disabled(){return e(i).locked},setter:p=>Ee(e(i),$,()=>_(a,p,!0))})});var q=g(m,2);te(q,()=>Qe,(S,x)=>{x(S,{title:"Options",children:(p,z)=>{var R=Zd(),X=re(R);te(X,()=>vt,(U,D)=>{D(U,{get methods(){return $},get model(){return e(i)},set model(K){_(i,K,!0)}})});var Q=g(X,2);te(Q,()=>ft,(U,D)=>{D(U,{get model(){return e(i)},set model(K){_(i,K,!0)}})}),d(p,R)},$$slots:{default:!0}})}),d(y,T)}})};let i=_e(Ae(ct([]))),a=_e(5),v=_e(0),b=_e(null),h=N(()=>e(i).position.map((c,y)=>c!==null&&Br(y+e(v),e(a))===c)),f=N(()=>e(h).filter(c=>c).length===1),j=N(()=>e(f)&&e(i).position.every(c=>c!==null)),P=N(()=>e(b)===null||e(b).kind==="board"?null:e(b).kind==="panel"?e(b).id:e(i).position[e(b).id]),H=N(()=>{const c=Ue(e(a),!1);for(const y of e(i).position)y!==null&&(c[y]=!0);return c});function A({from:c,to:y}){return c.kind==="panel"&&y.kind==="wheel"?e(i).position.with(y.id,c.id):c.kind==="wheel"&&y.kind==="wheel"?ei(e(i).position,c.id,y.id):c.kind==="wheel"&&y.kind==="board"?e(i).position.with(c.id,null):null}const $={play:A,initialPosition:()=>Ue(e(a),null),isLevelFinished:()=>!1,onNewGame:()=>_(v,0)},M=["blue","red","magenta","orange","brown","cyan","gray","black"];function E(c,y,k,T){return[c+k*Math.cos(T),y+k*Math.sin(T)]}function L(c,y,k,T,m){const[q,S]=E(c,y,k,T),[x,p]=E(c,y,k,m);return`M${c} ${y}L${x} ${p}A${k} ${k} 0 0 0 ${q} ${S}L${c} ${y}`}function C(c,y,k,T,m,q){const[S,x]=E(c,y,k,m),[p,z]=E(c,y,k,q),[R,X]=E(c,y,T,m),[Q,U]=E(c,y,T,q);return`M${S} ${x}L${R} ${X}A${T} ${T} 0 0 1 ${Q} ${U}L${p} ${z}A${k} ${k} 0 0 0 ${S} ${x}`}Ee(e(i),$),dt(t,{get methods(){return $},get board(){return u},get config(){return s},get rules(){return jd},get model(){return e(i)},set model(c){_(i,c,!0)}}),Re()}Ze(["pointerdown","pointerup","click"]);const Kd=t=>{var r=ov();d(t,r)};var Yd=(t,r,n,o)=>st(e(r),n,o()),Qd=ae('<circle r="7.5"></circle>'),Xd=ae('<circle cy="95" r="3" class="svelte-oh6gim"></circle><path d="M0 2H4V0l3 3l-3 3v-2h-4Z" fill="black" class="svelte-oh6gim"></path>',1),ev=ae('<!><circle cx="95" cy="95" r="3" fill="green" class="svelte-oh6gim"></circle>',1),tv=ge('<div class="ui-board board svelte-oh6gim"><svg viewBox="0 0 100 100" class="svelte-oh6gim"><!><!></svg></div>'),rv=ge("<!> <!> <!> <!> <!>",1),nv=ge("<!> <!> <!> <!>",1),ov=ge(`<strong class="svelte-oh6gim">Feux tricolores</strong> est une variante de <strong class="svelte-oh6gim">out noir ou tout blanc</strong> mais
  avec plusieurs <strong class="svelte-oh6gim">couleurs</strong>.<br class="svelte-oh6gim"/> Lorsque tu <strong class="svelte-oh6gim">cliques</strong> un feu, celui-ci change de couleur ainsi que tous les jetons proches
  jusqu'à la distance choisie dans <strong class="svelte-oh6gim">Portée</strong>.<br class="svelte-oh6gim"/> Le but est que tous les jetons soient de couleur <strong class="svelte-oh6gim">verte</strong>.`,1);function sv(t,r){je(r,!0);const n=($,M=fe,E=fe)=>{var L=Qd();L.__click=[Yd,s,F,M];let C;ie((c,y)=>{Fe(L,0,Be(["cell",{finished:e(f)}]),"svelte-oh6gim"),I(L,"stroke",c),I(L,"fill",e(f)?"":W[E()]),C=me(L,"",C,y)},[()=>e(b)!==null&&j(M(),e(b))?"lightgreen":"black",()=>({transform:B(M())})]),et("pointerenter",L,()=>_(b,M(),!0)),et("pointerleave",L,()=>_(b,null)),d($,L)},o=$=>{var M=ev(),E=re(M);Me(E,17,()=>W.slice(0,e(a)),ze,(L,C,c)=>{var y=Xd(),k=re(y),T=g(k);let m;ie(q=>{I(k,"cx",95+15*(c-e(a))),I(k,"fill",e(C)),m=me(T,"",m,q)},[()=>({transform:`translate(${99+15*(c-e(a))}px, 92px)`})]),d(L,y)}),d($,M)},l=$=>{var M=tv(),E=ne(M),L=ne(E);Me(L,17,()=>e(s).position,ze,(c,y,k)=>{n(c,()=>k,()=>e(y))});var C=g(L);o(C),d($,M)},u=$=>{gt($,{title:"Jeux tricolores",children:(M,E)=>{var L=nv(),C=re(L);te(C,()=>Ye,(T,m)=>{m(T,{title:"Nombre de feux",values:[4,5,6,7,8,9,10,11,12,13],get selected(){return e(i)},setter:q=>Ee(e(s),F,()=>_(i,q,!0))})});var c=g(C,2);te(c,()=>Ye,(T,m)=>{m(T,{title:"Nombre de couleurs",values:[2,3,4,5],get selected(){return e(a)},setter:q=>Ee(e(s),F,()=>_(a,q,!0))})});var y=g(c,2);te(y,()=>Ye,(T,m)=>{m(T,{title:"Portée",values:[1,2,3],get selected(){return e(v)},setter:q=>Ee(e(s),F,()=>_(v,q,!0))})});var k=g(y,2);te(k,()=>Qe,(T,m)=>{m(T,{title:"Options",children:(q,S)=>{var x=rv(),p=re(x);te(p,()=>Nt,(U,D)=>{D(U,{get methods(){return F},get model(){return e(s)},set model(K){_(s,K,!0)}})});var z=g(p,2);te(z,()=>It,(U,D)=>{D(U,{get methods(){return F},get model(){return e(s)},set model(K){_(s,K,!0)}})});var R=g(z,2);te(R,()=>vt,(U,D)=>{D(U,{get methods(){return F},get model(){return e(s)},set model(K){_(s,K,!0)}})});var X=g(R,2);te(X,()=>Ge,(U,D)=>{D(U,{text:"#shuffle",tooltip:"Mélanger",get selected(){return e(h)},onclick:()=>Ee(e(s),F,()=>_(h,!e(h)))})});var Q=g(X,2);te(Q,()=>ft,(U,D)=>{D(U,{get model(){return e(s)},set model(K){_(s,K,!0)}})}),d(q,x)},$$slots:{default:!0}})}),d(M,L)}})};let s=_e(Ae(ct([]))),i=_e(5),a=_e(2),v=_e(1),b=_e(null),h=_e(!1),f=N(()=>e(s).position.every($=>$===0));function j($,M){const E=Math.abs($-M);return Math.min(E,e(i)-E)<=e(v)}const F={play:$=>e(s).position.map((M,E)=>j($,E)?(M+1)%e(a):M),isLevelFinished:()=>e(f),initialPosition:()=>e(h)?qt(e(i),()=>nr(0,e(a))):Ue(e(i),1)},W=["green","yellow","red","magenta","blue"];function B($){const M=50+35*Math.cos(2*$*Math.PI/e(i)),E=45+35*Math.sin(2*$*Math.PI/e(i));return`translate(${M}px, ${E}px)`}Ee(e(s),F),dt(t,{get methods(){return F},get board(){return l},get config(){return u},get rules(){return Kd},get model(){return e(s)},set model($){_(s,$,!0)}}),Re()}Ze(["click"]);const $o=(t,r)=>{let n=()=>r?.().isDark,o=()=>r?.().hasBlock,l=()=>r?.().hasSink,u=()=>r?.().row,s=()=>r?.().col,i=()=>r?.().onclick,a=()=>r?.().onpointerenter,v=()=>r?.().onpointerleave;var b=uv();b.__click=function(...A){i()?.apply(this,A)};let h;var f=g(ne(b));{var j=A=>{var F=iv();d(A,F)};pe(f,A=>{o()&&A(j)})}var P=g(f);{var H=A=>{var F=av();d(A,F)};pe(P,A=>{l()&&A(H)})}ie(A=>{Fe(b,0,Be({darken:n()}),"svelte-1htj6c3"),h=me(b,"",h,A)},[()=>({transform:`translate(${50*s()}px, ${50*u()}px)`})]),et("pointerenter",b,function(...A){a()?.apply(this,A)}),et("pointerleave",b,function(...A){v()?.apply(this,A)}),d(t,b)},lv=t=>{var r=Pv();d(t,r)};var iv=ae('<use href="#tile2" width="50" height="50"></use>'),av=ae('<use href="#sink" width="50" height="50"></use>'),uv=ae('<g><rect width="50" height="50" fill="url(#concrete)"></rect><!><!></g>'),cv=ae('<use href="#sink" x="-25" y="-25" width="50" height="50" pointer-events="none"></use>'),dv=ae('<use href="#tile2"></use>'),vv=ae('<g><g class="pointer svelte-1htj6c3"></g></g>'),fv=(t,r)=>{t.preventDefault(),_(r,e(r)+1)},gv=ae('<line x1="0" y1="0" x2="0" y2="50" stroke="#000" stroke-width="2"></line>'),hv=ae('<line x1="50" y1="0" x2="50" y2="50" stroke="#000" stroke-width="2"></line>'),_v=ae('<line x1="0" y1="0" x2="50" y2="0" stroke="#000" stroke-width="2"></line>'),pv=ae('<line x1="0" y1="50" x2="50" y2="50" stroke="#000" stroke-width="2"></line>'),mv=ae("<g><!><!><!><!></g>"),yv=ae("<!><!>",1),bv=ge('<div class="container svelte-1htj6c3"><div class="ui-board"><!></div></div>'),xv=ge("<!> <!> <!>",1),wv=ge("<!> <!> <!> <!>",1),kv=ge('<div class="customtile-container svelte-1htj6c3"><svg viewBox="0 0 250 250"></svg></div>'),Pv=ge(`Est-il possible de faire le <strong>carrelage</strong> de toute ta cuisine,
  sachant qu'elle peut avoir un ou plusieurs <strong>éviers</strong> ?<br/> Tu peux tester avec différentes formes de <strong>tuile</strong> et différents emplacements d'éviers.<br/> Pour tourner la pièce, tu peux utiliser le <strong>clic droit</strong> ou appuyer sur la touche <strong>Espace</strong>.<br/> Deux questions sont particulièrement intéressantes: <br/> <ul><li>Pour quelles dimensions de la grille et pour quels positions d'éviers
        peut-on paver une grille avec tuiles de <strong>type 1</strong>?</li> <li>Peut-on toujours carreler une grille <strong>8x8</strong> avec les tuiles de <strong>type 3</strong> et
    en posant <strong>1 évier</strong>, et ceci, quelque soit la position de l'évier?</li></ul>`,1);function $v(t,r){je(r,!0);const n=(x,p=fe,z=fe)=>{var R=Pe(),X=re(R);{var Q=D=>{var K=cv();let oe;ie(G=>oe=me(K,"",oe,G),[()=>({transform:`translate(${100*p()}%, ${100*z()}%)`})]),d(D,K)},U=D=>{var K=vv();let oe;var G=ne(K);let J;Me(G,21,()=>e(H),ze,(se,le)=>{var de=N(()=>Pt(e(le),2));let ue=()=>e(de)[0],Z=()=>e(de)[1];var Y=dv();I(Y,"width",50),I(Y,"height",50),ie(()=>{I(Y,"x",50*Z()-25),I(Y,"y",50*ue()-25),I(Y,"opacity",e($)?"0.3":"0.8")}),d(se,Y)}),ie((se,le)=>{oe=me(K,"",oe,se),J=me(G,"",J,le)},[()=>({transform:`translate(${100*p()}%, ${100*z()}%)`}),()=>({transform:`rotate(${90*e(b)}deg)`})]),d(D,K)};pe(X,D=>{e(B).length<e(f)?D(Q):D(U,!1)})}d(x,R)},o=x=>{var p=bv(),z=ne(p);z.__contextmenu=[fv,b];var R=ne(z);{let X=N(()=>50*e(v).columns),Q=N(()=>50*e(v).rows);Qr(R,{get pointer(){return n},get viewBox(){return`0 0 ${e(X)??""} ${e(Q)??""}`},children:(U,D)=>{var K=yv(),oe=re(K);Me(oe,17,()=>e(v).position,ze,(J,se,le)=>{const de=N(()=>{const[ue,Z]=mt(e(v).columns,le);return{row:ue,col:Z}});$o(J,()=>({isDark:e(v).help&&(e(de).row+e(de).col)%2===0,hasBlock:e(se)>0,hasSink:e(se)===-1,row:e(de).row,col:e(de).col,onclick:()=>T(le),onpointerenter:()=>_(j,le,!0),onpointerleave:()=>_(j,null)}))});var G=g(oe);Me(G,17,()=>e(v).position,ze,(J,se,le)=>{const de=N(()=>{const[w,O]=mt(e(v).columns,le);return{row:w,col:O}});var ue=mv();let Z;var Y=ne(ue);{var ee=w=>{var O=gv();d(w,O)};pe(Y,w=>{e(se)>0&&k(le,-1)&&w(ee)})}var ce=g(Y);{var ve=w=>{var O=hv();d(w,O)};pe(ce,w=>{e(se)>0&&k(le,1)&&w(ve)})}var ye=g(ce);{var be=w=>{var O=_v();d(w,O)};pe(ye,w=>{e(se)>0&&k(le,-e(v).columns)&&w(be)})}var Se=g(ye);{var Te=w=>{var O=pv();d(w,O)};pe(Se,w=>{e(se)>0&&k(le,e(v).columns)&&w(Te)})}ie(w=>Z=me(ue,"",Z,w),[()=>({transform:`translate(${50*e(de).col}px, ${50*e(de).row}px)`})]),d(J,ue)}),d(U,K)},$$slots:{default:!0}})}ie(X=>me(z,X),[()=>Rt(e(v).rows,e(v).columns,5)]),d(x,p)},l=x=>{gt(x,{title:"Carrelage",children:(p,z)=>{var R=wv(),X=re(R);te(X,()=>jr,(K,oe)=>{oe(K,{get methods(){return c},values:[[4,5],[5,5],[5,6],[8,8]],customSize:!0,get model(){return e(v)},set model(G){_(v,G,!0)}})});var Q=g(X,2);te(Q,()=>Ye,(K,oe)=>{oe(K,{title:"Motif de la tuile",values:["type1","type2","type3","custom"],text:["#beast1","#beast2","#beast3","#customize"],get selected(){return e(h)},setter:q})});var U=g(Q,2);te(U,()=>Ye,(K,oe)=>{oe(K,{title:"Nombre d'éviers",values:[0,1,2],get selected(){return e(f)},setter:G=>Ee(e(v),c,()=>_(f,G,!0))})});var D=g(U,2);te(D,()=>Qe,(K,oe)=>{oe(K,{title:"Options",children:(G,J)=>{var se=xv(),le=re(se);te(le,()=>Ar,(Z,Y)=>{Y(Z,{get model(){return e(v)},set model(ee){_(v,ee,!0)}})});var de=g(le,2);te(de,()=>vt,(Z,Y)=>{Y(Z,{get methods(){return c},get model(){return e(v)},set model(ee){_(v,ee,!0)}})});var ue=g(de,2);te(ue,()=>ft,(Z,Y)=>{Y(Z,{get model(){return e(v)},set model(ee){_(v,ee,!0)}})}),d(G,se)},$$slots:{default:!0}})}),d(p,R)}})},u=x=>{fr(x,{title:"Personnalise ta tuile",onOk:()=>e(v).dialog=null,children:(p,z)=>{var R=kv(),X=ne(R);Me(X,21,()=>e(A),ze,(Q,U,D)=>{const K=N(()=>{const[oe,G]=mt(5,D);return{row:oe,col:G}});$o(Q,()=>({hasBlock:e(U),row:e(K).row,col:e(K).col,onclick:()=>m(D)}))}),d(p,R)}})},s=x=>x.map(([p,z])=>[z,-p]);function i(x,p){for(let z=0;z<p;z++)x=s(x);return x}const a=(x,[p,z])=>x.map(([R,X])=>[p+R,z+X]);let v=_e(Ae({...ct([]),rows:5,columns:5,customSize:!1})),b=_e(0),h=_e("type1"),f=_e(0),j=_e(null),P=Ae([]),H=N(()=>{switch(e(h)){case"type1":return[[0,0],[0,1]];case"type2":return[[0,0],[0,1],[0,-1]];case"type3":return[[0,0],[0,1],[1,0]];default:return P}}),A=N(()=>{const x=Ue(25,!1);for(const[p,z]of P)x[p*5+z+12]=!0;return x});function F(x){const p=e(v).columns;let z=i(e(H),Br(e(b),4));return z=a(z,mt(p,x)),z.map(([R,X])=>0<=X&&X<p?R*p+X:-1)}const W=x=>x.every(p=>e(v).position[p]===0);let B=N(()=>e(v).position.map((x,p)=>x==-1?p:null).filter(x=>x!==null)),$=N(()=>e(j)!==null&&(e(v).position[e(j)]!==0||M(e(j))===null));function M(x){const p=F(x);if(W(p)){const z=Math.max(...e(v).position)+1,R=e(v).position.slice();for(const X of p)R[X]=z;return R}else if(e(v).position[x]>0){const z=e(v).position[x];return e(v).position.map(R=>R===z?0:R)}else return null}const c={play:M,isLevelFinished:()=>e(v).position.every(x=>x!==0),initialPosition:()=>Ue(e(v).columns*e(v).rows,0),onNewGame:()=>_(b,0)},y={minRows:3,minCols:3,maxRows:10,maxCols:10},k=(x,p)=>e(v).position[x]!==e(v).position[x+p];function T(x){e(B).length<e(f)?e(v).position[x]=-1:st(e(v),c,x)}function m(x){let[p,z]=mt(5,x);p-=2,z-=2;let R=P.findIndex(([X,Q])=>X===p&&Q===z);R===-1?P.push([p,z]):P.slice(R,1)}const q=x=>Ee(e(v),c,()=>{_(h,x,!0),x==="custom"&&(e(v).dialog="customize")});function S(x){x.key===" "&&_(b,e(b)+1)}Ee(e(v),c),et("keydown",Dr,S),dt(t,{get methods(){return c},get board(){return o},get config(){return l},get rules(){return lv},get custom(){return u},get sizeLimit(){return y},get model(){return e(v)},set model(x){_(v,x,!0)}}),Re()}Ze(["click","contextmenu"]);var Mv=ge('<a class="valise-link svelte-1n46o8q" href="#main" aria-label="valise"><svg style="width: 100%; height: 100%"><use href="#valise"></use></svg></a>'),Sv=ge("<div><!> <!></div>");function zv(t){let r=_e(Ae(window.location.hash.slice(1)||"main"));function n(){_(r,window.location.hash.slice(1)||"main",!0)}var o=Sv();et("hashchange",Dr,n);var l=ne(o);{var u=v=>{var b=Mv();d(v,b)};pe(l,v=>{e(r)!=="main"&&v(u)})}var s=g(l,2);{var i=v=>{Ql(v,{})},a=v=>{var b=Pe(),h=re(b);{var f=P=>{Ji(P,{})},j=P=>{var H=Pe(),A=re(H);{var F=B=>{fa(B,{})},W=B=>{var $=Pe(),M=re($);{var E=C=>{Na(C,{})},L=C=>{var c=Pe(),y=re(c);{var k=m=>{ru(m,{})},T=m=>{var q=Pe(),S=re(q);{var x=z=>{_u(z,{})},p=z=>{var R=Pe(),X=re(R);{var Q=D=>{Lu(D,{})},U=D=>{var K=Pe(),oe=re(K);{var G=se=>{Du(se,{})},J=se=>{var le=Pe(),de=re(le);{var ue=Y=>{lc(Y,{})},Z=Y=>{var ee=Pe(),ce=re(ee);{var ve=be=>{_c(be,{})},ye=be=>{var Se=Pe(),Te=re(Se);{var w=V=>{zc(V,{})},O=V=>{var he=Pe(),xe=re(he);{var ke=Le=>{Bc(Le,{})},we=Le=>{var $e=Pe(),qe=re($e);{var Ie=it=>{Jd(it,{})},Lt=it=>{var St=Pe(),Kt=re(St);{var Yt=rt=>{id(rt,{})},sr=rt=>{var Ce=Pe(),De=re(Ce);{var He=Ve=>{yd(Ve,{})},Je=Ve=>{var Xe=Pe(),nt=re(Xe);{var Qt=zt=>{Cd(zt,{})},lr=zt=>{var ht=Pe(),Ot=re(ht);{var gn=Xt=>{$v(Xt,{})},hn=Xt=>{var Xr=Pe(),xs=re(Xr);{var ws=_n=>{sv(_n,{})};pe(xs,_n=>{e(r)==="tricolor"&&_n(ws)},!0)}d(Xt,Xr)};pe(Ot,Xt=>{e(r)==="tiling"?Xt(gn):Xt(hn,!1)},!0)}d(zt,ht)};pe(nt,zt=>{e(r)==="solitaire"?zt(Qt):zt(lr,!1)},!0)}d(Ve,Xe)};pe(De,Ve=>{e(r)==="sansmot"?Ve(He):Ve(Je,!1)},!0)}d(rt,Ce)};pe(Kt,rt=>{e(r)==="queens"?rt(Yt):rt(sr,!1)},!0)}d(it,St)};pe(qe,it=>{e(r)==="roue"?it(Ie):it(Lt,!1)},!0)}d(Le,$e)};pe(xe,Le=>{e(r)==="paths"?Le(ke):Le(we,!1)},!0)}d(V,he)};pe(Te,V=>{e(r)==="nim"?V(w):V(O,!1)},!0)}d(be,Se)};pe(ce,be=>{e(r)==="noirblanc"?be(ve):be(ye,!1)},!0)}d(Y,ee)};pe(de,Y=>{e(r)==="labete"?Y(ue):Y(Z,!1)},!0)}d(se,le)};pe(oe,se=>{e(r)==="jetons"?se(G):se(J,!1)},!0)}d(D,K)};pe(X,D=>{e(r)==="hanoi"?D(Q):D(U,!1)},!0)}d(z,R)};pe(S,z=>{e(r)==="frog"?z(x):z(p,!1)},!0)}d(m,q)};pe(y,m=>{e(r)==="eternal"?m(k):m(T,!1)},!0)}d(C,c)};pe(M,C=>{e(r)==="dessin"?C(E):C(L,!1)},!0)}d(B,$)};pe(A,B=>{e(r)==="chocolat"?B(F):B(W,!1)},!0)}d(P,H)};pe(h,P=>{e(r)==="baseball"?P(f):P(j,!1)},!0)}d(v,b)};pe(s,v=>{e(r)==="main"?v(i):v(a,!1)})}ie(()=>Fe(o,1,`container ${e(r)==="main"?"valise":"game"}`,"svelte-1n46o8q")),d(t,o)}El(zv,{target:document.getElementById("app")});

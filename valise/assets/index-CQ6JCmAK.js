(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();const zo=!1;var jn=Array.isArray,ks=Array.prototype.indexOf,Rn=Array.from,kn=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,To=Object.getOwnPropertyDescriptors,Ps=Object.prototype,$s=Array.prototype,Nn=Object.getPrototypeOf,Qn=Object.isExtensible;const ve=()=>{};function Ms(r){for(var t=0;t<r.length;t++)r[t]()}function qo(){var r,t,n=new Promise((o,l)=>{r=o,t=l});return{promise:n,resolve:r,reject:t}}function Mt(r,t){if(Array.isArray(r))return r;if(t===void 0||!(Symbol.iterator in r))return Array.from(r);const n=[];for(const o of r)if(n.push(o),n.length===t)break;return n}const bt=2,In=4,On=8,mr=16,Yt=32,yr=64,Fn=128,Lt=256,sn=512,ut=1024,St=2048,ir=4096,It=8192,br=16384,Bn=32768,Lr=65536,Xn=1<<17,Ss=1<<18,Ar=1<<19,zs=1<<20,Pn=1<<21,an=1<<22,dr=1<<23,vr=Symbol("$state"),Ts=Symbol("legacy props"),qs=Symbol(""),Fr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Es(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Cs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ls(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function As(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function js(r){throw new Error("https://svelte.dev/e/effect_orphan")}function Rs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ns(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function Is(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Os(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Bs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const un=1,cn=2,Eo=4,Ds=8,Gs=16,Hs=1,Us=4,Zs=8,Vs=16,Co=1,Ws=2,st=Symbol(),Js="http://www.w3.org/1999/xhtml";function Ks(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Ys=!1;function Lo(r){return r===this.v}function Ao(r,t){return r!=r?t==t:r!==t||r!==null&&typeof r=="object"||typeof r=="function"}function jo(r){return!Ao(r,this.v)}let Qs=!1,zt=null;function Tr(r){zt=r}function je(r,t=!1,n){zt={p:zt,c:null,e:null,s:r,x:null,l:null}}function Re(r){var t=zt,n=t.e;if(n!==null){t.e=null;for(var o of n)Yo(o)}return zt=t.p,{}}function Ro(){return!0}let cr=[];function No(){var r=cr;cr=[],Ms(r)}function jr(r){if(cr.length===0&&!Br){var t=cr;queueMicrotask(()=>{t===cr&&No()})}cr.push(r)}function Xs(){for(;cr.length>0;)No()}const el=new WeakMap;function Io(r){var t=Oe;if(t===null)return Ie.f|=dr,r;if((t.f&Bn)===0){if((t.f&Fn)===0)throw!t.parent&&r instanceof Error&&Oo(r),r;t.b.error(r)}else qr(r,t)}function qr(r,t){for(;t!==null;){if((t.f&Fn)!==0)try{t.b.error(r);return}catch(n){r=n}t=t.parent}throw r instanceof Error&&Oo(r),r}function Oo(r){const t=el.get(r);t&&(kn(r,"message",{value:t.message}),kn(r,"stack",{value:t.stack}))}const rn=new Set;let Ye=null,$n=new Set,Ut=[],dn=null,Mn=!1,Br=!1;class Nt{current=new Map;#n=new Map;#r=new Set;#v=0;#s=null;#a=[];#o=[];#t=[];#e=[];#l=[];#u=[];skipped_effects=new Set;process(t){Ut=[];var n=Nt.apply(this);for(const u of t)this.#c(u);if(this.#v===0){this.#d();var o=this.#o,l=this.#t;this.#o=[],this.#t=[],this.#e=[],Ye=null,eo(o),eo(l),this.#s?.resolve()}else this.#i(this.#o),this.#i(this.#t),this.#i(this.#e);n();for(const u of this.#a)Zr(u);this.#a=[]}#c(t){t.f^=ut;for(var n=t.first;n!==null;){var o=n.f,l=(o&(Yt|yr))!==0,u=l&&(o&ut)!==0,s=u||(o&It)!==0||this.skipped_effects.has(n);if(!s&&n.fn!==null){l?n.f^=ut:(o&In)!==0?this.#t.push(n):(o&ut)===0&&((o&an)!==0&&n.b?.is_pending()?this.#a.push(n):fn(n)&&((n.f&mr)!==0&&this.#e.push(n),Zr(n)));var i=n.first;if(i!==null){n=i;continue}}var a=n.parent;for(n=n.next;n===null&&a!==null;)n=a.next,a=a.parent}}#i(t){for(const n of t)((n.f&St)!==0?this.#l:this.#u).push(n),_t(n,ut);t.length=0}capture(t,n){this.#n.has(t)||this.#n.set(t,n),this.current.set(t,t.v)}activate(){Ye=this}deactivate(){Ye=null;for(const t of $n)if($n.delete(t),t(),Ye!==null)break}flush(){if(Ut.length>0){if(this.activate(),Fo(),Ye!==null&&Ye!==this)return}else this.#v===0&&this.#d();this.deactivate()}#d(){for(const t of this.#r)t();if(this.#r.clear(),rn.size>1){this.#n.clear();let t=!0;for(const n of rn){if(n===this){t=!1;continue}for(const[o,l]of this.current){if(n.current.has(o))if(t)n.current.set(o,l);else continue;Bo(o)}if(Ut.length>0){Ye=n;const o=Nt.apply(n);for(const l of Ut)n.#c(l);Ut=[],o()}}Ye=null}rn.delete(this)}increment(){this.#v+=1}decrement(){if(this.#v-=1,this.#v===0){for(const t of this.#l)_t(t,St),_r(t);for(const t of this.#u)_t(t,ir),_r(t);this.flush()}else this.deactivate()}add_callback(t){this.#r.add(t)}settled(){return(this.#s??=qo()).promise}static ensure(){if(Ye===null){const t=Ye=new Nt;rn.add(Ye),Br||Nt.enqueue(()=>{Ye===t&&t.flush()})}return Ye}static enqueue(t){jr(t)}static apply(t){return ve}}function tl(r){var t=Br;Br=!0;try{for(var n;;){if(Xs(),Ut.length===0&&(Ye?.flush(),Ut.length===0))return dn=null,n;Fo()}}finally{Br=t}}function Fo(){var r=zr;Mn=!0;try{var t=0;for(to(!0);Ut.length>0;){var n=Nt.ensure();if(t++>1e3){var o,l;rl()}n.process(Ut),sr.clear()}}finally{Mn=!1,to(r),dn=null}}function rl(){try{Rs()}catch(r){qr(r,dn)}}let ur=null;function eo(r){var t=r.length;if(t!==0){for(var n=0;n<t;){var o=r[n++];if((o.f&(br|It))===0&&fn(o)&&(ur=[],Zr(o),o.deps===null&&o.first===null&&o.nodes_start===null&&(o.teardown===null&&o.ac===null?ts(o):o.fn=null),ur?.length>0)){sr.clear();for(const l of ur)Zr(l);ur=[]}}ur=null}}function Bo(r){if(r.reactions!==null)for(const t of r.reactions){const n=t.f;(n&bt)!==0?Bo(t):(n&(an|mr))!==0&&(_t(t,St),_r(t))}}function _r(r){for(var t=dn=r;t.parent!==null;){t=t.parent;var n=t.f;if(Mn&&t===Oe&&(n&mr)!==0)return;if((n&(yr|Yt))!==0){if((n&ut)===0)return;t.f^=ut}}Ut.push(t)}function nl(r){let t=0,n=pr(0),o;return()=>{pl()&&(e(n),Un(()=>(t===0&&(o=Kr(()=>r(()=>Dr(n)))),t+=1,()=>{jr(()=>{t-=1,t===0&&(o?.(),o=void 0,Dr(n))})})))}}var ol=Lr|Ar|Fn;function sl(r,t,n){new ll(r,t,n)}class ll{parent;#n=!1;#r;#v=null;#s;#a;#o;#t=null;#e=null;#l=null;#u=null;#c=0;#i=0;#d=!1;#f=null;#p=()=>{this.#f&&Er(this.#f,this.#c)};#m=nl(()=>(this.#f=pr(this.#c),()=>{this.#f=null}));constructor(t,n,o){this.#r=t,this.#s=n,this.#a=o,this.parent=Oe.b,this.#n=!!this.#s.pending,this.#o=Jr(()=>{Oe.b=this;{try{this.#t=Pt(()=>o(this.#r))}catch(l){this.error(l)}this.#i>0?this.#h():this.#n=!1}},ol)}#y(){try{this.#t=Pt(()=>this.#a(this.#r))}catch(t){this.error(t)}this.#n=!1}#b(){const t=this.#s.pending;t&&(this.#e=Pt(()=>t(this.#r)),Nt.enqueue(()=>{this.#t=this.#g(()=>(Nt.ensure(),Pt(()=>this.#a(this.#r)))),this.#i>0?this.#h():(fr(this.#e,()=>{this.#e=null}),this.#n=!1)}))}is_pending(){return this.#n||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#s.pending}#g(t){var n=Oe,o=Ie,l=zt;Zt(this.#o),yt(this.#o),Tr(this.#o.ctx);try{return t()}catch(u){return Io(u),null}finally{Zt(n),yt(o),Tr(l)}}#h(){const t=this.#s.pending;this.#t!==null&&(this.#u=document.createDocumentFragment(),il(this.#t,this.#u)),this.#e===null&&(this.#e=Pt(()=>t(this.#r)))}#_(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(t);return}this.#i+=t,this.#i===0&&(this.#n=!1,this.#e&&fr(this.#e,()=>{this.#e=null}),this.#u&&(this.#r.before(this.#u),this.#u=null))}update_pending_count(t){this.#_(t),this.#c+=t,$n.add(this.#p)}get_effect_pending(){return this.#m(),e(this.#f)}error(t){var n=this.#s.onerror;let o=this.#s.failed;if(this.#d||!n&&!o)throw t;this.#t&&($t(this.#t),this.#t=null),this.#e&&($t(this.#e),this.#e=null),this.#l&&($t(this.#l),this.#l=null);var l=!1,u=!1;const s=()=>{if(l){Ks();return}l=!0,u&&Bs(),Nt.ensure(),this.#c=0,this.#l!==null&&fr(this.#l,()=>{this.#l=null}),this.#n=this.has_pending_snippet(),this.#t=this.#g(()=>(this.#d=!1,Pt(()=>this.#a(this.#r)))),this.#i>0?this.#h():this.#n=!1};var i=Ie;try{yt(null),u=!0,n?.(t,s),u=!1}catch(a){qr(a,this.#o&&this.#o.parent)}finally{yt(i)}o&&jr(()=>{this.#l=this.#g(()=>{this.#d=!0;try{return Pt(()=>{o(this.#r,()=>t,()=>s)})}catch(a){return qr(a,this.#o.parent),null}finally{this.#d=!1}})})}}function il(r,t){for(var n=r.nodes_start,o=r.nodes_end;n!==null;){var l=n===o?null:Wr(n);t.append(n),n=l}}function al(r,t,n){const o=vn;if(t.length===0){n(r.map(o));return}var l=Ye,u=Oe,s=ul();Promise.all(t.map(i=>cl(i))).then(i=>{l?.activate(),s();try{n([...r.map(o),...i])}catch(a){(u.f&br)===0&&qr(a,u)}l?.deactivate(),Do()}).catch(i=>{qr(i,u)})}function ul(){var r=Oe,t=Ie,n=zt,o=Ye;return function(){Zt(r),yt(t),Tr(n),o?.activate()}}function Do(){Zt(null),yt(null),Tr(null)}function vn(r){var t=bt|St,n=Ie!==null&&(Ie.f&bt)!==0?Ie:null;return Oe===null||n!==null&&(n.f&Lt)!==0?t|=Lt:Oe.f|=Ar,{ctx:zt,deps:null,effects:null,equals:Lo,f:t,fn:r,reactions:null,rv:0,v:st,wv:0,parent:n??Oe,ac:null}}function cl(r,t){let n=Oe;n===null&&Cs();var o=n.b,l=void 0,u=pr(st),s=!Ie,i=new Map;return bl(()=>{var a=qo();l=a.promise;try{Promise.resolve(r()).then(a.resolve,a.reject)}catch(f){a.reject(f)}var v=Ye,b=o.is_pending();s&&(o.update_pending_count(1),b||(v.increment(),i.get(v)?.reject(Fr),i.set(v,a)));const h=(f,A=void 0)=>{b||v.activate(),A?A!==Fr&&(u.f|=dr,Er(u,A)):((u.f&dr)!==0&&(u.f^=dr),Er(u,f)),s&&(o.update_pending_count(-1),b||v.decrement()),Do()};a.promise.then(h,f=>h(null,f||"unknown"))}),Ko(()=>{for(const a of i.values())a.reject(Fr)}),new Promise(a=>{function v(b){function h(){b===l?a(u):v(l)}b.then(h,h)}v(l)})}function R(r){const t=vn(r);return os(t),t}function Go(r){const t=vn(r);return t.equals=jo,t}function Ho(r){var t=r.effects;if(t!==null){r.effects=null;for(var n=0;n<t.length;n+=1)$t(t[n])}}function dl(r){for(var t=r.parent;t!==null;){if((t.f&bt)===0)return t;t=t.parent}return null}function Dn(r){var t,n=Oe;Zt(dl(r));try{Ho(r),t=as(r)}finally{Zt(n)}return t}function Uo(r){var t=Dn(r);if(r.equals(t)||(r.v=t,r.wv=ls()),!wr){var n=(nr||(r.f&Lt)!==0)&&r.deps!==null?ir:ut;_t(r,n)}}const sr=new Map;function pr(r,t){var n={f:0,v:r,reactions:null,equals:Lo,rv:0,wv:0};return n}function _e(r,t){const n=pr(r);return os(n),n}function vl(r,t=!1,n=!0){const o=pr(r);return t||(o.equals=jo),o}function _(r,t,n=!1){Ie!==null&&(!Rt||(Ie.f&Xn)!==0)&&Ro()&&(Ie.f&(bt|mr|an|Xn))!==0&&!Jt?.includes(r)&&Fs();let o=n?Ae(t):t;return Er(r,o)}function Er(r,t){if(!r.equals(t)){var n=r.v;wr?sr.set(r,t):sr.set(r,n),r.v=t;var o=Nt.ensure();o.capture(r,n),(r.f&bt)!==0&&((r.f&St)!==0&&Dn(r),_t(r,(r.f&Lt)===0?ut:ir)),r.wv=ls(),Zo(r,St),Oe!==null&&(Oe.f&ut)!==0&&(Oe.f&(Yt|yr))===0&&(Et===null?kl([r]):Et.push(r))}return t}function Dr(r){_(r,r.v+1)}function Zo(r,t){var n=r.reactions;if(n!==null)for(var o=n.length,l=0;l<o;l++){var u=n[l],s=u.f,i=(s&St)===0;i&&_t(u,t),(s&bt)!==0?Zo(u,ir):i&&((s&mr)!==0&&ur!==null&&ur.push(u),_r(u))}}function Ae(r){if(typeof r!="object"||r===null||vr in r)return r;const t=Nn(r);if(t!==Ps&&t!==$s)return r;var n=new Map,o=jn(r),l=_e(0),u=gr,s=i=>{if(gr===u)return i();var a=Ie,v=gr;yt(null),no(u);var b=i();return yt(a),no(v),b};return o&&n.set("length",_e(r.length)),new Proxy(r,{defineProperty(i,a,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&Is();var b=n.get(a);return b===void 0?b=s(()=>{var h=_e(v.value);return n.set(a,h),h}):_(b,v.value,!0),!0},deleteProperty(i,a){var v=n.get(a);if(v===void 0){if(a in i){const b=s(()=>_e(st));n.set(a,b),Dr(l)}}else _(v,st),Dr(l);return!0},get(i,a,v){if(a===vr)return r;var b=n.get(a),h=a in i;if(b===void 0&&(!h||Sr(i,a)?.writable)&&(b=s(()=>{var A=Ae(h?i[a]:st),P=_e(A);return P}),n.set(a,b)),b!==void 0){var f=e(b);return f===st?void 0:f}return Reflect.get(i,a,v)},getOwnPropertyDescriptor(i,a){var v=Reflect.getOwnPropertyDescriptor(i,a);if(v&&"value"in v){var b=n.get(a);b&&(v.value=e(b))}else if(v===void 0){var h=n.get(a),f=h?.v;if(h!==void 0&&f!==st)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return v},has(i,a){if(a===vr)return!0;var v=n.get(a),b=v!==void 0&&v.v!==st||Reflect.has(i,a);if(v!==void 0||Oe!==null&&(!b||Sr(i,a)?.writable)){v===void 0&&(v=s(()=>{var f=b?Ae(i[a]):st,A=_e(f);return A}),n.set(a,v));var h=e(v);if(h===st)return!1}return b},set(i,a,v,b){var h=n.get(a),f=a in i;if(o&&a==="length")for(var A=v;A<h.v;A+=1){var P=n.get(A+"");P!==void 0?_(P,st):A in i&&(P=s(()=>_e(st)),n.set(A+"",P))}if(h===void 0)(!f||Sr(i,a)?.writable)&&(h=s(()=>_e(void 0)),_(h,Ae(v)),n.set(a,h));else{f=h.v!==st;var G=s(()=>Ae(v));_(h,G)}var L=Reflect.getOwnPropertyDescriptor(i,a);if(L?.set&&L.set.call(b,v),!f){if(o&&typeof a=="string"){var O=n.get("length"),W=Number(a);Number.isInteger(W)&&W>=O.v&&_(O,W+1)}Dr(l)}return!0},ownKeys(i){e(l);var a=Reflect.ownKeys(i).filter(h=>{var f=n.get(h);return f===void 0||f.v!==st});for(var[v,b]of n)b.v!==st&&!(v in i)&&a.push(v);return a},setPrototypeOf(){Os()}})}var Hr,Vo,Wo,Jo;function fl(){if(Hr===void 0){Hr=window,Vo=/Firefox/.test(navigator.userAgent);var r=Element.prototype,t=Node.prototype,n=Text.prototype;Wo=Sr(t,"firstChild").get,Jo=Sr(t,"nextSibling").get,Qn(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),Qn(n)&&(n.__t=void 0)}}function xr(r=""){return document.createTextNode(r)}function Vt(r){return Wo.call(r)}function Wr(r){return Jo.call(r)}function re(r,t){return Vt(r)}function te(r,t=!1){{var n=Vt(r);return n instanceof Comment&&n.data===""?Wr(n):n}}function g(r,t=1,n=!1){let o=r;for(;t--;)o=Wr(o);return o}function gl(r){r.textContent=""}function Gn(){return!1}function Hn(r){var t=Ie,n=Oe;yt(null),Zt(null);try{return r()}finally{yt(t),Zt(n)}}function hl(r){Oe===null&&Ie===null&&js(),Ie!==null&&(Ie.f&Lt)!==0&&Oe===null&&As(),wr&&Ls()}function _l(r,t){var n=t.last;n===null?t.last=t.first=r:(n.next=r,r.prev=n,t.last=r)}function Qt(r,t,n,o=!0){var l=Oe;l!==null&&(l.f&It)!==0&&(r|=It);var u={ctx:zt,deps:null,nodes_start:null,nodes_end:null,f:r|St,first:null,fn:t,last:null,next:null,parent:l,b:l&&l.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{Zr(u),u.f|=Bn}catch(a){throw $t(u),a}else t!==null&&_r(u);if(o){var s=u;if(n&&s.deps===null&&s.teardown===null&&s.nodes_start===null&&s.first===s.last&&(s.f&Ar)===0&&(s=s.first),s!==null&&(s.parent=l,l!==null&&_l(s,l),Ie!==null&&(Ie.f&bt)!==0&&(r&yr)===0)){var i=Ie;(i.effects??=[]).push(s)}}return u}function pl(){return Ie!==null&&!Rt}function Ko(r){const t=Qt(On,null,!1);return _t(t,ut),t.teardown=r,t}function ml(r){hl();var t=Oe.f,n=!Ie&&(t&Yt)!==0&&(t&Bn)===0;if(n){var o=zt;(o.e??=[]).push(r)}else return Yo(r)}function Yo(r){return Qt(In|zs,r,!1)}function yl(r){Nt.ensure();const t=Qt(yr|Ar,r,!0);return(n={})=>new Promise(o=>{n.outro?fr(t,()=>{$t(t),o(void 0)}):($t(t),o(void 0))})}function Qo(r){return Qt(In,r,!1)}function bl(r){return Qt(an|Ar,r,!0)}function Un(r,t=0){return Qt(On|t,r,!0)}function ie(r,t=[],n=[]){al(t,n,o=>{Qt(On,()=>r(...o.map(e)),!0)})}function Jr(r,t=0){var n=Qt(mr|t,r,!0);return n}function Pt(r,t=!0){return Qt(Yt|Ar,r,!0,t)}function Xo(r){var t=r.teardown;if(t!==null){const n=wr,o=Ie;ro(!0),yt(null);try{t.call(null)}finally{ro(n),yt(o)}}}function es(r,t=!1){var n=r.first;for(r.first=r.last=null;n!==null;){const l=n.ac;l!==null&&Hn(()=>{l.abort(Fr)});var o=n.next;(n.f&yr)!==0?n.parent=null:$t(n,t),n=o}}function xl(r){for(var t=r.first;t!==null;){var n=t.next;(t.f&Yt)===0&&$t(t),t=n}}function $t(r,t=!0){var n=!1;(t||(r.f&Ss)!==0)&&r.nodes_start!==null&&r.nodes_end!==null&&(wl(r.nodes_start,r.nodes_end),n=!0),es(r,t&&!n),ln(r,0),_t(r,br);var o=r.transitions;if(o!==null)for(const u of o)u.stop();Xo(r);var l=r.parent;l!==null&&l.first!==null&&ts(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=r.ac=null}function wl(r,t){for(;r!==null;){var n=r===t?null:Wr(r);r.remove(),r=n}}function ts(r){var t=r.parent,n=r.prev,o=r.next;n!==null&&(n.next=o),o!==null&&(o.prev=n),t!==null&&(t.first===r&&(t.first=o),t.last===r&&(t.last=n))}function fr(r,t){var n=[];Zn(r,n,!0),rs(n,()=>{$t(r),t&&t()})}function rs(r,t){var n=r.length;if(n>0){var o=()=>--n||t();for(var l of r)l.out(o)}else t()}function Zn(r,t,n){if((r.f&It)===0){if(r.f^=It,r.transitions!==null)for(const s of r.transitions)(s.is_global||n)&&t.push(s);for(var o=r.first;o!==null;){var l=o.next,u=(o.f&Lr)!==0||(o.f&Yt)!==0;Zn(o,t,u?n:!1),o=l}}}function Vn(r){ns(r,!0)}function ns(r,t){if((r.f&It)!==0){r.f^=It,(r.f&ut)===0&&(_t(r,St),_r(r));for(var n=r.first;n!==null;){var o=n.next,l=(n.f&Lr)!==0||(n.f&Yt)!==0;ns(n,l?t:!1),n=o}if(r.transitions!==null)for(const u of r.transitions)(u.is_global||t)&&u.in()}}let zr=!1;function to(r){zr=r}let wr=!1;function ro(r){wr=r}let Ie=null,Rt=!1;function yt(r){Ie=r}let Oe=null;function Zt(r){Oe=r}let Jt=null;function os(r){Ie!==null&&(Jt===null?Jt=[r]:Jt.push(r))}let ht=null,kt=0,Et=null;function kl(r){Et=r}let ss=1,Ur=0,gr=Ur;function no(r){gr=r}let nr=!1;function ls(){return++ss}function fn(r){var t=r.f;if((t&St)!==0)return!0;if((t&ir)!==0){var n=r.deps,o=(t&Lt)!==0;if(n!==null){var l,u,s=(t&sn)!==0,i=o&&Oe!==null&&!nr,a=n.length;if((s||i)&&(Oe===null||(Oe.f&br)===0)){var v=r,b=v.parent;for(l=0;l<a;l++)u=n[l],(s||!u?.reactions?.includes(v))&&(u.reactions??=[]).push(v);s&&(v.f^=sn),i&&b!==null&&(b.f&Lt)===0&&(v.f^=Lt)}for(l=0;l<a;l++)if(u=n[l],fn(u)&&Uo(u),u.wv>r.wv)return!0}(!o||Oe!==null&&!nr)&&_t(r,ut)}return!1}function is(r,t,n=!0){var o=r.reactions;if(o!==null&&!Jt?.includes(r))for(var l=0;l<o.length;l++){var u=o[l];(u.f&bt)!==0?is(u,t,!1):t===u&&(n?_t(u,St):(u.f&ut)!==0&&_t(u,ir),_r(u))}}function as(r){var t=ht,n=kt,o=Et,l=Ie,u=nr,s=Jt,i=zt,a=Rt,v=gr,b=r.f;ht=null,kt=0,Et=null,nr=(b&Lt)!==0&&(Rt||!zr||Ie===null),Ie=(b&(Yt|yr))===0?r:null,Jt=null,Tr(r.ctx),Rt=!1,gr=++Ur,r.ac!==null&&(Hn(()=>{r.ac.abort(Fr)}),r.ac=null);try{r.f|=Pn;var h=r.fn,f=h(),A=r.deps;if(ht!==null){var P;if(ln(r,kt),A!==null&&kt>0)for(A.length=kt+ht.length,P=0;P<ht.length;P++)A[kt+P]=ht[P];else r.deps=A=ht;if(!nr||(b&bt)!==0&&r.reactions!==null)for(P=kt;P<A.length;P++)(A[P].reactions??=[]).push(r)}else A!==null&&kt<A.length&&(ln(r,kt),A.length=kt);if(Ro()&&Et!==null&&!Rt&&A!==null&&(r.f&(bt|ir|St))===0)for(P=0;P<Et.length;P++)is(Et[P],r);return l!==null&&l!==r&&(Ur++,Et!==null&&(o===null?o=Et:o.push(...Et))),(r.f&dr)!==0&&(r.f^=dr),f}catch(G){return Io(G)}finally{r.f^=Pn,ht=t,kt=n,Et=o,Ie=l,nr=u,Jt=s,Tr(i),Rt=a,gr=v}}function Pl(r,t){let n=t.reactions;if(n!==null){var o=ks.call(n,r);if(o!==-1){var l=n.length-1;l===0?n=t.reactions=null:(n[o]=n[l],n.pop())}}n===null&&(t.f&bt)!==0&&(ht===null||!ht.includes(t))&&(_t(t,ir),(t.f&(Lt|sn))===0&&(t.f^=sn),Ho(t),ln(t,0))}function ln(r,t){var n=r.deps;if(n!==null)for(var o=t;o<n.length;o++)Pl(r,n[o])}function Zr(r){var t=r.f;if((t&br)===0){_t(r,ut);var n=Oe,o=zr;Oe=r,zr=!0;try{(t&mr)!==0?xl(r):es(r),Xo(r);var l=as(r);r.teardown=typeof l=="function"?l:null,r.wv=ss;var u;zo&&Qs&&(r.f&St)!==0&&r.deps}finally{zr=o,Oe=n}}}async function Wn(){await Promise.resolve(),tl()}function e(r){var t=r.f,n=(t&bt)!==0;if(Ie!==null&&!Rt){var o=Oe!==null&&(Oe.f&br)!==0;if(!o&&!Jt?.includes(r)){var l=Ie.deps;if((Ie.f&Pn)!==0)r.rv<Ur&&(r.rv=Ur,ht===null&&l!==null&&l[kt]===r?kt++:ht===null?ht=[r]:(!nr||!ht.includes(r))&&ht.push(r));else{(Ie.deps??=[]).push(r);var u=r.reactions;u===null?r.reactions=[Ie]:u.includes(Ie)||u.push(Ie)}}}else if(n&&r.deps===null&&r.effects===null){var s=r,i=s.parent;i!==null&&(i.f&Lt)===0&&(s.f^=Lt)}if(wr){if(sr.has(r))return sr.get(r);if(n){s=r;var a=s.v;return((s.f&ut)===0&&s.reactions!==null||us(s))&&(a=Dn(s)),sr.set(s,a),a}}else n&&(s=r,fn(s)&&Uo(s));if((r.f&dr)!==0)throw r.v;return r.v}function us(r){if(r.v===st)return!0;if(r.deps===null)return!1;for(const t of r.deps)if(sr.has(t)||(t.f&bt)!==0&&us(t))return!0;return!1}function Kr(r){var t=Rt;try{return Rt=!0,r()}finally{Rt=t}}const $l=-7169;function _t(r,t){r.f=r.f&$l|t}function Ml(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(vr in r)Sn(r);else if(!Array.isArray(r))for(let t in r){const n=r[t];typeof n=="object"&&n&&vr in n&&Sn(n)}}}function Sn(r,t=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!t.has(r)){t.add(r),r instanceof Date&&r.getTime();for(let o in r)try{Sn(r[o],t)}catch{}const n=Nn(r);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const o=To(n);for(let l in o){const u=o[l].get;if(u)try{u.call(r)}catch{}}}}}const Sl=["touchstart","touchmove"];function zl(r){return Sl.includes(r)}const cs=new Set,zn=new Set;function Tl(r,t,n,o={}){function l(u){if(o.capture||Ir.call(t,u),!u.cancelBubble)return Hn(()=>n?.call(this,u))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?jr(()=>{t.addEventListener(r,l,o)}):t.addEventListener(r,l,o),l}function et(r,t,n,o,l){var u={capture:o,passive:l},s=Tl(r,t,n,u);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Ko(()=>{t.removeEventListener(r,s,u)})}function We(r){for(var t=0;t<r.length;t++)cs.add(r[t]);for(var n of zn)n(r)}let oo=null;function Ir(r){var t=this,n=t.ownerDocument,o=r.type,l=r.composedPath?.()||[],u=l[0]||r.target;oo=r;var s=0,i=oo===r&&r.__root;if(i){var a=l.indexOf(i);if(a!==-1&&(t===document||t===window)){r.__root=t;return}var v=l.indexOf(t);if(v===-1)return;a<=v&&(s=a)}if(u=l[s]||r.target,u!==t){kn(r,"currentTarget",{configurable:!0,get(){return u||n}});var b=Ie,h=Oe;yt(null),Zt(null);try{for(var f,A=[];u!==null;){var P=u.assignedSlot||u.parentNode||u.host||null;try{var G=u["__"+o];if(G!=null&&(!u.disabled||r.target===u))if(jn(G)){var[L,...O]=G;L.apply(u,[r,...O])}else G.call(u,r)}catch(W){f?A.push(W):f=W}if(r.cancelBubble||P===t||P===null)break;u=P}if(f){for(let W of A)queueMicrotask(()=>{throw W});throw f}}finally{r.__root=t,delete r.currentTarget,yt(b),Zt(h)}}}function ds(r){var t=document.createElement("template");return t.innerHTML=r.replaceAll("<!>","<!---->"),t.content}function Cr(r,t){var n=Oe;n.nodes_start===null&&(n.nodes_start=r,n.nodes_end=t)}function ge(r,t){var n=(t&Co)!==0,o=(t&Ws)!==0,l,u=!r.startsWith("<!>");return()=>{l===void 0&&(l=ds(u?r:"<!>"+r),n||(l=Vt(l)));var s=o||Vo?document.importNode(l,!0):l.cloneNode(!0);if(n){var i=Vt(s),a=s.lastChild;Cr(i,a)}else Cr(s,s);return s}}function ql(r,t,n="svg"){var o=!r.startsWith("<!>"),l=(t&Co)!==0,u=`<${n}>${o?r:"<!>"+r}</${n}>`,s;return()=>{if(!s){var i=ds(u),a=Vt(i);if(l)for(s=document.createDocumentFragment();Vt(a);)s.appendChild(Vt(a));else s=Vt(a)}var v=s.cloneNode(!0);if(l){var b=Vt(v),h=v.lastChild;Cr(b,h)}else Cr(v,v);return v}}function ae(r,t){return ql(r,t,"svg")}function Mr(r=""){{var t=xr(r+"");return Cr(t,t),t}}function $e(){var r=document.createDocumentFragment(),t=document.createComment(""),n=xr();return r.append(t,n),Cr(t,n),r}function d(r,t){r!==null&&r.before(t)}function it(r,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(r.__t??=r.nodeValue)&&(r.__t=n,r.nodeValue=n+"")}function El(r,t){return Cl(r,t)}const Pr=new Map;function Cl(r,{target:t,anchor:n,props:o={},events:l,context:u,intro:s=!0}){fl();var i=new Set,a=h=>{for(var f=0;f<h.length;f++){var A=h[f];if(!i.has(A)){i.add(A);var P=zl(A);t.addEventListener(A,Ir,{passive:P});var G=Pr.get(A);G===void 0?(document.addEventListener(A,Ir,{passive:P}),Pr.set(A,1)):Pr.set(A,G+1)}}};a(Rn(cs)),zn.add(a);var v=void 0,b=yl(()=>{var h=n??t.appendChild(xr());return sl(h,{pending:()=>{}},f=>{if(u){je({});var A=zt;A.c=u}l&&(o.$$events=l),v=r(f,o)||{},u&&Re()}),()=>{for(var f of i){t.removeEventListener(f,Ir);var A=Pr.get(f);--A===0?(document.removeEventListener(f,Ir),Pr.delete(f)):Pr.set(f,A)}zn.delete(a),h!==n&&h.parentNode?.removeChild(h)}});return Ll.set(v,b),v}let Ll=new WeakMap;function ye(r,t,n=!1){var o=r,l=null,u=null,s=st,i=n?Lr:0,a=!1;const v=(A,P=!0)=>{a=!0,f(P,A)};var b=null;function h(){b!==null&&(b.lastChild.remove(),o.before(b),b=null);var A=s?l:u,P=s?u:l;A&&Vn(A),P&&fr(P,()=>{s?u=null:l=null})}const f=(A,P)=>{if(s!==(s=A)){var G=Gn(),L=o;if(G&&(b=document.createDocumentFragment(),b.append(L=xr())),s?l??=P&&Pt(()=>P(L)):u??=P&&Pt(()=>P(L)),G){var O=Ye,W=s?l:u,F=s?u:l;W&&O.skipped_effects.delete(W),F&&O.skipped_effects.add(F),O.add_callback(h)}else h()}};Jr(()=>{a=!1,t(v),a||f(null,null)},i)}function Te(r,t){return t}function Al(r,t,n){for(var o=r.items,l=[],u=t.length,s=0;s<u;s++)Zn(t[s].e,l,!0);var i=u>0&&l.length===0&&n!==null;if(i){var a=n.parentNode;gl(a),a.append(n),o.clear(),Ht(r,t[0].prev,t[u-1].next)}rs(l,()=>{for(var v=0;v<u;v++){var b=t[v];i||(o.delete(b.k),Ht(r,b.prev,b.next)),$t(b.e,!i)}})}function Se(r,t,n,o,l,u=null){var s=r,i={flags:t,items:new Map,first:null},a=(t&Eo)!==0;if(a){var v=r;s=v.appendChild(xr())}var b=null,h=!1,f=new Map,A=Go(()=>{var O=n();return jn(O)?O:O==null?[]:Rn(O)}),P,G;function L(){jl(G,P,i,f,s,l,t,o,n),u!==null&&(P.length===0?b?Vn(b):b=Pt(()=>u(s)):b!==null&&fr(b,()=>{b=null}))}Jr(()=>{G??=Oe,P=e(A);var O=P.length;if(!(h&&O===0)){h=O===0;var W,F,$,M;if(Gn()){var q=new Set,E=Ye;for(F=0;F<O;F+=1){$=P[F],M=o($,F);var C=i.items.get(M)??f.get(M);C?(t&(un|cn))!==0&&vs(C,$,F,t):(W=fs(null,i,null,null,$,M,F,l,t,n,!0),f.set(M,W)),q.add(M)}for(const[c,y]of i.items)q.has(c)||E.skipped_effects.add(y.e);E.add_callback(L)}else L();e(A)}})}function jl(r,t,n,o,l,u,s,i,a){var v=(s&Ds)!==0,b=(s&(un|cn))!==0,h=t.length,f=n.items,A=n.first,P=A,G,L=null,O,W=[],F=[],$,M,q,E;if(v)for(E=0;E<h;E+=1)$=t[E],M=i($,E),q=f.get(M),q!==void 0&&(q.a?.measure(),(O??=new Set).add(q));for(E=0;E<h;E+=1){if($=t[E],M=i($,E),q=f.get(M),q===void 0){var C=o.get(M);if(C!==void 0){o.delete(M),f.set(M,C);var c=L?L.next:P;Ht(n,L,C),Ht(n,C,c),yn(C,c,l),L=C}else{var y=P?P.e.nodes_start:l;L=fs(y,n,L,L===null?n.first:L.next,$,M,E,u,s,a)}f.set(M,L),W=[],F=[],P=L.next;continue}if(b&&vs(q,$,E,s),(q.e.f&It)!==0&&(Vn(q.e),v&&(q.a?.unfix(),(O??=new Set).delete(q))),q!==P){if(G!==void 0&&G.has(q)){if(W.length<F.length){var w=F[0],T;L=w.prev;var m=W[0],S=W[W.length-1];for(T=0;T<W.length;T+=1)yn(W[T],w,l);for(T=0;T<F.length;T+=1)G.delete(F[T]);Ht(n,m.prev,S.next),Ht(n,L,m),Ht(n,S,w),P=w,L=S,E-=1,W=[],F=[]}else G.delete(q),yn(q,P,l),Ht(n,q.prev,q.next),Ht(n,q,L===null?n.first:L.next),Ht(n,L,q),L=q;continue}for(W=[],F=[];P!==null&&P.k!==M;)(P.e.f&It)===0&&(G??=new Set).add(P),F.push(P),P=P.next;if(P===null)continue;q=P}W.push(q),L=q,P=q.next}if(P!==null||G!==void 0){for(var k=G===void 0?[]:Rn(G);P!==null;)(P.e.f&It)===0&&k.push(P),P=P.next;var x=k.length;if(x>0){var p=(s&Eo)!==0&&h===0?l:null;if(v){for(E=0;E<x;E+=1)k[E].a?.measure();for(E=0;E<x;E+=1)k[E].a?.fix()}Al(n,k,p)}}v&&jr(()=>{if(O!==void 0)for(q of O)q.a?.apply()}),r.first=n.first&&n.first.e,r.last=L&&L.e;for(var z of o.values())$t(z.e);o.clear()}function vs(r,t,n,o){(o&un)!==0&&Er(r.v,t),(o&cn)!==0?Er(r.i,n):r.i=n}function fs(r,t,n,o,l,u,s,i,a,v,b){var h=(a&un)!==0,f=(a&Gs)===0,A=h?f?vl(l,!1,!1):pr(l):l,P=(a&cn)===0?s:pr(s),G={i:P,v:A,k:u,a:null,e:null,prev:n,next:o};try{if(r===null){var L=document.createDocumentFragment();L.append(r=xr())}return G.e=Pt(()=>i(r,A,P,v),Ys),G.e.prev=n&&n.e,G.e.next=o&&o.e,n===null?b||(t.first=G):(n.next=G,n.e.next=G.e),o!==null&&(o.prev=G,o.e.prev=G.e),G}finally{}}function yn(r,t,n){for(var o=r.next?r.next.e.nodes_start:n,l=t?t.e.nodes_start:n,u=r.e.nodes_start;u!==null&&u!==o;){var s=Wr(u);l.before(u),u=s}}function Ht(r,t,n){t===null?r.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function at(r,t,...n){var o=r,l=ve,u;Jr(()=>{l!==(l=t())&&(u&&($t(u),u=null),u=Pt(()=>l(o,...n)))},Lr)}function ee(r,t,n){var o=r,l,u,s=null,i=null;function a(){u&&(fr(u),u=null),s&&(s.lastChild.remove(),o.before(s),s=null),u=i,i=null}Jr(()=>{if(l!==(l=t())){var v=Gn();if(l){var b=o;v&&(s=document.createDocumentFragment(),s.append(b=xr()),u&&Ye.skipped_effects.add(u)),i=Pt(()=>n(b,l))}v?Ye.add_callback(a):a()}},Lr)}function Rl(r,t,n){Qo(()=>{var o=Kr(()=>t(r,n?.())||{});if(n&&o?.update){var l=!1,u={};Un(()=>{var s=n();Ml(s),l&&Ao(u,s)&&(u=s,o.update(s))}),l=!0}if(o?.destroy)return()=>o.destroy()})}function gs(r){var t,n,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(n=gs(r[t]))&&(o&&(o+=" "),o+=n)}else for(n in r)r[n]&&(o&&(o+=" "),o+=n);return o}function Nl(){for(var r,t,n=0,o="",l=arguments.length;n<l;n++)(r=arguments[n])&&(t=gs(r))&&(o&&(o+=" "),o+=t);return o}function Be(r){return typeof r=="object"?Nl(r):r??""}function Il(r,t,n){var o=r==null?"":""+r;return t&&(o=o?o+" "+t:t),o===""?null:o}function so(r,t=!1){var n=t?" !important;":";",o="";for(var l in r){var u=r[l];u!=null&&u!==""&&(o+=" "+l+": "+u+n)}return o}function bn(r){return r[0]!=="-"||r[1]!=="-"?r.toLowerCase():r}function Ol(r,t){if(t){var n="",o,l;if(Array.isArray(t)?(o=t[0],l=t[1]):o=t,r){r=String(r).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var u=!1,s=0,i=!1,a=[];o&&a.push(...Object.keys(o).map(bn)),l&&a.push(...Object.keys(l).map(bn));var v=0,b=-1;const G=r.length;for(var h=0;h<G;h++){var f=r[h];if(i?f==="/"&&r[h-1]==="*"&&(i=!1):u?u===f&&(u=!1):f==="/"&&r[h+1]==="*"?i=!0:f==='"'||f==="'"?u=f:f==="("?s++:f===")"&&s--,!i&&u===!1&&s===0){if(f===":"&&b===-1)b=h;else if(f===";"||h===G-1){if(b!==-1){var A=bn(r.substring(v,b).trim());if(!a.includes(A)){f!==";"&&h++;var P=r.substring(v,h).trim();n+=" "+P+";"}}v=h+1,b=-1}}}}return o&&(n+=so(o)),l&&(n+=so(l,!0)),n=n.trim(),n===""?null:n}return r==null?null:String(r)}function Fe(r,t,n,o,l,u){var s=r.__className;if(s!==n||s===void 0){var i=Il(n,o);i==null?r.removeAttribute("class"):t?r.className=i:r.setAttribute("class",i),r.__className=n}return u}function xn(r,t={},n,o){for(var l in n){var u=n[l];t[l]!==u&&(n[l]==null?r.style.removeProperty(l):r.style.setProperty(l,u,o))}}function be(r,t,n,o){var l=r.__style;if(l!==t){var u=Ol(t,o);u==null?r.removeAttribute("style"):r.style.cssText=u,r.__style=t}else o&&(Array.isArray(o)?(xn(r,n?.[0],o[0]),xn(r,n?.[1],o[1],"important")):xn(r,n,o));return o}const Fl=Symbol("is custom element"),Bl=Symbol("is html");function I(r,t,n,o){var l=Dl(r);l[t]!==(l[t]=n)&&(t==="loading"&&(r[qs]=n),n==null?r.removeAttribute(t):typeof n!="string"&&Gl(r).includes(t)?r[t]=n:r.setAttribute(t,n))}function Dl(r){return r.__attributes??={[Fl]:r.nodeName.includes("-"),[Bl]:r.namespaceURI===Js}}var lo=new Map;function Gl(r){var t=r.getAttribute("is")||r.nodeName,n=lo.get(t);if(n)return n;lo.set(t,n=[]);for(var o,l=r,u=Element.prototype;u!==l;){o=To(l);for(var s in o)o[s].set&&n.push(s);l=Nn(l)}return n}function io(r,t){return r===t||r?.[vr]===t}function Hl(r={},t,n,o){return Qo(()=>{var l,u;return Un(()=>{l=u,u=[],Kr(()=>{r!==n(...u)&&(t(r,...u),l&&io(n(...l),r)&&t(null,...l))})}),()=>{jr(()=>{u&&io(n(...u),r)&&t(null,...u)})}}),r}let nn=!1;function Ul(r){var t=nn;try{return nn=!1,[r(),nn]}finally{nn=t}}function Kt(r,t,n,o){var l=(n&Zs)!==0,u=(n&Vs)!==0,s=o,i=!0,a=()=>(i&&(i=!1,s=u?Kr(o):o),s),v;if(l){var b=vr in r||Ts in r;v=Sr(r,t)?.set??(b&&t in r?W=>r[t]=W:void 0)}var h,f=!1;l?[h,f]=Ul(()=>r[t]):h=r[t],h===void 0&&o!==void 0&&(h=a(),v&&(Ns(),v(h)));var A;if(A=()=>{var W=r[t];return W===void 0?a():(i=!0,W)},(n&Us)===0)return A;if(v){var P=r.$$legacy;return(function(W,F){return arguments.length>0?((!F||P||f)&&v(F?A():W),W):A()})}var G=!1,L=((n&Hs)!==0?vn:Go)(()=>(G=!1,A()));l&&e(L);var O=Oe;return(function(W,F){if(arguments.length>0){const $=F?e(L):l?Ae(W):W;return _(L,$),G=!0,s!==void 0&&(s=$),W}return wr&&G||(O.f&br)!==0?L.v:e(L)})}function Zl(r){zt===null&&Es(),ml(()=>{const t=Kr(r);if(typeof t=="function")return t})}const Vl="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Vl);var Wl=ae('<a><rect class="link svelte-kd8t1r"></rect></a>'),Jl=ae('<g><g><svg><use class="symbol"></use><!></svg></g></g>');function rt(r,t){je(t,!0);let n=_e(null),o=_e(null),l=!1;const u=G=>{t.drag&&(l=!0,t.svg.addEventListener("pointermove",s),t.svg.addEventListener("pointerup",i),t.svg.addEventListener("pointerleave",i))},s=G=>{if(!l)return;const L=t.svg.getBoundingClientRect();_(n,100*(G.clientX-L.left)/L.width-t.width/16.5),_(o,100*(G.clientY-L.top)/L.height-t.height/13.8)},i=()=>{l=!1,t.svg.removeEventListener("pointermove",s),t.svg.removeEventListener("pointerup",i),t.svg.removeEventListener("pointerleave",i)};var a=Jl();let v;var b=re(a),h=re(b);h.__pointerdown=u;var f=re(h),A=g(f);{var P=G=>{var L=Wl(),O=re(L);ie(()=>{I(L,"href",`#${t.link??""}`),I(L,"aria-label",t.link),I(O,"x",t.rectX??"0"),I(O,"y",t.rectY??"0"),I(O,"width",t.rectWidth??"100%"),I(O,"height",t.rectHeight??"100%")}),d(G,L)};ye(A,G=>{t.link&&G(P)})}ie(G=>{v=be(a,"",v,G),be(b,t.style),Fe(h,0,Be(["object",{draggable:t.drag}]),"svelte-kd8t1r"),I(h,"width",t.width),I(h,"height",t.height),I(f,"href",`#${t.symbol??""}`)},[()=>({transform:`translate(${e(n)??t.x/8.5??""}%, ${e(o)??t.y/6.9??""}%)`})]),et("pointerenter",h,()=>t.setHelp(t.help)),et("pointerleave",h,()=>t.setHelp(null)),d(r,a),Re()}We(["pointerdown"]);var Kl=ae('<svg viewBox="0 0 825 690"><use href="#valise" class="valise-close svelte-rtdtl8"></use><g class="valise-open svelte-rtdtl8"><use href="#openvalise"></use><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!><!></g></svg>'),Yl=ge('<div><div class="logo svelte-rtdtl8"><svg><use href="#logo"></use></svg></div> <div class="container svelte-rtdtl8"><!> <div> </div></div></div>');function Ql(r,t){je(t,!0);const n=G=>{var L=Kl(),O=g(re(L)),W=g(re(O));rt(W,{get svg(){return e(i)},setHelp:s,symbol:"tile",link:"tiling",help:"Jeu: carrelage",x:280,y:400,width:120,height:60});var F=g(W);rt(F,{get svg(){return e(i)},setHelp:s,symbol:"chocolate",link:"chocolat",help:"Jeu: chocolat",x:200,y:200,width:60,height:60,style:"transform:rotate(40deg);"});var $=g(F);rt($,{get svg(){return e(i)},setHelp:s,symbol:"pen",link:"dessin",help:"Jeu: dessin",x:610,y:400,width:60,height:60});var M=g($);rt(M,{get svg(){return e(i)},setHelp:s,symbol:"knight",link:"queens",help:"Jeu: les 8 reines",x:461,y:380,width:24,height:48,style:"transform:rotate(40deg);"});var q=g(M);rt(q,{get svg(){return e(i)},setHelp:s,symbol:"paw",link:"labete",help:"Jeu: la bête",x:300,y:180,width:40,height:40,style:"transform:rotate(30deg);opacity:0.5;"});var E=g(q);rt(E,{get svg(){return e(i)},setHelp:s,symbol:"stack",link:"jetons",help:"Jeu: acquisition",x:350,y:500,width:50,height:50});var C=g(E);rt(C,{get svg(){return e(i)},setHelp:s,symbol:"block2",link:"nim",help:"Jeu: bloque moi si tu peux",x:380,y:120,width:40,height:40});var c=g(C);rt(c,{get svg(){return e(i)},setHelp:s,symbol:"tricolor2",link:"baseball",help:"Jeu: baseball multicolore",x:350,y:330,width:90,height:60});var y=g(c);rt(y,{get svg(){return e(i)},setHelp:s,symbol:"eternal-attack",link:"eternal",help:"Jeu: domination éternelle",x:260,y:125,width:40,height:40});var w=g(y);rt(w,{get svg(){return e(i)},setHelp:s,symbol:"traffic",link:"tricolor",help:"Jeu: feu tricolore",x:250,y:280,width:64,height:64});var T=g(w);rt(T,{get svg(){return e(i)},setHelp:s,symbol:"frog2",link:"frog",help:"Jeu: la grenouille",x:549,y:320,width:40,height:40,style:"fill:#bcd35f;"});var m=g(T);rt(m,{get svg(){return e(i)},setHelp:s,symbol:"flowerpot",help:"Quelque chose se cache derrière ce pot",drag:!0,x:533,y:300,width:64,height:64});var S=g(m);rt(S,{get svg(){return e(i)},setHelp:s,symbol:"bulbon",link:"noirblanc",help:"Jeu: tout noir, tout blanc",x:477,y:280,width:48,height:48});var k=g(S);rt(k,{get svg(){return e(i)},setHelp:s,symbol:"race",link:"paths",help:"Jeu: chemins",x:450,y:445,width:64,height:64,style:"transform:rotate(40deg);"});var x=g(k);rt(x,{get svg(){return e(i)},setHelp:s,symbol:"quiet",link:"sansmot",help:"Preuves sans mot",x:180,y:130,width:50,height:50});var p=g(x);rt(p,{get svg(){return e(i)},setHelp:s,symbol:"soli-peg2",link:"solitaire",help:"Jeu: solitaire",x:492,y:350,width:40,height:40});var z=g(p);rt(z,{get svg(){return e(i)},setHelp:s,symbol:"hanoibot",link:"hanoi",help:"Jeu: tours de Hanoi",x:500,y:430,width:75,height:51,rectX:"30%",rectY:"20%",rectWidth:"40%",rectHeight:"40%"});var j=g(z);rt(j,{get svg(){return e(i)},setHelp:s,symbol:"hanoitop",help:"Quelque chose se cache sous cette tour",drag:!0,x:507,y:409,width:60,height:57});var Q=g(j);rt(Q,{get svg(){return e(i)},setHelp:s,symbol:"wheel",link:"roue",help:"Jeu: roue des couleurs",x:400,y:205,width:50,height:50,style:"transform:scale(1,0.8);"}),Hl(L,K=>_(i,K),()=>e(i)),d(G,L)};let o=_e(!1),l=_e(null),u=_e(!1);function s(G){G===null?_(u,!1):(_(l,G,!0),_(u,!0))}let i=_e(void 0);Zl(()=>setTimeout(()=>_(o,!0),1500));var a=Yl(),v=re(a),b=re(v);be(b,"",{},{width:"100%",height:"100%"});var h=g(v,2),f=re(h);n(f);var A=g(f,2),P=re(A);ie(()=>{Fe(a,1,Be(["main-container",{open:e(o)}]),"svelte-rtdtl8"),Fe(A,1,Be(["help",{visible:e(u)}]),"svelte-rtdtl8"),it(P,e(l))}),d(r,a),Re()}function Ve(r,t){const n=new Array(r);return n.fill(t),n}function Ct(r,t){const n=new Array(r);for(let o=0;o<r;o++)n[o]=t(o);return n}function Ke(r,t,n){const o=[];if(n=n??1,n>0)for(let l=r;l<t;l+=n)o.push(l);else for(let l=r;l>t;l+=n)o.push(l);return o}function hs(r,t){let n=0;const o=r.length;for(let l=0;l<o;l++)t(r[l],l)&&(n+=1);return n}function Xl(r,t){return r.slice(0,t)}function ei(r,t,n){const o=r.slice(),l=o[t];return o[t]=o[n],o[n]=l,o}function Tn(r,t){let n=null,o=1/0,l=r.length;for(let u=0;u<l;u++){const s=r[u],i=t(s);i<o&&(o=i,n=s)}return n}const ti=(r,t)=>Tn(r,n=>-t(n));function ri(r,t){const n=[],o=[];function l(u){if(o.length===t){n.push(o.slice());return}for(let s=u;s<r;s++)o.push(s),l(s+1),o.pop()}return l(0),n}const lr=(r,t)=>r+(t-r)*Math.random()|0;function qn(r){return r.length===0?null:r[Math.random()*r.length|0]}function ni(r){const t=r.slice();for(let n=t.length-1;n>=0;n--){const o=Math.random()*(n+1)|0,l=t[n];t[n]=t[o],t[o]=l}return t}const Jn=r=>new Promise(t=>setTimeout(t,r));function En(r){if(r===null||typeof r!="object")return r;if(Array.isArray(r))return r.map(n=>En(n));const t={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=En(r[n]));return t}function Cn(r){return new Set(r).size===r.length}function Gr(r,t){const n=r%t;return n<0?n+t:n}const or=(r,t,n)=>Ct(r*t,o=>n(o/t|0,o%t));function mt(r,t){const n=t/r|0,o=t%r;return[n,o]}function Yr(r,t,n){const o=t/r|0,l=t%r,u=n/r|0,s=n%r;return[o-u,l-s]}function Ot(r,t,n){const o=Math.max(n,r,t);return`height:${100*r/o}%;width:${100*t/o}%;`}function kr(r){const t=r.currentTarget.getBoundingClientRect(),n=(r.clientX-t.left)/t.width,o=(r.clientY-t.top)/t.height;return{x:n,y:o}}function ct(r){return{position:r,history:[],redoHistory:[],turn:1,computerStarts:!1,mode:"solo",help:!1,showWin:!1,dialog:"rules",newGameAction:null,locked:!1}}function Kn(r,t,n,o){const l=t.play(n);return l===null?!1:(o&&(r.history.push(r.position),r.redoHistory=[]),r.position=l,r.turn=r.turn==1?2:1,t.onPositionChange?.(),!0)}async function lt(r,t,n){if(!Kn(r,t,n,!0))return;const{isNewRecord:o,showWin:l}=t.updateScore?t.updateScore():oi(t);l?(r.showWin=!1,await Wn(),r.showWin=!0):(r.mode==="expert"||r.mode==="random")&&(r.locked=!0,await Jn(1e3),_s(r,t),r.locked=!1)}async function _s(r,t){const n=t.computerMove?t.computerMove():ai(r,t);n!==null&&(Kn(r,t,n),t.isLevelFinished()&&(r.showWin=!1,await Wn(),r.showWin=!0))}function oi(r){return{isNewRecord:!1,showWin:r.isLevelFinished()}}function Ee(r,t,n){if(!r.newGameAction&&n&&r.history.length>0&&!t.isLevelFinished()){r.newGameAction=n;return}r.history=[],r.redoHistory=[],r.help=!1,r.turn=1,r.computerStarts=!1,ms(r)&&delete r.scores.$custom,(n||r.newGameAction||(()=>{}))(),t.onNewGame&&t.onNewGame();do r.position=t.initialPosition();while(t.isLevelFinished());r.newGameAction=null}function ps(r){r.mode==="duel"?r.turn=r.turn===1?2:1:r.turn=r.computerStarts?2:1}function si(r,t){if(r.history.length===0)return;const n=r.history.pop();r.redoHistory.push(r.position),r.position=n,ps(r),t.onPositionChange?.()}function li(r,t){if(r.redoHistory.length===0)return;const n=r.redoHistory.pop();r.history.push(r.position),r.position=n,ps(r),t.onPositionChange?.()}function ii(r,t){if(r.history.length===0)return;const n=r.history[0];r.history=[],r.redoHistory=[],r.turn,r.position=n,t.onPositionChange?.()}function ai(r,t){if(t.isLevelFinished())return null;const n=t.possibleMoves();let o=null;if(r.mode==="expert"){const l=r.position;for(const u of n){let s=!1;if(Kn(r,t,u),t.isLosingPosition()&&(s=!0),r.position=l,r.turn=r.turn==1?2:1,s){o=u;break}}}return o!==null?o:qn(n)}function ui(r){return r.rows!==void 0&&r.columns!==void 0&&r.customSize!==void 0}function ci(r,t,n,o,l){if(!l)return;const{minRows:u,maxRows:s,minCols:i,maxCols:a}=l;n<u||n>s||o<i||o>a||Ee(r,t,()=>{r.rows=n,r.columns=o})}function ms(r){return!!r.scores}function di(r){return!!r.score&&!!r.scoreHash&&!!r.objective}function Qr(r,t,n,o){if(n&&!t.isLevelFinished())return{isNewRecord:!1,showWin:!1};{const l=t.score(),u=t.scoreHash()??"$custom",s=(v,b)=>t.objective==="minimize"?v<b:v>b,i=r.scores[u],a=!i||s(l,i[0]);return a&&(r.scores[u]=[l,En(r.position)]),{isNewRecord:a,showWin:a&&o==="onNewRecord"||o==="always"}}}function ys(r,t){return t.isLevelFinished()?"Partie finie":r.turn===1!==r.computerStarts?"Tour du premier joueur":r.mode==="duel"?"Tour du second joueur":"Tour de l'IA"}const Yn=r=>r.mode==="duel"?`Le ${r.turn===2?"premier":"second"} joueur gagne`:r.turn===2!==r.computerStarts?"Tu as gagné":"L'IA gagne";var vi=ge('<button class="ui-button ui-button-primary svelte-1kwbck4">Annuler</button>'),fi=ge('<button class="ui-button ui-button-primary svelte-1kwbck4">Ok</button>'),gi=ge('<div class="container svelte-1kwbck4"><div class="dialog svelte-1kwbck4"><div class="head svelte-1kwbck4"><div class="title svelte-1kwbck4"> </div></div> <div class="body svelte-1kwbck4"><!></div> <div class="buttons svelte-1kwbck4"><!> <!></div></div></div>');function hr(r,t){var n=gi(),o=re(n),l=re(o),u=re(l),s=re(u),i=g(l,2),a=re(i);at(a,()=>t.children);var v=g(i,2),b=re(v);{var h=P=>{var G=vi();G.__click=function(...L){t.onCancel?.apply(this,L)},d(P,G)};ye(b,P=>{t.onCancel&&P(h)})}var f=g(b,2);{var A=P=>{var G=fi();G.__click=function(...L){t.onOk?.apply(this,L)},d(P,G)};ye(f,P=>{t.onOk&&P(A)})}ie(()=>it(s,t.title)),d(r,n)}We(["click"]);var hi=r=>r.preventDefault(),_i=ae('<svg><use class="icon-symbol svelte-6vx4ue"></use></svg>'),pi=ge('<span class="icon-text svelte-6vx4ue"> </span>'),mi=ge('<span class="tooltip svelte-6vx4ue"> </span>'),yi=ge("<button><!> <!></button>");function He(r,t){je(t,!0);var n=yi();n.__click=function(...a){t.onclick?.apply(this,a)},n.__pointerdown=function(...a){t.onpointerdown?.apply(this,a)},n.__pointerup=function(...a){t.onpointerup?.apply(this,a)},n.__contextmenu=[hi];var o=re(n);{var l=a=>{var v=_i();let b;var h=re(v);ie(()=>{b=be(v,t.style,b,{width:"100%",height:"100%"}),I(h,"href",t.text)}),d(a,v)},u=a=>{var v=$e(),b=te(v);{var h=f=>{var A=pi(),P=re(A);ie(()=>it(P,t.text)),d(f,A)};ye(b,f=>{t.text&&f(h)},!0)}d(a,v)};ye(o,a=>{t.text&&t.text.startsWith("#")?a(l):a(u,!1)})}var s=g(o,2);{var i=a=>{var v=mi(),b=re(v);ie(()=>it(b,t.tooltip)),d(a,v)};ye(s,a=>{t.tooltip&&a(i)})}ie(()=>{Fe(n,1,Be(["icon",{selected:t.selected,round:t.round,large:t.large,hidden:t.hidden}]),"svelte-6vx4ue"),n.disabled=t.disabled}),et("pointerleave",n,function(...a){t.onpointerleave?.apply(this,a)}),d(r,n),Re()}We(["click","pointerdown","pointerup","contextmenu"]);var bi=ge('<div class="grid svelte-zhyzlg"><div class="container svelte-zhyzlg"><!> <div class="rows svelte-zhyzlg"><!> <div class="text svelte-zhyzlg"> </div> <!></div></div> <div class="columns svelte-zhyzlg"><!> <div class="text svelte-zhyzlg"> </div> <!></div></div>');function xi(r,t){je(t,!0);var n=bi(),o=re(n),l=re(o);at(l,()=>t.children);var u=g(l,2),s=re(u);{let G=R(()=>!t.showRowButtons);He(s,{round:!0,text:"#plus",get disabled(){return t.locked},get hidden(){return e(G)},onclick:()=>t.resize(t.rows+1,t.columns)})}var i=g(s,2),a=re(i),v=g(i,2);{let G=R(()=>!t.showRowButtons);He(v,{round:!0,text:"#minus",get disabled(){return t.locked},get hidden(){return e(G)},onclick:()=>t.resize(t.rows-1,t.columns)})}var b=g(o,2),h=re(b);{let G=R(()=>!t.showColButtons);He(h,{round:!0,text:"#minus",get disabled(){return t.locked},get hidden(){return e(G)},onclick:()=>t.resize(t.rows,t.columns-1)})}var f=g(h,2),A=re(f),P=g(f,2);{let G=R(()=>!t.showColButtons);He(P,{round:!0,text:"#plus",get disabled(){return t.locked},get hidden(){return e(G)},onclick:()=>t.resize(t.rows,t.columns+1)})}ie(()=>{it(a,t.rows),it(A,t.columns)}),d(r,n),Re()}const wi='@keyframes _ya_qjadi_1{to{translate:0 var(--sh)}}@keyframes _xa_qjadi_1{to{translate:var(--xlp) 0}}@keyframes _r_qjadi_1{50%{rotate:var(--hr) 180deg}to{rotate:var(--r) 360deg}}._c_qjadi_26{width:0;height:0;overflow:visible;position:relative;z-index:1200}._p_qjadi_38{animation:_xa_qjadi_1 var(--dc) forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:_xa_qjadi_1}._p_qjadi_38>div{position:absolute;top:0;left:0;animation:_ya_qjadi_1 var(--dc) forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));animation-name:_ya_qjadi_1;width:var(--w);height:var(--h)}._p_qjadi_38>div:before{display:block;height:100%;width:100%;content:"";background-color:var(--bgc);animation:_r_qjadi_1 var(--rd) infinite linear;animation-name:_r_qjadi_1;border-radius:var(--br)}',ki="_c_qjadi_26",bs="_p_qjadi_38",ao=["#FFC700","#FF0000","#2E3191","#41BBC7"],uo=3500,co=.5,vo=150,fo="mix",go=12,ho="",_o=!0,po="800px",mo="1600px";function Pi(r,t={}){let{colors:n=ao,duration:o=uo,force:l=co,particleCount:u=vo,particleShape:s=fo,particleSize:i=go,particleClass:a=ho,destroyAfterDone:v=_o,stageHeight:b=po,stageWidth:h=mo}=t;b=typeof b=="number"?b+"px":b,h=typeof h=="number"?h+"px":h,$i(wi),r.classList.add(ki),r.style.setProperty("--sh",b);let f=[],A=[];const P=()=>Or(Gt()*(Ei-1)),G=(F,$)=>s!=="rectangles"&&(F==="circles"||Ci($));function L(F,$){const M=P(),q=G(s,M),E=(y,w)=>F.style.setProperty(y,w+"");E("--xlp",`calc(${on(ko($,90)-180)/180-.5} * ${h})`),E("--dc",o-Or(Gt()*1e3)+"ms");const C=Gt()<zi?$r(Gt()*Ti,2):0;E("--x1",C),E("--x2",C*-1),E("--x3",C),E("--x4",$r(on(wo(on(ko($,90)-180),0,180,-1,1)),4)),E("--y1",$r(Gt()*bo,4)),E("--y2",$r(Gt()*l*(xs()?1:-1),4)),E("--y3",bo),E("--y4",$r(qi(wo(on($-180),0,180,l,-l),0),4)),E("--w",(q?i:Or(Gt()*4)+i/2)+"px"),E("--h",(q?i:Or(Gt()*2)+i)+"px");const c=M.toString(2).padStart(3,"0").split("");E("--hr",c.map(y=>+y/2+"").join(" ")),E("--r",c.join(" ")),E("--rd",$r(Gt()*(Si-yo)+yo)+"ms"),E("--br",q?"50%":0)}let O;function W(){r.innerHTML="",clearTimeout(O),f=xo(u,n),A=Mi(r,f,a);for(const[F,$]of Po(A))L($,f[+F].degree);O=setTimeout(()=>{v&&(r.innerHTML="")},o)}return W(),{update(F){const $=F.particleCount??vo,M=F.particleShape??fo,q=F.particleSize??go,E=F.particleClass??ho,C=F.colors??ao,c=F.stageHeight??po,y=F.duration??uo,w=F.force??co,T=F.stageWidth??mo,m=F.destroyAfterDone??_o;f=xo($,C);let S=!1;if($===u){A=Array.from(r.querySelectorAll(`.${bs}`));for(const[k,{color:x}]of Po(f)){const p=A[+k];JSON.stringify(n)!==JSON.stringify(C)&&p.style.setProperty("--bgc",x),M!==s&&p.style.setProperty("--br",G(M,P())?"50%":"0"),E!==a&&(a&&p.classList.remove(a),E&&p.classList.add(E))}}else S=!0;v&&!m&&clearTimeout(O),r.style.setProperty("--sh",c+"px"),o=y,n=C,l=w,u=$,s=M,i=q,a=E,v=m,b=c,h=T,S&&W()},destroy(){r.innerHTML="",clearTimeout(O)}}}function $i(r){if(document.querySelector("style[data-neoconfetti]"))return;const t=Ln("style");t.dataset.neoconfetti="",t.textContent=r,An(document.head,t)}function Mi(r,t=[],n){const o=[];for(const{color:l}of t){const u=Ln("div");u.className=`${bs} ${n}`,u.style.setProperty("--bgc",l);const s=Ln("div");An(u,s),An(r,u),o.push(u)}return o}const yo=200,Si=800,zi=.1,Ti=.3,bo=.5,on=Math.abs,Gt=Math.random,Or=Math.round,qi=Math.max,Ln=r=>document.createElement(r),An=(r,t)=>r.appendChild(t),xo=(r,t)=>Array.from({length:r},(n,o)=>({color:t[o%t.length],degree:o*360/r})),$r=(r,t=2)=>Or((r+Number.EPSILON)*10**t)/10**t,wo=(r,t,n,o,l)=>(r-t)*(l-o)/(n-t)+o,ko=(r,t)=>r+t>360?r+t-360:r+t,xs=()=>Gt()>.5,Po=Object.entries,Ei=6,Ci=r=>r!==1&&xs(),Li=(r,t=ve,n=ve)=>{var o=$e(),l=te(o);{var u=s=>{var i=Ai(),a=re(i),v=re(a);Rl(v,(f,A)=>Pi?.(f,A),()=>({stageHeight:"100vh",stageWidth:"100vw"}));var b=g(a,2),h=re(b);ie(()=>it(h,t())),d(s,i)};ye(l,s=>{n()&&s(u)})}d(r,o)};var Ai=ge('<div class="win-container svelte-16qq312"><div class="confetti-container svelte-16qq312"><div class="svelte-16qq312"></div></div> <div class="win svelte-16qq312"> </div></div>'),ji=ge('<div class="rules svelte-16qq312"><!></div>'),Ri=ge('<div class="main-container svelte-16qq312"><!> <!> <!> <!></div>');function dt(r,t){je(t,!0);const n=Kt(t,"model",15);var o=Ri(),l=re(o);{var u=f=>{{let A=R(()=>n().customSize&&t.sizeLimit.minRows<t.sizeLimit.maxRows),P=R(()=>n().customSize&&t.sizeLimit.minCols<t.sizeLimit.maxCols);xi(f,{get rows(){return n().rows},get columns(){return n().columns},get showRowButtons(){return e(A)},get showColButtons(){return e(P)},get locked(){return n().locked},resize:(G,L)=>ci(n(),t.methods,G,L,t.sizeLimit),children:(G,L)=>{var O=$e(),W=te(O);at(W,()=>t.board),d(G,O)},$$slots:{default:!0}})}},s=f=>{var A=$e(),P=te(A);at(P,()=>t.board),d(f,A)};ye(l,f=>{t.sizeLimit&&ui(n())?f(u):f(s,!1)})}var i=g(l,2);at(i,()=>t.config);var a=g(i,2);Li(a,()=>t.winTitle||"GAGNÉ",()=>n().showWin);var v=g(a,2);{var b=f=>{hr(f,{title:"Règles du jeu",onOk:()=>n(n().dialog=null,!0),children:(A,P)=>{var G=ji(),L=re(G);at(L,()=>t.rules),d(A,G)}})},h=f=>{var A=$e(),P=te(A);{var G=O=>{var W=$e(),F=te(W);at(F,()=>t.custom??ve),d(O,W)},L=O=>{var W=$e(),F=te(W);{var $=q=>{hr(q,{title:"Meilleur score",onOk:()=>n(n().dialog=null,!0),children:(E,C)=>{const c=R(()=>n().scores[t.methods.scoreHash()??"$custom"][1]);var y=$e(),w=te(y);at(w,()=>t.bestScore??ve,()=>e(c)),d(E,y)}})},M=q=>{var E=$e(),C=te(E);{var c=y=>{hr(y,{title:"Nouvelle Partie",onOk:()=>Ee(n(),t.methods),onCancel:()=>n(n().newGameAction=null,!0),children:(w,T)=>{var m=Mr("Tu es sur le point de créer une nouvelle partie. Ta partie en cours sera perdue. Es-tu sûr(e)?");d(w,m)}})};ye(C,y=>{n().newGameAction&&y(c)},!0)}d(q,E)};ye(F,q=>{n().dialog=="score"&&ms(n())&&di(t.methods)?q($):q(M,!1)},!0)}d(O,W)};ye(P,O=>{n().dialog==="customize"?O(G):O(L,!1)},!0)}d(f,A)};ye(v,f=>{n().dialog==="rules"?f(b):f(h,!1)})}d(r,o),Re()}var Ni=ge('<div><div class="title svelte-v5cdzl"> </div> <div class="icons svelte-v5cdzl"><!></div></div>');function Xe(r,t){var n=Ni(),o=re(n),l=re(o),u=g(o,2),s=re(u);at(s,()=>t.children),ie(()=>it(l,t.title)),d(r,n)}function Xr(r,t){je(t,!0);const n=Kt(t,"model",15);let o=R(()=>n().scores[t.methods.scoreHash()??"$custom"]),l=R(()=>`Meilleur score (${e(o)?""+e(o)[0]:"∅"})`);Xe(r,{get title(){return e(l)},children:(u,s)=>{{let i=R(()=>n().locked||!e(o));He(u,{text:"#cup",tooltip:"Meilleur score",get disabled(){return e(i)},onclick:()=>n(n().dialog="score",!0)})}}}),Re()}function Rr(r,t){je(t,!0);const n=Kt(t,"model",15),o=Kt(t,"interaction",3,"click");{let l=R(()=>o()!=="click"?null:()=>n(n().help=!n().help,!0)),u=R(()=>o()!=="press"?null:()=>n(n().help=!0,!0)),s=R(()=>o()!=="press"?null:()=>n(n().help=!1,!0)),i=R(()=>o()!=="press"?null:()=>n(n().help=!1,!0));He(r,{text:"#help",tooltip:"Aide",get disabled(){return n().locked},get selected(){return n().help},get onclick(){return e(l)},get onpointerdown(){return e(u)},get onpointerup(){return e(s)},get onpointerleave(){return e(i)}})}Re()}function Ft(r,t){je(t,!0);{let n=R(()=>t.model.locked||t.model.history.length===0);He(r,{text:"#undo",tooltip:"Annule le dernier coup",get disabled(){return e(n)},onclick:()=>si(t.model,t.methods)})}Re()}function Bt(r,t){je(t,!0);{let n=R(()=>t.model.locked||t.model.redoHistory.length===0);He(r,{text:"#undo",tooltip:"Rejoue le coup annulé",style:"transform:scaleX(-1);",get disabled(){return e(n)},onclick:()=>li(t.model,t.methods)})}Re()}function vt(r,t){je(t,!0);{let n=R(()=>t.model.locked||t.model.history.length===0);He(r,{text:"#reset",tooltip:"Recommence la partie",get disabled(){return e(n)},onclick:()=>ii(t.model,t.methods)})}Re()}function ft(r,t){je(t,!0);const n=Kt(t,"model",15);{let o=R(()=>n().dialog==="rules");He(r,{text:"#rules",tooltip:"Règles",get disabled(){return n().locked},get selected(){return e(o)},onclick:()=>n(n().dialog="rules",!0)})}Re()}var Ii=ge("<!> <!>",1);function Qe(r,t){je(t,!0),Xe(r,{get title(){return t.title},children:(n,o)=>{var l=Ii(),u=te(l);Se(u,17,()=>t.values,Te,(i,a,v)=>{{let b=R(()=>Array.isArray(t.text)?t.text[v]:t.text?t.text(e(a)):""+e(a)),h=R(()=>Array.isArray(t.tooltip)?t.tooltip[v]:t.tooltip?t.tooltip(e(a)):null),f=R(()=>e(a)===t.selected),A=R(()=>Array.isArray(t.disabled)?t.disabled[v]:typeof t.disabled=="function"?t.disabled(e(a)):!!t.disabled);He(i,{get text(){return e(b)},get tooltip(){return e(h)},get selected(){return e(f)},onclick:()=>t.setter(e(a)),get disabled(){return e(A)}})}});var s=g(u,2);at(s,()=>t.children??ve),d(n,l)}}),Re()}function Oi(r,t){je(t,!0),Xe(r,{get title(){return t.title},children:(n,o)=>{var l=$e(),u=te(l);Se(u,17,()=>t.values,Te,(s,i)=>{{let a=R(()=>""+e(i)),v=R(()=>t.selected.includes(e(i)));He(s,{get text(){return e(a)},get selected(){return e(v)},onclick:()=>t.setter(e(i)),get disabled(){return t.disabled}})}}),d(n,l)}}),Re()}var Fi=ge("<!> <!>",1);function Nr(r,t){je(t,!0);const n=Kt(t,"model",15),o=(l,u)=>Ee(n(),t.methods,()=>{n(n().rows=l,!0),n(n().columns=u,!0),n(n().customSize=!1,!0)});Xe(r,{title:"Dimensions de la grille",children:(l,u)=>{var s=Fi(),i=te(s);Se(i,17,()=>t.values,Te,(b,h)=>{var f=R(()=>Mt(e(h),2));let A=()=>e(f)[0],P=()=>e(f)[1];{let G=R(()=>!n().customSize&&A()===n().rows&&P()===n().columns);He(b,{get text(){return`${A()??""}x${P()??""}`},get selected(){return e(G)},onclick:()=>o(A(),P())})}});var a=g(i,2);{var v=b=>{He(b,{text:"NxM",tooltip:"Taille personalisée",get selected(){return n().customSize},onclick:()=>Ee(n(),t.methods,()=>n(n().customSize=!0,!0))})};ye(a,b=>{t.customSize&&b(v)})}d(l,s)}}),Re()}function gn(r,t){je(t,!0);const n=Kt(t,"model",15),o=()=>{n(n().computerStarts=!0,!0),_s(n(),t.methods)};Qe(r,{title:"Mode de jeu",values:["random","expert","duel"],text:["#school","#enstein","#duel"],tooltip:["IA mode facile","IA mode expert","Affronte un autre joueur"],get selected(){return n().mode},get disabled(){return n().locked},setter:l=>Ee(n(),t.methods,()=>n(n().mode=l,!0)),children:(l,u)=>{{let s=R(()=>n().locked||n().computerStarts||n().mode==="duel"||n().history.length>0);He(l,{text:"2P⇨",tooltip:"L'IA commence",get disabled(){return e(s)},onclick:o})}},$$slots:{default:!0}}),Re()}var Bi=ge('<div class="card svelte-xdgvle"><div class="head svelte-xdgvle"><div class="title svelte-xdgvle"> </div></div> <div class="body svelte-xdgvle"><!></div></div>');function gt(r,t){var n=Bi(),o=re(n),l=re(o),u=re(l),s=g(o,2),i=re(s);at(i,()=>t.children),ie(()=>it(u,t.title)),d(r,n)}const Di=r=>{var t=Wi();d(r,t)};var Gi=ae('<rect class="base svelte-133gz3q"></rect>'),Hi=ae('<g class="player svelte-133gz3q"><use href="#meeple" width="7" height="7"></use></g>'),Ui=ge('<div class="ui-board board svelte-133gz3q"><svg viewBox="0 0 100 100" class="svelte-133gz3q"><!><!></svg></div>'),Zi=ge("<!> <!> <!> <!>",1),Vi=ge("<!> <!>",1),Wi=ge(`Le but de <strong class="svelte-133gz3q">Baseball multicolore</strong> est d'amener chaque <strong class="svelte-133gz3q">jeton</strong> dans sa <strong class="svelte-133gz3q">base</strong> (celle qui a la même couleur que le jeton).<br class="svelte-133gz3q"/> Pour cela, tu peux déplacer un jeton vers une base <strong class="svelte-133gz3q">adjacente</strong> si celle-ci possède un emplacement <strong class="svelte-133gz3q">libre</strong>.<br class="svelte-133gz3q"/> Pour déplacer un jeton, il te suffit de <strong class="svelte-133gz3q">cliquer</strong> dessus.`,1);function Ji(r,t){je(t,!0);const n=L=>{var O=Ui(),W=re(O),F=re(W);Se(F,17,()=>Xl(A,e(u)),Te,(M,q,E)=>{var C=Gi();let c;ie(y=>{I(C,"stroke",e(q)),c=be(C,"",c,y)},[()=>({transform:G(E)})]),d(M,C)});var $=g(F);Se($,17,()=>e(l).position,Te,(M,q,E)=>{var C=$e(),c=te(C);{var y=w=>{var T=Hi();let m;var S=re(T);S.__click=()=>lt(e(l),f,E);let k;ie((x,p)=>{m=be(T,"",m,x),I(S,"fill",A[E/2|0]),Fe(S,0,Be({animate:e(i)}),"svelte-133gz3q"),k=be(S,"",k,p)},[()=>({transform:P(e(q))}),()=>({cursor:a(E)!==null?"pointer":"not-allowed","animation-delay":`${1e3+2e3*E/e(u)}ms`})]),d(w,T)};ye(c,w=>{E!==e(s)&&w(y)})}d(M,C)}),d(L,O)},o=L=>{gt(L,{title:"Baseball multicolore",children:(O,W)=>{var F=Vi(),$=te(F);ee($,()=>Qe,(q,E)=>{E(q,{title:"Nombre de bases",values:[4,5,6,7,8],get selected(){return e(u)},setter:C=>Ee(e(l),f,()=>_(u,C,!0))})});var M=g($,2);ee(M,()=>Xe,(q,E)=>{E(q,{title:"Options",children:(C,c)=>{var y=Zi(),w=te(y);ee(w,()=>Ft,(k,x)=>{x(k,{get methods(){return f},get model(){return e(l)},set model(p){_(l,p,!0)}})});var T=g(w,2);ee(T,()=>Bt,(k,x)=>{x(k,{get methods(){return f},get model(){return e(l)},set model(p){_(l,p,!0)}})});var m=g(T,2);ee(m,()=>vt,(k,x)=>{x(k,{get methods(){return f},get model(){return e(l)},set model(p){_(l,p,!0)}})});var S=g(m,2);ee(S,()=>ft,(k,x)=>{x(k,{get model(){return e(l)},set model(p){_(l,p,!0)}})}),d(C,y)},$$slots:{default:!0}})}),d(O,F)}})};let l=_e(Ae(ct(Ke(0,10)))),u=_e(5),s=_e(1),i=R(()=>e(l).position.every((L,O)=>L>>1==O>>1));function a(L){const O=e(l).position,W=e(s),F=O[L],$=O[W];return[1,e(u)-1,-1,-e(u)+1].includes((F>>1)-($>>1))?O.with(L,$).with(W,F):null}const f={play:a,isLevelFinished:()=>e(i),initialPosition:()=>ni(Ke(0,2*e(u))),onNewGame:()=>_(s,lr(0,2*e(u)),!0)},A=["blue","red","green","magenta","orange","black","cyan","gray"],P=L=>{const W=2*(L/2|0)*Math.PI/e(u),F=.42+.35*Math.cos(W)+.1*(L%2),$=.46+.35*Math.sin(W);return`translate(${100*F}%, ${100*$}%)`},G=L=>{const O=2*L*Math.PI/e(u),W=.5+.35*Math.cos(O),F=.5+.35*Math.sin(O);return`translate(${100*W}%, ${100*F}%) rotate(45deg)`};Ee(e(l),f),dt(r,{get methods(){return f},get board(){return n},get config(){return o},get rules(){return Di},get model(){return e(l)},set model(L){_(l,L,!0)}}),Re()}We(["click"]);var Ki=(r,t)=>_(t,kr(r),!0),Yi=ae("<svg><!><!></svg>");function en(r,t){je(t,!0);let n=_e(null);var o=Yi();o.__pointermove=[Ki,n];var l=re(o);at(l,()=>t.children);var u=g(l);{var s=i=>{var a=$e(),v=te(a);at(v,()=>t.pointer,()=>e(n).x,()=>e(n).y),d(i,a)};ye(u,i=>{e(n)&&i(s)})}ie(()=>{I(o,"viewBox",t.viewBox),Fe(o,0,Be(t.class)),be(o,t.style)}),et("pointerleave",o,()=>_(n,null)),d(r,o),Re()}We(["pointermove"]);const Qi=r=>{var t=va();d(r,t)};var Xi=(r,t,n,o,l)=>{_(t,null),lt(e(n),o,l())},ea=ae('<circle r="7" class="cutter svelte-1oz20vc"></circle>'),ta=ae('<use href="#skull" class="pointer svelte-1oz20vc" x="-20" y="-20" width="26" height="26"></use>'),ra=(r,t,n,o)=>t([n(),o()]),na=ae("<rect></rect>"),oa=ae("<!><!>",1),sa=ae("<!><!>",1),la=ae('<use href="#skull" width="26" height="26" class="skull svelte-1oz20vc"></use>'),ia=ae('<line class="cut-line svelte-1oz20vc"></line>'),aa=ae("<!><!><!><!>",1),ua=ge('<div class="board-container svelte-1oz20vc"><div class="turn-message svelte-1oz20vc"> </div> <div class="ui-board"><!></div></div>'),ca=ge("<!> <!> <!> <!>",1),da=ge("<!> <!> <!> <!>",1),va=ge(`<strong>Chocolat</strong> est un jeu à <strong>deux joueurs</strong>.<br/> A chaque tour, un joueur <strong>coupe</strong> la barre de chocolat en deux, <strong>verticalement</strong> ou <strong>horizontalement</strong> et conserve celle
  qui contient le <strong>carré empoisonné</strong>.<br/> Lorsqu'il ne reste que le carré empoisonné, le joueur qui doit jouer a <strong>perdu</strong>.`,1);function fa(r,t){je(t,!0);const n=(c,y=ve,w=ve,T=ve)=>{var m=ea();m.__click=[Xi,v,s,L,T],ie(()=>{I(m,"cx",50*w()),I(m,"cy",50*y())}),et("pointerenter",m,()=>_(v,T(),!0)),et("pointerleave",m,()=>_(v,null)),d(c,m)},o=(c,y=ve,w=ve)=>{var T=$e(),m=te(T);{var S=k=>{var x=ta();let p;ie(z=>p=be(x,"",p,z),[()=>({transform:`translate(${y()*100}%,${w()*100}%)`})]),d(k,x)};ye(m,k=>{e(i)===null&&k(S)})}d(c,T)},l=c=>{const y=R(()=>{const{left:x,right:p,top:z,bottom:j}=e(s).position;return{left:x,right:p,top:z,bottom:j}});var w=ua(),T=re(w),m=re(T),S=g(T,2),k=re(S);{let x=R(()=>50*e(s).columns+14),p=R(()=>50*e(s).rows+14);en(k,{get pointer(){return o},get viewBox(){return`-7 -7 ${e(x)??""} ${e(p)??""}`},children:(z,j)=>{var Q=aa(),K=te(Q);Se(K,17,()=>e(W),Te,(J,oe)=>{var se=R(()=>Mt(e(oe),2));let ce=()=>e(se)[0],he=()=>e(se)[1];var V=na();V.__click=[ra,C,ce,he];let U;ie((X,ue)=>{Fe(V,0,X,"svelte-1oz20vc"),U=be(V,"",U,ue)},[()=>Be(["square",{soap:e(i)!==null&&e(i)[0]===ce()&&e(i)[1]===he(),hidden:!O(ce(),he())}]),()=>({transform:`translate(${50*he()}px, ${50*ce()}px)`})]),d(J,V)});var H=g(K);Se(H,17,()=>e(F),Te,(J,oe)=>{var se=R(()=>Mt(e(oe),2));let ce=()=>e(se)[0],he=()=>e(se)[1];var V=$e(),U=te(V);{var X=de=>{var we=oa(),xe=te(we);n(xe,()=>e(y).top,he,()=>[ce(),he()]);var ze=g(xe);n(ze,()=>e(y).bottom,he,()=>[ce(),he()]),d(de,we)},ue=de=>{var we=sa(),xe=te(we);n(xe,he,()=>e(y).left,()=>[ce(),he()]);var ze=g(xe);n(ze,he,()=>e(y).right,()=>[ce(),he()]),d(de,we)};ye(U,de=>{ce()==="left"||ce()==="right"?de(X):de(ue,!1)})}d(J,V)});var D=g(H);{var Z=J=>{const oe=R(()=>{const[ce,he]=e(i);return{row:ce,col:he}});var se=la();ie(()=>{I(se,"x",50*e(oe).col+12),I(se,"y",50*e(oe).row+12)}),d(J,se)};ye(D,J=>{e(i)!==null&&J(Z)})}var ne=g(D);{var B=J=>{const oe=R(()=>{const{x1:ce,x2:he,y1:V,y2:U}=e($);return{x1:ce,x2:he,y1:V,y2:U}});var se=ia();ie(()=>{I(se,"x1",50*e(oe).x1),I(se,"x2",50*e(oe).x2),I(se,"y1",50*e(oe).y1),I(se,"y2",50*e(oe).y2)}),d(J,se)};ye(ne,J=>{e($)&&J(B)})}d(z,Q)},$$slots:{default:!0}})}ie(x=>{it(m,e(M)),be(S,x)},[()=>Ot(e(s).rows,e(s).columns,3)]),d(c,w)},u=c=>{gt(c,{title:"Chocolat",children:(y,w)=>{var T=da(),m=te(T);ee(m,()=>Nr,(p,z)=>{z(p,{get methods(){return L},values:[[6,7]],customSize:!0,get model(){return e(s)},set model(j){_(s,j,!0)}})});var S=g(m,2);ee(S,()=>Qe,(p,z)=>{z(p,{title:"Emplacement du savon",values:["corner","border","standard","custom"],text:["#choc-mode0","#choc-mode1","#choc-mode2","#customize"],tooltip:["Dans le coin","Sur le bord","N'importe où","Personnalisé"],get selected(){return e(a)},get disabled(){return e(s).locked},setter:j=>Ee(e(s),L,()=>_(a,j,!0))})});var k=g(S,2);ee(k,()=>gn,(p,z)=>{z(p,{get methods(){return L},get model(){return e(s)},set model(j){_(s,j,!0)}})});var x=g(k,2);ee(x,()=>Xe,(p,z)=>{z(p,{title:"Options",children:(j,Q)=>{var K=ca(),H=te(K);ee(H,()=>Ft,(B,J)=>{J(B,{get methods(){return L},get model(){return e(s)},set model(oe){_(s,oe,!0)}})});var D=g(H,2);ee(D,()=>Bt,(B,J)=>{J(B,{get methods(){return L},get model(){return e(s)},set model(oe){_(s,oe,!0)}})});var Z=g(D,2);ee(Z,()=>vt,(B,J)=>{J(B,{get methods(){return L},get model(){return e(s)},set model(oe){_(s,oe,!0)}})});var ne=g(Z,2);ee(ne,()=>ft,(B,J)=>{J(B,{get model(){return e(s)},set model(oe){_(s,oe,!0)}})}),d(j,K)},$$slots:{default:!0}})}),d(y,T)}})};let s=_e(Ae({...ct({left:0,right:0,top:0,bottom:0}),rows:6,columns:7,customSize:!1,mode:"random"})),i=_e(null),a=_e("corner"),v=_e(null);function b([c,y]){switch(c){case"left":return{...e(s).position,left:y};case"right":return{...e(s).position,right:y};case"top":return{...e(s).position,top:y};default:return{...e(s).position,bottom:y}}}function h(){const{left:c,right:y,top:w,bottom:T}=e(s).position;return c===y-1&&w===T-1}const f=()=>({left:0,right:e(s).columns,top:0,bottom:e(s).rows});function A(){if(e(a)==="custom")_(i,null);else{const c=e(a)==="standard"?lr(0,e(s).rows):0,y=e(a)!=="corner"?lr(0,e(s).columns):0;_(i,[c,y],!0)}}function P(){if(e(i)===null)return!1;const[c,y]=e(i),{left:w,right:T,top:m,bottom:S}=e(s).position;return(y-w^T-y-1^c-m^S-c-1)===0}function G(){if(e(i)===null)return[];const[c,y]=e(i),{left:w,right:T,top:m,bottom:S}=e(s).position,k=Ke(w+1,y+1).map(j=>["left",j]),x=Ke(y+1,T).map(j=>["right",j]),p=Ke(m+1,c+1).map(j=>["top",j]),z=Ke(c+1,S).map(j=>["bottom",j]);return k.concat(x,p,z)}const L={play:b,isLevelFinished:h,initialPosition:f,onNewGame:A,isLosingPosition:P,possibleMoves:G};function O(c,y){const{left:w,right:T,top:m,bottom:S}=e(s).position;return y>=w&&y<T&&c>=m&&c<S}let W=R(()=>or(e(s).rows,e(s).columns,(c,y)=>[c,y])),F=R(G),$=R(()=>{if(e(v)===null)return null;const{left:c,right:y,top:w,bottom:T}=e(s).position,[m,S]=e(v);return m==="left"||m==="right"?{x1:S,y1:w,x2:S,y2:T}:{x1:c,y1:S,x2:y,y2:S}}),M=R(()=>e(i)===null?"Place le savon":ys(e(s),L)),q=R(()=>Yn(e(s)));const E={minRows:4,minCols:4,maxRows:10,maxCols:10};function C(c){e(i)===null&&_(i,c,!0)}Ee(e(s),L),dt(r,{get methods(){return L},get board(){return l},get config(){return u},get rules(){return Qi},get winTitle(){return e(q)},get sizeLimit(){return E},get model(){return e(s)},set model(c){_(s,c,!0)}}),Re()}We(["click"]);function Vr(r,t,n){const{x:o,y:l}=r.vertices[t],{x:u,y:s}=r.vertices[n];return{x1:o,x2:u,y1:l,y2:s}}function ga(r,t){r.vertices.push(t)}function ha(r,t){r.vertices.splice(t,1),r.edges=r.edges.filter(([n,o])=>n!==t&&o!==t).map(([n,o])=>[n>t?n-1:n,o>t?o-1:o])}function _a(r,t,n){t>n&&([t,n]=[n,t]),r.edges=r.edges.filter(o=>o[0]!==t||o[1]!==n)}function pa(r,t,n){t>n&&([t,n]=[n,t]),r.edges.findIndex(o=>o[0]===t&&o[1]===n)===-1&&r.edges.push([t,n])}const ma=(r,t,n)=>{e(t)==="vertex"&&ga(n,kr(r))},ya=(r,t,n,o,l)=>{if(e(t)===null)return;const{x:u,y:s}=kr(r);e(n)==="vertex"&&e(t)!==null?o.vertices[e(t)]={x:u,y:s}:e(n)==="addedge"&&_(l,{x:u,y:s})};var ba=(r,t,n,o)=>t(n(),o()),xa=ae('<line class="edge svelte-gj4d79"></line>'),wa=ae('<circle r="3"></circle>'),ka=ae('<line class="line-to-pointer svelte-gj4d79"></line>'),Pa=ge('<div class="container svelte-gj4d79"><div class="board svelte-gj4d79"><svg viewBox="0 0 100 100"><!><!><!> S.line</svg></div> <div class="buttons svelte-gj4d79"><!> <!> <!> <!></div></div>');function ws(r,t){je(t,!0);let n=Ae({title:"Graph personnalisé",vertices:[],edges:[]}),o=_e("vertex"),l=_e(null),u=_e(null);function s(){e(o)==="addedge"&&(_(l,null),_(u,null))}function i(h,f){e(o)==="vertex"?h.stopPropagation():e(o)==="delete"&&ha(n,f)}function a(h){e(o)==="vertex"?(_(l,null),_(u,null)):e(o)==="addedge"&&e(l)!==null&&(pa(n,e(l),h),_(l,null))}function v(h,f){h.stopPropagation(),(e(o)==="addedge"||e(o)==="vertex")&&_(l,f,!0)}function b(h,f){e(o)==="delete"&&_a(n,h,f)}hr(r,{title:"Créé ton graphe",onOk:()=>t.onOk(n),children:(h,f)=>{var A=Pa(),P=re(A),G=re(P);G.__pointerup=s,G.__click=[ma,o,n],G.__pointermove=[ya,l,o,n,u];var L=re(G);Se(L,17,()=>n.edges,Te,(c,y)=>{var w=R(()=>Mt(e(y),2));let T=()=>e(w)[0],m=()=>e(w)[1];const S=R(()=>{const{x1:x,y1:p,x2:z,y2:j}=Vr(n,T(),m());return{x1:x,y1:p,x2:z,y2:j}});var k=xa();k.__click=[ba,b,T,m],ie(()=>{I(k,"x1",100*e(S).x1),I(k,"y1",100*e(S).y1),I(k,"x2",100*e(S).x2),I(k,"y2",100*e(S).y2)}),d(c,k)});var O=g(L);Se(O,17,()=>n.vertices,Te,(c,y,w)=>{let T=()=>e(y).x,m=()=>e(y).y;var S=wa();S.__click=k=>i(k,w),S.__pointerdown=k=>v(k,w),S.__pointerup=()=>a(w),ie(()=>{I(S,"cx",100*T()),I(S,"cy",100*m()),Fe(S,0,Be(["vertex",{selected:e(l)===w}]),"svelte-gj4d79")}),d(c,S)});var W=g(O);{var F=c=>{const y=R(()=>{const{x:T,y:m}=n.vertices[e(l)];return{x:T,y:m}});var w=ka();ie(()=>{I(w,"x1",100*e(y).x),I(w,"y1",100*e(y).y),I(w,"x2",100*e(u).x),I(w,"y2",100*e(u).y)}),d(c,w)};ye(W,c=>{e(l)!==null&&e(u)!==null&&c(F)})}var $=g(P,2),M=re($);{let c=R(()=>e(o)==="vertex");He(M,{text:"#vertex",get selected(){return e(c)},tooltip:"Ajoute ou déplace un sommet",onclick:()=>_(o,"vertex")})}var q=g(M,2);{let c=R(()=>e(o)==="addedge");He(q,{text:"#edge",get selected(){return e(c)},tooltip:"Connecte deux sommets",onclick:()=>_(o,"addedge")})}var E=g(q,2);{let c=R(()=>e(o)==="delete");He(E,{text:"#trash",get selected(){return e(c)},tooltip:"Retire un sommet ou une arête",onclick:()=>_(o,"delete")})}var C=g(E,2);He(C,{text:"#clear",tooltip:"Efface tout le graphe",onclick:()=>{n.vertices=[],n.edges=[]}}),ie(()=>Fe(G,0,`svg ${e(o)??""}`,"svelte-gj4d79")),et("pointerleave",G,s),d(h,A)}}),Re()}We(["pointerup","click","pointermove","pointerdown"]);const $a=r=>{var t=Ra();d(r,t)};var Ma=ae('<line class="line-to-pointer svelte-476vzw"></line>'),Sa=ae('<line class="line1 svelte-476vzw"></line>'),za=ae("<path></path>"),Ta=ae('<circle r="3" fill="blue"></circle>'),qa=ae("<!><!><!>",1),Ea=ge('<div class="ui-board board svelte-476vzw"><!> <span class="title svelte-476vzw"> </span> <span class="raise-info svelte-476vzw"> </span> <button class="ui-button ui-button-primary raise svelte-476vzw">Lever le crayon</button></div>'),Ca=ge("<!> <!> <!> <!>",1),La=ge("<!> <!> <!>",1),Aa=ae('<line class="line2 svelte-476vzw" stroke="red"></line><text class="edge-no svelte-476vzw"></text>',1),ja=ge('<div class="bestscore svelte-476vzw"><svg viewBox="0 0 100 100"></svg></div>'),Ra=ge("Le but du jeu est de dessiner le motif indiqué en pointillé en levant le moins souvent possible le crayon.<br/> Pour lever le crayon, tu peux cliquer sur le bouton prévu pour ou utiliser le clic droit.",1);function Na(r,t){je(t,!0);const n=(B,J=ve,oe=ve)=>{var se=$e(),ce=te(se);{var he=V=>{const U=R(()=>{const{x:ue,y:de}=e(C).vertices[e($).position.at(-1)];return{x:ue,y:de}});var X=Ma();ie(()=>{I(X,"x1",e(U).x*100),I(X,"y1",e(U).y*100),I(X,"x2",J()*100),I(X,"y2",oe()*100),I(X,"stroke",H[e(w)]??"red")}),d(V,X)};ye(ce,V=>{!e(T)&&typeof e($).position.at(-1)=="number"&&V(he)})}d(B,se)},o=B=>{var J=Ea();J.__contextmenu=X=>{X.preventDefault(),lt(e($),Q,"raise")};var oe=re(J);en(oe,{viewBox:"0 0 100 100",get pointer(){return n},children:(X,ue)=>{var de=qa(),we=te(de);Se(we,17,()=>e(C).edges,Te,(me,ke)=>{var N=R(()=>Mt(e(ke),2));let Y=()=>e(N)[0],le=()=>e(N)[1];const fe=R(()=>{const{x1:Me,x2:Pe,y1:Le,y2:Ce}=Vr(e(C),Y(),le());return{x1:Me,x2:Pe,y1:Le,y2:Ce}});var pe=Sa();ie(()=>{I(pe,"x1",e(fe).x1*100),I(pe,"x2",e(fe).x2*100),I(pe,"y1",e(fe).y1*100),I(pe,"y2",e(fe).y2*100)}),d(me,pe)});var xe=g(we);Se(xe,19,()=>e(D),({path:me,length:ke,start:N},Y)=>`${Y},${e(E)}`,(me,ke,N)=>{let Y=()=>e(ke).path,le=()=>e(ke).length,fe=()=>e(ke).start;var pe=za();let Me;ie(Pe=>{I(pe,"d",Y()),Fe(pe,0,Be(["line2",{animate:e(T)}]),"svelte-476vzw"),I(pe,"stroke-dasharray",e(T)?100*le():"0"),I(pe,"stroke-dashoffset",e(T)?100*le():"0"),I(pe,"stroke",H[e(N)]??"red"),Me=be(pe,"",Me,Pe)},[()=>({"animation-duration":`${le()??""}s`,"animation-delay":`${fe()??""}s`})]),et("animationend",pe,function(...Pe){(e(N)<e(D).length-1?null:()=>_(E,e(E)+1))?.apply(this,Pe)}),d(me,pe)});var ze=g(xe);{var qe=me=>{var ke=$e(),N=te(ke);Se(N,17,()=>e(C).vertices,Te,(Y,le,fe)=>{let pe=()=>e(le).x,Me=()=>e(le).y;var Pe=Ta();Pe.__click=()=>lt(e($),Q,fe),ie(Le=>{I(Pe,"cx",pe()*100),I(Pe,"cy",Me()*100),I(Pe,"stroke",Le)},[()=>fe===e($).position.at(-1)?"red":"blue"]),d(Y,Pe)}),d(me,ke)};ye(ze,me=>{e(T)||me(qe)})}d(X,de)},$$slots:{default:!0}});var se=g(oe,2),ce=re(se),he=g(se,2),V=re(he),U=g(he,2);U.__click=()=>lt(e($),Q,"raise"),ie(X=>{it(ce,e(C).title),it(V,`${e(w)??""} levé${e(w)>0?"s":""} de crayon`),U.disabled=X},[()=>e(T)||typeof e($).position.at(-1)!="number"]),d(B,J)},l=B=>{gt(B,{title:"Dessin",children:(J,oe)=>{var se=La(),ce=te(se);ee(ce,()=>Qe,(U,X)=>{X(U,{title:"Niveau",values:[0,1,2,3,4,5,6,7,8,9,10,11],get selected(){return e(M)},text:ue=>""+(ue+1),tooltip:ue=>F[ue].title,setter:ue=>Ee(e($),Q,()=>_(M,ue,!0)),children:(ue,de)=>{var we=$e(),xe=te(we);{let ze=R(()=>e(M)==="custom");ee(xe,()=>He,(qe,me)=>{me(qe,{text:"#customize",tooltip:"Créé ton propre graphe",get selected(){return e(ze)},onclick:Z})})}d(ue,we)},$$slots:{default:!0}})});var he=g(ce,2);ee(he,()=>Xe,(U,X)=>{X(U,{title:"Options",children:(ue,de)=>{var we=Ca(),xe=te(we);ee(xe,()=>Ft,(ke,N)=>{N(ke,{get methods(){return Q},get model(){return e($)},set model(Y){_($,Y,!0)}})});var ze=g(xe,2);ee(ze,()=>Bt,(ke,N)=>{N(ke,{get methods(){return Q},get model(){return e($)},set model(Y){_($,Y,!0)}})});var qe=g(ze,2);ee(qe,()=>vt,(ke,N)=>{N(ke,{get methods(){return Q},get model(){return e($)},set model(Y){_($,Y,!0)}})});var me=g(qe,2);ee(me,()=>ft,(ke,N)=>{N(ke,{get model(){return e($)},set model(Y){_($,Y,!0)}})}),d(ue,we)},$$slots:{default:!0}})});var V=g(he,2);ee(V,()=>Xr,(U,X)=>{X(U,{get methods(){return Q},get model(){return e($)},set model(ue){_($,ue,!0)}})}),d(J,se)}})},u=(B,J=ve)=>{var oe=ja(),se=re(oe);Se(se,21,()=>c(J()),Te,(ce,he,V)=>{var U=R(()=>Mt(e(he),2));let X=()=>e(U)[0],ue=()=>e(U)[1];const de=R(()=>{const{x1:qe,x2:me,y1:ke,y2:N}=Vr(e(C),X(),ue());return{x1:qe,x2:me,y1:ke,y2:N}});var we=Aa(),xe=te(we),ze=g(xe);ze.textContent=V+1,ie(()=>{I(xe,"x1",e(de).x1*100),I(xe,"x2",e(de).x2*100),I(xe,"y1",e(de).y1*100),I(xe,"y2",e(de).y2*100),I(ze,"x",50*(e(de).x1+e(de).x2)),I(ze,"y",50*(e(de).y1+e(de).y2))}),d(ce,we)}),d(B,oe)},s=B=>{ws(B,{onOk:ne})},i={title:"Maison",vertices:[{x:1,y:4},{x:3,y:4},{x:2,y:3},{x:1,y:2},{x:3,y:2},{x:2,y:1}],edges:[[0,1],[1,4],[3,4],[0,3],[0,2],[1,2],[2,3],[2,4],[3,5],[4,5]]},a={title:"Sablier",vertices:[{x:1,y:.7},{x:4,y:.7},{x:2.5,y:1.2},{x:2.5,y:1.9},{x:1.5,y:1.9},{x:3.5,y:1.9},{x:1.5,y:2.5},{x:3.5,y:2.5},{x:2.5,y:2.5},{x:2.5,y:3.2},{x:1,y:3.7},{x:4,y:3.7}],edges:[[0,1],[0,2],[1,2],[2,3],[3,4],[3,5],[4,6],[5,7],[6,8],[7,8],[8,9],[9,10],[9,11],[10,11]]},v={title:"Maison avec cave",vertices:[{x:2,y:2.5},{x:1,y:3.2},{x:3,y:3.2},{x:1,y:1.8},{x:3,y:1.8},{x:2,y:1},{x:2,y:4}],edges:[[0,1],[0,2],[0,3],[0,4],[1,2],[2,4],[3,4],[1,3],[3,5],[4,5],[1,6],[2,6]]},b={title:"Entrelacements",vertices:[{x:2.5,y:1},{x:4,y:1},{x:1,y:2},{x:2.5,y:2},{x:3.25,y:2},{x:2.5,y:2.5},{x:3.25,y:2.5},{x:4,y:2.5},{x:1,y:4},{x:3.25,y:4}],edges:[[0,1],[0,3],[2,3],[3,4],[1,7],[5,6],[6,7],[3,5],[4,6],[2,8],[6,9],[8,9]]},h={title:"Grille",vertices:[{x:0,y:.5},{x:2,y:.5},{x:4,y:.5},{x:1,y:1.5},{x:3,y:1.5},{x:0,y:2.5},{x:2,y:2.5},{x:4,y:2.5},{x:1,y:3.5},{x:3,y:3.5},{x:0,y:4.5},{x:2,y:4.5},{x:4,y:4.5}].map(({x:B,y:J})=>({x:B*.85+1,y:J*.85+.21})),edges:[[0,1],[1,2],[0,3],[1,3],[1,4],[2,4],[3,5],[3,6],[4,6],[4,7],[5,8],[6,8],[6,9],[7,9],[8,10],[8,11],[9,11],[9,12],[10,11],[11,12],[0,5],[2,7],[5,10],[7,12]]},f={title:"Ponts de Königsberg",vertices:[{x:1,y:0},{x:3,y:0},{x:0,y:1},{x:2,y:1},{x:4,y:1},{x:1,y:2},{x:3,y:2},{x:0,y:3},{x:2,y:4},{x:4,y:3}].map(({x:B,y:J})=>({x:B*.85+1,y:J*.85+1})),edges:[[0,2],[0,3],[1,3],[1,4],[4,6],[3,6],[3,5],[2,5],[2,7],[3,8],[4,9],[7,8],[8,9]]},A={title:"Tour",vertices:[{x:1,y:0},{x:0,y:1},{x:2,y:1},{x:1,y:2},{x:0,y:3},{x:2,y:3},{x:1,y:4},{x:0,y:5},{x:2,y:5}].map(({x:B,y:J})=>({x:B*.9+1,y:J*.9+.2})),edges:[[0,1],[0,2],[1,2],[1,3],[2,3],[3,4],[3,5],[4,5],[1,4],[2,5],[4,6],[5,6],[6,7],[6,8],[4,7],[5,8]]},P={title:"Soleil",vertices:[{x:1,y:2},{x:2,y:1},{x:3,y:2},{x:2,y:3},{x:.5,y:.5},{x:.5,y:3.5},{x:3.5,y:3.5},{x:3.5,y:.5},{x:2,y:2}].map(({x:B,y:J})=>({x:B*1.15,y:J*1.15})),edges:[[0,1],[1,2],[2,3],[0,3],[0,8],[1,8],[2,8],[3,8],[0,4],[1,4],[0,5],[3,5],[2,6],[3,6],[1,7],[2,7]]},G={title:"Ville folle",vertices:[{x:0,y:0},{x:2,y:0},{x:3,y:0},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:1,y:3},{x:2,y:3},{x:4,y:3},{x:0,y:4},{x:1,y:4},{x:3,y:4},{x:4,y:4},{x:1,y:5},{x:2,y:5},{x:3,y:5},{x:4,y:5}].map(({x:B,y:J})=>({x:B*.75+1,y:J*.72+.6})),edges:[[1,2],[0,3],[0,4],[1,4],[2,5],[4,5],[3,7],[4,8],[7,8],[5,8],[5,9],[6,9],[6,10],[8,11],[9,12],[11,12],[10,13],[14,15],[15,16],[16,17],[9,16],[12,16],[13,16],[14,18],[15,19],[16,20],[17,21],[18,19],[20,21]]},L={title:"Hibou",vertices:[{x:0,y:0},{x:2,y:0},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:3,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:1,y:3},{x:2,y:3},{x:4,y:3},{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:4,y:4},{x:1,y:5},{x:3,y:5}].map(({x:B,y:J})=>({x:B*.8+.5,y:J*.8+.6})),edges:[[0,2],[0,3],[1,3],[1,4],[2,3],[3,4],[4,5],[2,6],[2,7],[3,7],[3,8],[4,8],[4,9],[5,9],[6,7],[7,8],[7,10],[7,11],[8,11],[9,11],[9,12],[10,14],[11,15],[12,15],[9,15],[13,14],[14,15],[15,16],[13,17],[14,17],[15,18],[16,18]]},O={title:"Lièvre bondissant",vertices:[{x:1,y:0},{x:2,y:0},{x:4,y:0},{x:2,y:1},{x:3,y:1},{x:4,y:1},{x:1,y:2},{x:2,y:2},{x:3,y:2},{x:4,y:2},{x:0,y:3},{x:2,y:3},{x:3,y:3},{x:4,y:3},{x:0,y:4},{x:1,y:4},{x:2,y:4},{x:3,y:4},{x:1,y:5}].map(({x:B,y:J})=>({x:B*.8+1,y:J*.8+.8})),edges:[[0,1],[0,3],[1,4],[2,4],[2,5],[3,4],[4,5],[3,6],[3,7],[4,7],[4,8],[5,8],[5,9],[7,8],[8,9],[6,10],[6,11],[7,11],[9,12],[12,13],[6,15],[10,15],[11,15],[14,15],[15,16],[12,16],[12,17],[13,17],[14,18],[15,18]]},W={title:"Croix",vertices:[{x:0,y:1},{x:0,y:2},{x:.5,y:1.5},{x:1,y:0},{x:1,y:1},{x:1,y:2},{x:1,y:3},{x:1.5,y:.5},{x:1.5,y:1.5},{x:1.5,y:2.5},{x:2,y:0},{x:2,y:1},{x:2,y:2},{x:2,y:3},{x:2.5,y:1.5},{x:3,y:1},{x:3,y:2}].map(({x:B,y:J})=>({x:B*1.3+.5,y:J*1.3+.5})),edges:[[0,1],[0,2],[1,2],[0,4],[1,5],[2,4],[2,5],[3,4],[4,5],[5,6],[3,7],[4,7],[4,8],[5,8],[5,9],[6,9],[3,10],[4,11],[5,12],[6,13],[7,10],[7,11],[8,11],[8,12],[9,12],[9,13],[10,11],[11,12],[12,13],[11,14],[12,14],[11,15],[12,16],[14,15],[14,16],[15,16]]},F=[i,v,a,b,h,f,A,P,G,L,O,W];let $=_e(Ae({...ct([]),scores:{}})),M=_e(0),q=_e(Ae({title:"Graphe personnalisé",vertices:[],edges:[]})),E=_e(0),C=R(()=>{if(e(M)==="custom")return e(q);{const B=F[e(M)];return{...B,vertices:B.vertices.map(({x:J,y:oe})=>({x:J/5,y:oe/5}))}}});function c(B){const J=[];let oe=B.length-1;for(let se=0;se<oe;se++){let ce=B[se],he=B[se+1];ce!=="raise"&&he!=="raise"&&(ce>he&&([he,ce]=[ce,he]),J.push([ce,he]))}return J}let y=R(()=>c(e($).position)),w=R(()=>e($).position.filter(B=>B==="raise").length),T=R(()=>e(y).length===e(C).edges.length);function m(B,J,oe){return J>oe&&([oe,J]=[J,oe]),B.findIndex(se=>se[0]===J&&se[1]===oe)!==-1}function S(B){const J=e($).position.at(-1);return B==="raise"?typeof J=="number"?[...e($).position,B]:null:typeof J=="number"&&(m(e(y),B,J)||!m(e(C).edges,B,J))?null:[...e($).position,B]}const Q={play:S,isLevelFinished:()=>e(T),initialPosition:()=>[],objective:"minimize",score:()=>e(w),scoreHash:()=>e(M)==="custom"?null:""+e(M)};Q.updateScore=()=>Qr(e($),Q,!0,"onNewRecord");let K=R(()=>`Tu as réussi en ${e(w)} levé${e(w)>1?"s":""}`);const H=["red","green","magenta","orange","gray","cyan","black","blue"];let D=R(()=>{let B=[],J="",oe=0,se=0,ce=null;for(const he of e($).position)if(he==="raise")oe+=.5,B.push({path:J,length:oe,start:se}),J="",se+=oe,oe=0,ce=null;else{const{x:V,y:U}=e(C).vertices[he];if(J+=`${J===""?"M":"L"} ${100*V} ${100*U}`,ce){let[X,ue]=ce;oe+=Math.sqrt((X-V)**2+(ue-U)**2)}ce=[V,U]}return J!==""&&(oe+=2,B.push({path:J,length:oe,start:se})),B});const Z=()=>e($).dialog="customize";function ne(B){B.vertices.length>0&&(_(q,B,!0),_(M,"custom")),e($).dialog=null}Ee(e($),Q),dt(r,{get methods(){return Q},get board(){return o},get config(){return l},get rules(){return $a},get bestScore(){return u},get custom(){return s},get winTitle(){return e(K)},get model(){return e($)},set model(B){_($,B,!0)}}),Re()}We(["contextmenu","click"]);function Ia(r){const t=new Array(r.size),n=new Array(r.size),o=[...r.AConfs,...r.BConfs];for(const u of o){const s=r.encode(u);t[s]=[],n[s]=[]}for(const u of o)for(const s of r.neighbors(u))t[r.encode(u)].push(s),n[r.encode(s)].push(u);const l=Oa(r,t,n);return{adj:t,reverseAdj:n,attractor:l,...r}}function Oa(r,t,n){const o=new Array(r.size),l=new Array(r.size),u=[];for(const s of r.BConfs){const i=r.encode(s),a=t[i];l[i]=a.length,a.length===0&&(u.push(s),o[i]=1)}for(;u.length>0;){const s=u.shift(),i=r.encode(s),a=o[i];for(const v of n[i]){const b=r.encode(v);!o[b]&&(r.isAConf(v)||--l[b]===0)&&(o[b]=a+1,u.push(v))}}return o}function Fa(r,t){const n=r.adj[r.encode(t)];return ti(n,o=>r.attractor.at(r.encode(o))??1e3)}const Ba=(r,t=ve,n=ve)=>{var o=Ha();let l;ie(u=>l=be(o,"",l,u),[()=>({transform:`translate(${100*t()}px, ${100*n()}px)`})]),d(r,o)},Da=r=>{var t=tu();d(r,t)};function $o(r,t,n){e(t)!==null&&_(n,kr(r),!0)}var Ga=ae('<line class="line2 svelte-l0ojxb"></line><path fill="red"></path>',1),Ha=ae('<use href="#roman" width="6" height="12" x="-3" y="-6" pointer-events="none"></use>'),Ua=(r,t)=>t(null),Za=ae('<line class="line1 svelte-l0ojxb"></line>'),Va=ae('<circle r="3" fill="blue"></circle>'),Wa=ae('<use href="#roman" width="6" height="12" x="-3" y="-6"></use>'),Ja=ae('<use href="#eternal-attack" width="8" height="8" x="-4" y="-4" pointer-events="none"></use>'),Ka=ae('<rect width="10" height="10" x="-5" y="-5" fill="transparent"></rect>'),Ya=(r,t)=>t(),Qa=ge('<div class="ui-board board svelte-l0ojxb"><svg viewBox="0 0 100 100"><!><!><!><!><!><!><!></svg> <span class="info svelte-l0ojxb"><!></span> <button class="ui-button ui-button-primary validate svelte-l0ojxb">Valider</button></div>'),Xa=ge("<!> <!> <!> <!>",1),eu=ge("<!> <!> <!> <!>",1),tu=ge(`<strong>Domination Eternelle</strong> est un jeu à deux joueurs: un <strong>attaquant</strong> et un <strong>défenseur</strong>.<br/> Au début de la partie, le défenseur choisit des sommets sur lesquels poser des <strong>gardes</strong>.<br/> Ensuite, à chaque tour, l'attaquant choisit d'attaquer un sommet puis le défenseur doit <strong>déplacer</strong> un de ses gardes vers le sommet attaqué à la condition que celui soit <strong>adjacent</strong> au garde.<br/> Si le défenseur ne peut pas déplacer de garde, il perd la partie.<br/> La partie peut ne pas avoir de fin. Le but est de déterminer le nombre minimum
  de gardes pour défendre infiniment toute attaque.<br/> Dans une variante, le défenseur peut déplacer <strong>plusieurs gardes</strong> à chaque tour.`,1);function ru(r,t){je(t,!0);const n=(N,Y=ve,le=ve,fe=ve,pe=ve)=>{var Me=Ga(),Pe=te(Me),Le=g(Pe);ie(Ce=>{I(Pe,"x1",Y()),I(Pe,"y1",le()),I(Pe,"x2",fe()),I(Pe,"y2",pe()),I(Le,"d",Ce)},[()=>ue(Y(),le(),fe(),pe())]),d(N,Me)},o=N=>{var Y=Qa(),le=re(Y);le.__pointerdown=[$o,S,k],le.__pointermove=[$o,S,k],le.__pointerup=[Ua,xe];var fe=re(le);Se(fe,17,()=>e(p).edges,Te,(Ne,De)=>{var Ge=R(()=>Mt(e(De),2));let Je=()=>e(Ge)[0],nt=()=>e(Ge)[1];const tt=R(()=>{const{x1:wt,x2:tr,y1:ar,y2:pt}=Vr(e(p),Je(),nt());return{x1:wt,x2:tr,y1:ar,y2:pt}});var ot=Za();ie(()=>{I(ot,"x1",100*e(tt).x1),I(ot,"x2",100*e(tt).x2),I(ot,"y1",100*e(tt).y1),I(ot,"y2",100*e(tt).y2)}),d(Ne,ot)});var pe=g(fe);{var Me=Ne=>{var De=$e(),Ge=te(De);Se(Ge,17,()=>e(y),Te,(Je,nt,tt)=>{const ot=R(()=>e(c).position.guards[tt]);var wt=$e(),tr=te(wt);{var ar=pt=>{const Dt=R(()=>{const{x1:rr,y1:tn,x2:_n,y2:pn}=Vr(e(p),e(ot),e(nt));return{x1:rr,y1:tn,x2:_n,y2:pn}});n(pt,()=>100*e(Dt).x1,()=>100*e(Dt).y1,()=>100*e(Dt).x2,()=>100*e(Dt).y2)};ye(tr,pt=>{e(ot)!==e(nt)&&pt(ar)})}d(Je,wt)}),d(Ne,De)};ye(pe,Ne=>{e(m)=="many"&&Ne(Me)})}var Pe=g(pe);Se(Pe,17,()=>e(p).vertices,Te,(Ne,De)=>{let Ge=()=>e(De).x,Je=()=>e(De).y;var nt=Va();ie(()=>{I(nt,"cx",100*Ge()),I(nt,"cy",100*Je())}),d(Ne,nt)});var Le=g(Pe);Se(Le,17,()=>e(c).position.guards,Te,(Ne,De)=>{var Ge=Wa();let Je;ie(nt=>{Fe(Ge,0,Be(["guard",{nomove:e(w)==="preparation"}]),"svelte-l0ojxb"),Je=be(Ge,"",Je,nt)},[()=>({transform:X(e(p).vertices[e(De)])})]),d(Ne,Ge)});var Ce=g(Le);{var Ue=Ne=>{var De=Ja();let Ge;ie(Je=>Ge=be(De,"",Ge,Je),[()=>({transform:X(e(p).vertices[e(c).position.attacked])})]),d(Ne,De)};ye(Ce,Ne=>{e(c).position.attacked!==null&&Ne(Ue)})}var Ze=g(Ce);Se(Ze,17,()=>e(p).vertices,Te,(Ne,De,Ge)=>{var Je=Ka();Je.__click=()=>de(Ge),Je.__pointerdown=tt=>we(tt,Ge),Je.__pointerup=()=>xe(Ge);let nt;ie((tt,ot)=>{Fe(Je,0,tt,"svelte-l0ojxb"),nt=be(Je,"",nt,ot)},[()=>Be({sel:e(w)==="preparation"||e(c).position.attacked!==null&&e(c).position.guards.includes(Ge)||e(c).position.attacked===null&&!e(c).position.guards.includes(Ge)}),()=>({transform:X(e(De))})]),d(Ne,Je)});var Tt=g(Ze);{var At=Ne=>{Ba(Ne,()=>e(k).x,()=>e(k).y)};ye(Tt,Ne=>{e(S)!==null&&e(k)!==null&&Ne(At)})}var jt=g(le,2),Xt=re(jt);{var xt=Ne=>{var De=Mr("Le sommet attaqué ne peut être défendu");d(Ne,De)},er=Ne=>{var De=$e(),Ge=te(De);{var Je=tt=>{var ot=Mr("Choisis la position initiale des gardes");d(tt,ot)},nt=tt=>{var ot=$e(),wt=te(ot);{var tr=pt=>{var Dt=Mr("Déplace un garde vers le sommet attaqué");d(pt,Dt)},ar=pt=>{var Dt=Mr("Choisis un sommet à attaquer");d(pt,Dt)};ye(wt,pt=>{e(c).position.attacked!==null?pt(tr):pt(ar,!1)},!0)}d(tt,ot)};ye(Ge,tt=>{e(w)==="preparation"?tt(Je):tt(nt,!1)},!0)}d(Ne,De)};ye(Xt,Ne=>{e(H)?Ne(xt):Ne(er,!1)})}var qt=g(jt,2);qt.__click=[Ya,D],ie(()=>qt.disabled=e(z)===0||e(w)==="game"&&e(m)==="one"),et("pointerleave",le,()=>_(S,null)),d(N,Y)},l=N=>{gt(N,{title:"Domination éternelle",children:(Y,le)=>{var fe=eu(),pe=te(fe);ee(pe,()=>Qe,(Ce,Ue)=>{Ue(Ce,{title:"Type de graphe",values:["path","cycle","biclique","grid"],get selected(){return e(T)},text:["#graph-path","#graph-cycle","#graph-biclique","#graph-grid"],get disabled(){return e(c).locked},tooltip:["Chemin","Cycle","Biclique","Grille"],setter:Ze=>Ee(e(c),U,()=>ze(Ze)),children:(Ze,Tt)=>{var At=$e(),jt=te(At);{let Xt=R(()=>e(T)==="custom");ee(jt,()=>He,(xt,er)=>{er(xt,{text:"#customize",tooltip:"Créé ton propre graphe",get selected(){return e(Xt)},get disabled(){return e(c).locked},onclick:qe})})}d(Ze,At)},$$slots:{default:!0}})});var Me=g(pe,2);ee(Me,()=>Qe,(Ce,Ue)=>{Ue(Ce,{title:"Règles",values:["one","many"],get selected(){return e(m)},text:["1","∞","#graph-biclique"],get disabled(){return e(c).locked},tooltip:["Un seul garde peut se déplacer","Plusieurs gardes peuvent se déplacer"],setter:Ze=>Ee(e(c),U,()=>_(m,Ze,!0))})});var Pe=g(Me,2);ee(Pe,()=>gn,(Ce,Ue)=>{Ue(Ce,{get methods(){return U},get model(){return e(c)},set model(Ze){_(c,Ze,!0)}})});var Le=g(Pe,2);ee(Le,()=>Xe,(Ce,Ue)=>{Ue(Ce,{title:"Options",children:(Ze,Tt)=>{var At=Xa(),jt=te(At);ee(jt,()=>Ft,(qt,Ne)=>{Ne(qt,{get methods(){return U},get model(){return e(c)},set model(De){_(c,De,!0)}})});var Xt=g(jt,2);ee(Xt,()=>Bt,(qt,Ne)=>{Ne(qt,{get methods(){return U},get model(){return e(c)},set model(De){_(c,De,!0)}})});var xt=g(Xt,2);ee(xt,()=>vt,(qt,Ne)=>{Ne(qt,{get methods(){return U},get model(){return e(c)},set model(De){_(c,De,!0)}})});var er=g(xt,2);ee(er,()=>ft,(qt,Ne)=>{Ne(qt,{get model(){return e(c)},set model(De){_(c,De,!0)}})}),d(Ze,At)},$$slots:{default:!0}})}),d(Y,fe)}})},u=N=>{ws(N,{onOk:me})},s=(N,Y,le)=>N[Y].includes(le);function*i(N,Y,le=0){if(le===Y.length)yield Y;else for(const fe of i(N,Y,le+1)){yield fe;for(const pe of N[fe[le]])yield fe.with(le,pe)}}function a(N,Y){return Ke(0,N.length).filter(le=>!Y.includes(le)).map(le=>[...Y,le])}function*v(N,Y){const le=Y[Y.length-1],fe=Y.slice(0,-1);for(let pe=0;pe<fe.length;pe++)if(s(N,fe[pe],le)){const Me=fe.with(pe,le);Me.sort((Pe,Le)=>Pe-Le),yield Me}}function*b(N,Y){const le=Y.slice(),fe=le.pop();for(const pe of i(N,le,0)){const Me=pe.slice();Me.sort((Pe,Le)=>Pe-Le),Cn(Me)&&Me.includes(fe)&&(yield Me)}}const h={attackerMoves:a,guardsMoves:v},f={attackerMoves:a,guardsMoves:b},A=N=>N==="one"?h:f,P=(N,Y,le)=>Fa(N,Y.concat(le));function G(N,Y){const le=N.encode(Y);if(!N.attractor[le])return null;const fe=N.adj[le];return Tn(fe,Me=>N.attractor[N.encode(Me)]||1e3).at(-1)}function L(N,Y,le){const fe=N.length,pe=A(Y),Me=ri(N.length,le),Pe=[];for(const Ce of Me)for(let Ue=0;Ue<fe;Ue++)Ce.includes(Ue)||Pe.push(Ce.concat(Ue));const Le={size:fe+1<<le,AConfs:Me,BConfs:Pe,isAConf:Ce=>Ce.length===le,neighbors:Ce=>Ce.length===le?pe.attackerMoves(N,Ce):Array.from(pe.guardsMoves(N,Ce)),encode:Ce=>{let Ue=0;const Ze=Ce[le];for(let Tt=0;Tt<le;Tt++)Ue+=1<<Ce[Tt];return Ze!==void 0&&(Ue+=Ze+1<<fe),Ue}};return Ia(Le)}const O=N=>({title:"Chemin",vertices:Ct(N,Y=>({x:.5+.35*Math.cos(2*Y*Math.PI/N),y:.5+.35*Math.sin(2*Y*Math.PI/N)})),edges:Ct(N-1,Y=>[Y,Y+1])});function W(N){const Y=O(N);return Y.title="Cycle",Y.edges.push([0,N-1]),Y}function F(N,Y){const le=Math.max(N,Y);return{title:"Grille",vertices:or(N,Y,(fe,pe)=>({x:.15+.7*fe/(le-1),y:.1+.7*pe/(le-1)})),edges:[...or(N,Y-1,(fe,pe)=>[fe*Y+pe,fe*Y+pe+1]),...or(N-1,Y,(fe,pe)=>[fe*Y+pe,fe*Y+pe+Y])]}}const $=(N,Y)=>(console.log(Y,N),{title:"Biclique",vertices:Ct(Y+N,le=>({x:le<Y?.2:.8,y:.75-.7*(le<Y?le:le-Y)/(le<Y?Y:N)})),edges:or(Y,N,(le,fe)=>[le,fe+Y])});function M(N,Y,le){N[Y].push(le),N[le].push(Y)}function q(N,Y){const le=Ct(N,()=>[]);for(const[fe,pe]of Y)M(le,fe,pe);return le}function E(N){if(N.length===0)return[[]];const Y=[];for(let le=0;le<N.length;le++){const fe=N[le],pe=N.toSpliced(le,1),Me=E(pe);for(const Pe of Me)Y.push([fe].concat(Pe))}return Y}function C(N,Y,le){const fe=E(le).filter(pe=>pe.every((Me,Pe)=>Me===Y[Pe]||s(N,Me,Y[Pe])));return Tn(fe,pe=>hs(pe,(Me,Pe)=>Me!==Y[Pe]))}let c=_e(Ae({...ct({guards:[],attacked:null}),rows:6,columns:0,customSize:!0,mode:"duel"})),y=_e(Ae([])),w=_e("preparation"),T=_e("path"),m=_e("one"),S=_e(null),k=_e(null),x=_e(Ae({title:"Graphe personnalisé",vertices:[],edges:[]})),p=R(()=>{switch(e(T)){case"path":return O(e(c).rows);case"cycle":return W(e(c).rows);case"biclique":return $(e(c).rows,e(c).columns);case"grid":return F(e(c).rows,e(c).columns);default:return e(x)}}),z=R(()=>e(c).position.guards.length),j=R(()=>q(e(p).vertices.length,e(p).edges)),Q=R(()=>e(c).mode==="duel"?null:L(e(j),e(m),e(z))),K=R(()=>{switch(e(T)){case"grid":return{minRows:2,minCols:2,maxRows:5,maxCols:5};case"biclique":return{minRows:1,minCols:1,maxRows:6,maxCols:0};case"custom":return{minRows:0,minCols:0,maxRows:0,maxCols:0};default:return{minRows:3,minCols:0,maxRows:11,maxCols:0}}}),H=R(()=>{const N=e(c).position.attacked;return N!==null&&e(c).position.guards.every(Y=>!s(e(j),Y,N))});function D(){e(w)==="preparation"?(_(w,"game"),e(c).computerStarts=!1):lt(e(c),U,e(y))}function Z(N,Y,le,fe){if(N===Y||s(e(j),N,Y)){const pe=le.indexOf(N);pe!==-1&&(fe[pe]=Y)}}function ne(N){if(e(c).position.attacked===null)return!1;const Y=e(c).position.guards;return N.includes(e(c).position.attacked)&&Y.every((le,fe)=>le===N[fe]||s(e(j),le,N[fe]))&&Cn(N)}function B(N){return typeof N=="number"?e(c).position.guards.includes(N)||e(c).position.attacked!==null?null:{...e(c).position,attacked:N}:e(c).position.attacked===null||!ne(N)?null:{guards:N,attacked:null}}const J=()=>({guards:[],attacked:null});function oe(){_(y,[],!0),_(w,"preparation"),e(c).computerStarts=!0}const se=()=>e(H);function ce(){_(y,e(c).position.guards.slice(),!0)}function he(){if(e(H))return null;const{guards:N,attacked:Y}=e(c).position;if(Y!==null){const le=N.filter(pe=>s(e(j),pe,Y)),fe=N.slice();return Z(qn(le),Y,fe,fe),fe}else{const le=Ke(0,e(p).vertices.length).filter(fe=>!N.includes(fe));return qn(le)}}function V(){if(e(H))return null;if(!e(Q)||e(c).mode==="random")return he();const{guards:N,attacked:Y}=e(c).position;if(Y!==null){const le=P(e(Q),N,Y);return!le||e(m)==="one"?le:C(e(j),N,le)}else{const le=G(e(Q),N);return le!==null?le:he()}}const U={play:B,initialPosition:J,onNewGame:oe,isLevelFinished:se,computerMove:V,onPositionChange:ce},X=({x:N,y:Y})=>`translate(${100*N}%,${100*Y}%)`;function ue(N,Y,le,fe){const Me=le-N,Pe=fe-Y,Le=Math.sqrt(Me*Me+Pe*Pe),Ce=Math.acos(Me/Le),Ue=Pe>=0?2*Math.PI-Ce:Ce,Ze=le+6*Math.sin(Ue-Math.PI/3),Tt=fe+6*Math.cos(Ue-Math.PI/3),At=le+6*Math.sin(Ue-2*Math.PI/3),jt=fe+6*Math.cos(Ue-2*Math.PI/3);return`M${le} ${fe}L${Ze} ${Tt}L${At} ${jt}z`}function de(N){const{guards:Y,attacked:le}=e(c).position;if(e(w)==="preparation"){const fe=Y.indexOf(N);fe===-1?e(c).position={attacked:le,guards:[...Y,N]}:Y.splice(fe,1)}else if(le===null)lt(e(c),U,N);else if(e(m)==="one"){const fe=Y.slice();Z(N,le,fe,fe),lt(e(c),U,fe)}}function we(N,Y){e(m)==="many"&&e(c).position.guards.includes(Y)&&e(c).position.attacked!==null&&(N.currentTarget?.releasePointerCapture(N.pointerId),_(S,Y,!0))}function xe(N){e(S)!==null&&(Z(e(S),N??e(S),e(c).position.guards,e(y)),_(S,null))}const ze=N=>Ee(e(c),U,()=>{switch(_(T,N,!0),N){case"path":case"cycle":e(c).columns=0,e(c).rows=6;break;case"grid":e(c).columns=3,e(c).rows=3;break;case"biclique":e(c).columns=2,e(c).rows=5}}),qe=()=>e(c).dialog="customize";function me(N){N.vertices.length>0&&(_(x,N,!0),_(T,"custom")),e(c).dialog=null}const ke="L'attaquant gagne";Ee(e(c),U),dt(r,{get methods(){return U},get board(){return o},get config(){return l},get custom(){return u},get rules(){return Da},get sizeLimit(){return e(K)},winTitle:ke,get model(){return e(c)},set model(N){_(c,N,!0)}}),Re()}We(["pointerdown","pointermove","pointerup","click"]);const nu=r=>{var t=hu();d(r,t)};var ou=ae('<g class="svelte-rpizk8"><path fill="none" stroke="black" stroke-width="3" class="svelte-rpizk8"></path><line x1="153" y1="9" x2="207" y2="20" stroke="black" stroke-dasharray="5" stroke-width="6" class="svelte-rpizk8"></line><line x1="153" y1="7" x2="153" y2="39" stroke="black" stroke-width="3.0" class="svelte-rpizk8"></line><line x1="207" y1="18" x2="207" y2="50" stroke="black" stroke-width="3.0" class="svelte-rpizk8"></line></g>'),su=(r,t,n)=>t(r,n()),lu=(r,t,n)=>{r.preventDefault(),e(t)[n()]=!e(t)[n()]},iu=ae('<use href="#lily"></use>'),au=ae('<g class="frog-container svelte-rpizk8"><use href="#frog2" x="-20" y="-30" width="40" height="40"></use></g>'),uu=ae('<text class="index svelte-rpizk8"> </text>'),cu=ae('<use href="#frog2" width="20" height="20" class="frog marked svelte-rpizk8"></use>'),du=ae("<!><!><!><!>",1),vu=ge('<div class="ui-board board svelte-rpizk8"><svg viewBox="-190 -200 400 400" class="svelte-rpizk8"><!><!><!></svg> <span class="turn-message svelte-rpizk8"> </span></div>'),fu=ge("<!> <!> <!> <!> <!>",1),gu=ge("<!> <!> <!>",1),hu=ge(`Le jeu de la <strong class="svelte-rpizk8">grenouille</strong> est un jeu à <strong class="svelte-rpizk8">deux joueurs</strong>.<br class="svelte-rpizk8"/> A chaque tour, un joueur peut <strong class="svelte-rpizk8">avancer</strong> la grenouille d'un nombre de cases parmi ceux
  indiqués dans <strong class="svelte-rpizk8">Déplacements autorisés</strong>.<br class="svelte-rpizk8"/> Le premier joueur à atteindre le <strong class="svelte-rpizk8">nénuphar final</strong> a gagné.<br class="svelte-rpizk8"/> Pour éviter une situation bloquante, un joueur peut se déplacer vers le nénuphar
  final en utilisant <strong class="svelte-rpizk8">moins</strong> de déplacements que ce qui lui est autorisé.<br class="svelte-rpizk8"/> Tu peux placer des indices sur les nénuphars avec un <strong class="svelte-rpizk8">clic droit</strong> ou <strong class="svelte-rpizk8">shift + clic gauche</strong>.`,1);function _u(r,t){je(t,!0);const n=p=>{var z=ou(),j=re(z);ie(()=>I(j,"d",y)),d(p,z)},o=(p,z=ve,j=ve,Q=ve,K=ve,H=ve)=>{var D=iu();D.__click=[su,x,z],D.__contextmenu=[lu,v,z],ie(()=>{Fe(D,0,Be(["lily",{reachable:K(),hidden:H()}]),"svelte-rpizk8"),I(D,"x",z()===0?j()-30:j()-24),I(D,"y",z()===0?Q()-45:Q()-24),I(D,"width",z()===0?80:48),I(D,"height",z()===0?80:48)}),d(p,D)},l=p=>{const z=R(()=>{const{theta:H,radius:D}=e(m);return{theta:H,radius:D}});var j=au();let Q;var K=re(j);ie(H=>{Q=be(j,"",Q,H),Fe(K,0,Be(["frog",{goal:e(i).position===0}]),"svelte-rpizk8")},[()=>({transform:`${q(e(z).theta)??""} translate(${e(z).radius??""}px, 0px) ${q(-e(z).theta)??""}`})]),d(p,j)},u=p=>{var z=vu();be(z,"",{},{width:"80vmin",height:"80vmin"});var j=re(z),Q=re(j);n(Q);var K=g(Q);Se(K,17,()=>e(T),Te,(ne,B,J)=>{var oe=du(),se=te(oe);o(se,()=>J,()=>e(B).x,()=>e(B).y,()=>!1,()=>!1);var ce=g(se);o(ce,()=>J,()=>e(B).x,()=>e(B).y,()=>!0,()=>!e(F)[J]||e(i).locked);var he=g(ce);{var V=ue=>{var de=uu(),we=re(de);ie(()=>{I(de,"x",e(B).x),I(de,"y",e(B).y),it(we,e(i).rows-J)}),d(ue,de)};ye(he,ue=>{e(i).help&&ue(V)})}var U=g(he);{var X=ue=>{var de=cu();ie(()=>{I(de,"x",e(B).x-20),I(de,"y",e(B).y-20)}),d(ue,de)};ye(U,ue=>{e(v)[J]&&J!==e(i).position&&ue(X)})}d(ne,oe)});var H=g(K);l(H);var D=g(j,2),Z=re(D);ie(()=>it(Z,e(S))),d(p,z)},s=p=>{gt(p,{title:"La grenouille",children:(z,j)=>{var Q=gu(),K=te(Q);ee(K,()=>Oi,(Z,ne)=>{ne(Z,{title:"Déplacements autorisés",values:[1,2,3,4,5],get selected(){return e(a)},get disabled(){return e(i).locked},setter:M})});var H=g(K,2);ee(H,()=>gn,(Z,ne)=>{ne(Z,{get methods(){return W},get model(){return e(i)},set model(B){_(i,B,!0)}})});var D=g(H,2);ee(D,()=>Xe,(Z,ne)=>{ne(Z,{title:"Options",children:(B,J)=>{var oe=fu(),se=te(oe);ee(se,()=>Rr,(X,ue)=>{ue(X,{get model(){return e(i)},set model(de){_(i,de,!0)}})});var ce=g(se,2);ee(ce,()=>Ft,(X,ue)=>{ue(X,{get methods(){return W},get model(){return e(i)},set model(de){_(i,de,!0)}})});var he=g(ce,2);ee(he,()=>Bt,(X,ue)=>{ue(X,{get methods(){return W},get model(){return e(i)},set model(de){_(i,de,!0)}})});var V=g(he,2);ee(V,()=>vt,(X,ue)=>{ue(X,{get methods(){return W},get model(){return e(i)},set model(de){_(i,de,!0)}})});var U=g(V,2);ee(U,()=>ft,(X,ue)=>{ue(X,{get model(){return e(i)},set model(de){_(i,de,!0)}})}),d(B,oe)},$$slots:{default:!0}})}),d(z,Q)}})};let i=_e(Ae({...ct(20),mode:"expert",rows:20,columns:0,customSize:!0})),a=_e(Ae([1,2,3])),v=_e(Ae([]));const b=p=>{const z=e(i).position,j=Math.max(...e(a));return e(a).includes(z-p)||z>0&&p==0&&z<=j};let h=R(()=>{const p=e(i).rows,z=new Array(p+1);z[0]=!0;for(let j=1;j<=p;j++)z[j]=e(a).every(Q=>j-Q>=0&&!z[j-Q]);return z});const W={play:p=>b(p)?p:null,isLevelFinished:()=>e(i).position===0,initialPosition:()=>e(i).rows,onNewGame:()=>_(v,Ve(e(i).rows,!1),!0),possibleMoves:()=>Ke(0,e(i).rows+1).filter(b),isLosingPosition:()=>e(h)[e(i).position]};let F=R(()=>Ct(e(i).rows+1,b));const $={minRows:5,maxRows:30,minCols:0,maxCols:0};function M(p){const z=[1,2,3,4,5].filter(j=>j===p!=e(a).includes(j));z.length>0&&Ee(e(i),W,()=>_(a,z,!0))}const q=p=>`rotate(${p*180/Math.PI}deg)`;function E(p,z,j,Q){const K=(Q-z)/(p-j);return{x:K,y:p*K+z}}function C(p){return{x:p.radius*Math.cos(p.theta),y:p.radius*Math.sin(p.theta)}}function c(p,z,j,Q,K,H){const D=[];for(let ne=Q;ne<=K;ne+=H){const B=j/(2*Math.PI),J=z+B*ne,oe={x:p.x+J*Math.cos(ne),y:p.y+J*Math.sin(ne)},se=(B*Math.sin(ne)+J*Math.cos(ne))/(B*Math.cos(ne)-J*Math.sin(ne)),ce=-(se*J*Math.cos(ne)-J*Math.sin(ne));D.push({point:oe,slope:se,intercept:ce})}let Z=`M${D[0].point.x} ${D[0].point.y}`;for(let ne=0;ne<D.length-1;ne++){const B=D[ne],J=D[ne+1],{x:oe,y:se}=E(B.slope,B.intercept,J.slope,J.intercept);Z+=`Q${oe+p.x} ${se+p.y} ${J.point.x} ${J.point.y}`}return Z}const y=c({x:0,y:0},0,61,0,37/6*Math.PI,Math.PI/6);let w=R(()=>{const p=e(i).rows;return Ke(0,p+1).map(z=>{const j=Math.sqrt(z==p?21:z*20/p)*1.36*Math.PI,Q=61*j/(2*Math.PI);return{theta:j,radius:Q}}).toReversed()}),T=R(()=>e(w).map(C)),m=R(()=>e(w)[e(i).position]),S=R(()=>ys(e(i),W)),k=R(()=>Yn(e(i)));const x=(p,z)=>{p.shiftKey?e(v)[z]=!e(v)[z]:lt(e(i),W,z)};Ee(e(i),W),dt(r,{get methods(){return W},get board(){return u},get config(){return s},get rules(){return nu},get winTitle(){return e(k)},get sizeLimit(){return $},get model(){return e(i)},set model(p){_(i,p,!0)}}),Re()}We(["click","contextmenu"]);const Mo=(r,t,n)=>{t()!==null&&_(n,kr(r),!0)};var pu=(r,t)=>t(null),mu=ae("<svg><!><!></svg>");function hn(r,t){je(t,!0);let n=Kt(t,"dragged",15),o=_e(null);var l=mu();l.__pointerdown=[Mo,n,o],l.__pointermove=[Mo,n,o],l.__pointerup=[pu,n];var u=re(l);at(u,()=>t.children);var s=g(u);{var i=a=>{var v=$e(),b=te(v);at(b,()=>t.draggedElement,()=>`transform:translate(${100*e(o).x}%,${100*e(o).y}%);`),d(a,v)};ye(s,a=>{n()!=null&&e(o)&&a(i)})}ie(()=>{I(l,"viewBox",t.viewBox),Fe(l,0,Be(t.class)),be(l,t.style)}),et("pointerleave",l,()=>n(null)),d(r,l),Re()}We(["pointerdown","pointermove","pointerup"]);var yu=ae("<g><!></g>");function Wt(r,t){je(t,!0);let n=Kt(t,"dragged",15),o=R(()=>!!t.droppable&&n()!==null&&t.methods.play({from:n(),to:t.id})!==null);function l(a){a.currentTarget?.releasePointerCapture(a.pointerId),n(t.id)}function u(a){a.stopPropagation(),n()!==null&&lt(t.model,t.methods,{from:n(),to:t.id}),n(null)}var s=yu(),i=re(s);{let a=R(()=>n()!==null&&(t.equals?t.equals(n(),t.id):n()===t.id));at(i,()=>t.render,()=>t.argument,()=>e(a),()=>e(o),()=>t.draggable?l:void 0,()=>t.droppable?u:void 0)}d(r,s),Re()}const bu=(r,t=ve)=>{var n=ku();ie(()=>I(n,"d",`M${t()*60+14} 99a3 3 0 0 1 0 -6h20a3 3 0 0 0 3 -3v-80a3 3 0 0 1 6 0v80 a3 3 0 0 0 3 3h20a3 3 0 0 1 0 6z`)),d(r,n)},xu=(r,t=ve,n=ve,o=ve,l=ve,u=ve)=>{var s=$u();s.__pointerdown=function(...i){l()?.apply(this,i)},s.__pointerup=function(...i){u()?.apply(this,i)},ie(()=>I(s,"x",13+60*t())),d(r,s)},wu=r=>{var t=Eu();d(r,t)};var ku=ae('<path stroke="blue" stroke-width="0.5" fill="#d43"></path>'),Pu=ae('<rect height="10"></rect>'),$u=ae('<rect y="10" width="54" height="90" fill="transparent"></rect>'),Mu=ae('<g pointer-events="none"><!></g>'),Su=ge("<!> <!> <!>",1),zu=ge('<div class="ui-board board svelte-1ah0lv1"><!> <div class="moves svelte-1ah0lv1"> </div></div>'),Tu=ge("<!> <!> <!> <!>",1),qu=ge("<!> <!>",1),Eu=ge(`Le but des <strong>Tours de Hanoi</strong> est de déplacer tous les <strong>disques</strong> sur la tour
  de <strong>droite</strong> avec les contraintes suivantes: <ul><li>tu peux déplacer un <strong>seul disque</strong> disque à la fois;</li> <li>tu ne peux pas déplacer un disque sur un disque <strong>plus petit</strong> que lui.</li></ul>`,1);function Cu(r,t){je(t,!0);const n=(L,O,W=ve,F=ve,$=ve,M=ve)=>{var q=R(()=>Mt(O?.(),4));let E=()=>e(q)[0],C=()=>e(q)[1],c=()=>e(q)[2],y=()=>e(q)[3];var w=Pu();w.__pointerdown=function(...T){$()?.apply(this,T)},w.__pointerup=function(...T){M()?.apply(this,T)},ie(()=>{I(w,"x",E()-25+2.5*c()),I(w,"y",C()-7),I(w,"width",50-5*c()),Fe(w,0,Be(["disk",{dragged:W()&&y()}]),"svelte-1ah0lv1"),I(w,"fill",A[c()])}),d(L,w)},o=(L,O=ve)=>{var W=Mu(),F=re(W);{let $=R(()=>[0,0,e(s).position[e(a)].at(-1),!1]);n(F,()=>e($),()=>!1,()=>!1)}ie(()=>be(W,O())),d(L,W)},l=L=>{var O=zu(),W=re(O);hn(W,{viewBox:"0 0 200 100",get draggedElement(){return o},get dragged(){return e(a)},set dragged(M){_(a,M,!0)},children:(M,q)=>{var E=$e(),C=te(E);Se(C,17,()=>e(s).position,Te,(c,y,w)=>{var T=Su(),m=te(T);bu(m,()=>w);var S=g(m,2);Wt(S,{get methods(){return f},id:w,argument:w,get render(){return xu},droppable:!0,get model(){return e(s)},set model(x){_(s,x,!0)},get dragged(){return e(a)},set dragged(x){_(a,x,!0)}});var k=g(S,2);Se(k,17,()=>e(y),Te,(x,p,z)=>{const j=R(()=>z===e(y).length-1);{let Q=R(()=>[40+60*w,90-10*z,e(p),e(j)]);Wt(x,{get methods(){return f},id:w,get argument(){return e(Q)},get render(){return n},get draggable(){return e(j)},get model(){return e(s)},set model(K){_(s,K,!0)},get dragged(){return e(a)},set dragged(K){_(a,K,!0)}})}}),d(c,T)}),d(M,E)},$$slots:{default:!0}});var F=g(W,2),$=re(F);ie(()=>it($,`${e(P)??""} coup${e(P)>1?"s":""}`)),d(L,O)},u=L=>{gt(L,{title:"Tours de Hanoi",children:(O,W)=>{var F=qu(),$=te(F);ee($,()=>Qe,(q,E)=>{E(q,{title:"Nombre de disques",values:[4,5,6,7,8],get selected(){return e(i)},setter:C=>Ee(e(s),f,()=>_(i,C,!0))})});var M=g($,2);ee(M,()=>Xe,(q,E)=>{E(q,{title:"Options",children:(C,c)=>{var y=Tu(),w=te(y);ee(w,()=>Ft,(k,x)=>{x(k,{get methods(){return f},get model(){return e(s)},set model(p){_(s,p,!0)}})});var T=g(w,2);ee(T,()=>Bt,(k,x)=>{x(k,{get methods(){return f},get model(){return e(s)},set model(p){_(s,p,!0)}})});var m=g(T,2);ee(m,()=>vt,(k,x)=>{x(k,{get methods(){return f},get model(){return e(s)},set model(p){_(s,p,!0)}})});var S=g(m,2);ee(S,()=>ft,(k,x)=>{x(k,{get model(){return e(s)},set model(p){_(s,p,!0)}})}),d(C,y)},$$slots:{default:!0}})}),d(O,F)}})};let s=_e(Ae(ct([]))),i=_e(4),a=_e(null);function v({from:L,to:O}){const W=e(s).position,F=W[L].at(-1);if(L===O||F===void 0||F<(W[O].at(-1)??-1))return null;const $=W[L].slice(0,-1);return W.with(L,$).with(O,W[O].concat([F]))}const f={play:v,initialPosition:()=>[Ke(0,e(i)),[],[]],isLevelFinished:()=>e(s).position[0].length===0&&e(s).position[1].length===0},A=["blue","red","green","magenta","orange","gray","cyan"];let P=R(()=>e(s).history.length),G=R(()=>`Tu as gagné en ${e(P)} étapes`);Ee(e(s),f),dt(r,{get methods(){return f},get board(){return l},get config(){return u},get rules(){return wu},get winTitle(){return e(G)},get model(){return e(s)},set model(L){_(s,L,!0)}}),Re()}We(["pointerdown","pointerup"]);const Lu=(r,t=ve)=>{var n=Ru();ie(()=>be(n,t())),d(r,n)},Au=r=>{var t=Bu();d(r,t)};var ju=ae('<g><rect></rect><text y="3" class="peg-text svelte-1nm4zdv"> </text></g>'),Ru=ae('<rect x="-15" y="-15" width="30" height="30" class="cursor svelte-1nm4zdv"></rect>'),Nu=ge('<div class="board-container svelte-1nm4zdv"><div class="ui-board"><!></div></div>'),Iu=ge("<!> <!> <!> <!>",1),Ou=ge("<!> <!> <!>",1),Fu=ge('<div class="bestscore-container svelte-1nm4zdv"><div class="ui-board"><svg></svg></div></div>'),Bu=ge(`À chaque tour de ce jeu, tu peux déplacer une pile de jetons vers une case adjacente
  qui contient au moins autant de jetons.<br/> Le but est de finir la partie avec le moins de cases contenant des piles de jetons.`,1);function Du(r,t){je(t,!0);const n=(O,W,F=ve,$=ve,M=ve,q=ve)=>{var E=R(()=>Mt(W?.(),2));let C=()=>e(E)[0],c=()=>e(E)[1];const y=R(()=>C()/e(s).columns|0),w=R(()=>C()%e(s).columns);var T=ju();let m;var S=re(T);S.__pointerdown=function(...p){M()?.apply(this,p)},S.__pointerup=function(...p){q()?.apply(this,p)};var k=g(S),x=re(k);ie((p,z)=>{m=be(T,"",m,p),Fe(S,0,Be(["peg",{dragged:F(),droppable:$()}]),"svelte-1nm4zdv"),I(S,"fill",`rgb(255 ${z??""} 0)`),I(S,"filter",`drop-shadow(${c()/2}px ${c()/2}px 0.5px #656565)`),it(x,c())},[()=>({transform:`translate(${25+50*e(w)}px,${25+50*e(y)}px)`}),()=>255*(1-Math.sqrt(c()/(e(s).rows*e(s).columns)))]),d(O,T)},o=O=>{var W=Nu(),F=re(W),$=re(F);{let M=R(()=>50*e(s).columns),q=R(()=>50*e(s).rows);hn($,{get viewBox(){return`0 0 ${e(M)??""} ${e(q)??""}`},get draggedElement(){return Lu},get dragged(){return e(i)},set dragged(E){_(i,E,!0)},children:(E,C)=>{var c=$e(),y=te(c);Se(y,17,()=>e(s).position,Te,(w,T,m)=>{var S=$e(),k=te(S);{var x=p=>{{let z=R(()=>[m,e(T)]);Wt(p,{get methods(){return P},id:m,get argument(){return e(z)},draggable:!0,droppable:!0,get render(){return n},get model(){return e(s)},set model(j){_(s,j,!0)},get dragged(){return e(i)},set dragged(j){_(i,j,!0)}})}};ye(k,p=>{e(T)!==0&&p(x)})}d(w,S)}),d(E,c)},$$slots:{default:!0}})}ie(M=>be(F,M),[()=>Ot(e(s).rows,e(s).columns,3)]),d(O,W)},l=O=>{gt(O,{title:"Jeu d'acquisition",children:(W,F)=>{var $=Ou(),M=te($);ee(M,()=>Nr,(C,c)=>{c(C,{get methods(){return P},values:[[2,2],[4,4],[5,5],[6,6]],customSize:!0,get model(){return e(s)},set model(y){_(s,y,!0)}})});var q=g(M,2);ee(q,()=>Xe,(C,c)=>{c(C,{title:"Options",children:(y,w)=>{var T=Iu(),m=te(T);ee(m,()=>Ft,(p,z)=>{z(p,{get methods(){return P},get model(){return e(s)},set model(j){_(s,j,!0)}})});var S=g(m,2);ee(S,()=>Bt,(p,z)=>{z(p,{get methods(){return P},get model(){return e(s)},set model(j){_(s,j,!0)}})});var k=g(S,2);ee(k,()=>vt,(p,z)=>{z(p,{get methods(){return P},get model(){return e(s)},set model(j){_(s,j,!0)}})});var x=g(k,2);ee(x,()=>ft,(p,z)=>{z(p,{get model(){return e(s)},set model(j){_(s,j,!0)}})}),d(y,T)},$$slots:{default:!0}})});var E=g(q,2);ee(E,()=>Xr,(C,c)=>{c(C,{get methods(){return P},get model(){return e(s)},set model(y){_(s,y,!0)}})}),d(W,$)}})},u=(O,W=ve)=>{var F=Fu(),$=re(F),M=re($);Se(M,21,W,Te,(q,E,C)=>{var c=$e(),y=te(c);{var w=T=>{n(T,()=>[C,e(E)],()=>!1,()=>!1)};ye(y,T=>{e(E)!==0&&T(w)})}d(q,c)}),ie(q=>{be($,q),I(M,"viewBox",`0 0 ${50*e(s).columns} ${50*e(s).rows}`)},[()=>Ot(e(s).rows,e(s).columns,3)]),d(O,F)};let s=_e(Ae({...ct([]),rows:4,columns:4,customSize:!1,scores:{}})),i=_e(null);function a({from:O,to:W}){const F=e(s).position,[$,M]=Yr(e(s).columns,O,W),q=F[O],E=F[W];return q>0&&q<=E&&$*$+M*M===1?F.with(O,0).with(W,q+E):null}const P={play:a,isLevelFinished:()=>{const O=e(s).position,W=e(s).columns;return O.every((F,$)=>{let M=($+1)%W==0?0:O[$+1],q=O[$+W]??0;return F*(M+q)===0})},initialPosition:()=>Ve(e(s).rows*e(s).columns,1),score:()=>e(s).position.filter(O=>O>0).length,scoreHash:()=>`${e(s).rows},${e(s).columns}`,objective:"minimize"};P.updateScore=()=>Qr(e(s),P,!0,"always");const G={minRows:1,minCols:2,maxRows:6,maxCols:12};let L=R(()=>{const O=P.score(),W=O>1?"s":"";return`${O} case${W} restante${W}`});Ee(e(s),P),dt(r,{get methods(){return P},get board(){return o},get config(){return l},get rules(){return Au},get bestScore(){return u},get winTitle(){return e(L)},get sizeLimit(){return G},get model(){return e(s)},set model(O){_(s,O,!0)}}),Re()}We(["pointerdown","pointerup"]);const Gu=r=>{var t=sc();d(r,t)};var Hu=ae('<rect class="zone svelte-1u1tplt"></rect> #',1),Uu=ae('<use href="#trap" x="-20" y="-20" width="40" height="40" class="pointer svelte-1u1tplt"></use>'),Zu=(r,t)=>{r.shiftKey&&_(t,kr(r),!0)},Vu=(r,t)=>_(t,kr(r),!0),Wu=ae('<use href="#grass" width="50" height="50"></use><rect width="50" height="50" class="square-borders svelte-1u1tplt"></rect>',1),Ju=ae('<use href="#trap" width="40" height="40" pointer-events="none"></use>'),Ku=ae('<use href="#paw" width="40" height="40"></use>'),Yu=ge('<div class="container svelte-1u1tplt"><div class="ui-board"><svg><!><!><!><!><!></svg></div> <div class="color svelte-1u1tplt"></div></div>'),Qu=ge("<!> <!> <!>",1),Xu=ge("<!> <!> <!> <!> <!>",1),ec=ae('<use href="#trap" width="40" height="40"></use>'),tc=ae('<use href="#grass" width="50" height="50"></use><rect width="50" height="50" class="square-borders svelte-1u1tplt"></rect><!>',1),rc=ge('<div class="bestscore-container svelte-1u1tplt"><div class="ui-board"><svg></svg></div></div>'),nc=ae('<use href="#grass" width="50" height="50"></use><rect width="50" height="50" class="square-borders svelte-1u1tplt"></rect><use href="#paw" width="40" height="40"></use>',1),oc=ge('<div class="custombeast-container svelte-1u1tplt"><svg viewBox="0 0 250 250"></svg></div>'),sc=ge(`Place le moins de <strong>pièges</strong> possible pour empêcher la <strong>bête</strong> d'abîmer ta belle pelouse !<br/> Tu peux choisir de jouer avec des bêtes de différentes formes comme celles prédéfinies dans <strong>Forme de la bête</strong>.<br/> Dans le dernier choix, la bête peut prendre l'une ou l'autre des formes indiquées.<br/> Le plateau de jeu peut prendre une <strong>grille</strong>, un <strong>cylindre</strong> ou un <strong>tore</strong>.<br/> <br/> Pour t'aider, tu peux <strong>colorier</strong> les zones en la sélectionnant à la souris
  et en maintenant <strong>shift</strong> enfoncé.<br/> Tu peux changer de couleur à l'aide des flèches gauche et droite du clavier.`,1);function lc(r,t){je(t,!0);const n=V=>{var U=$e(),X=te(U);{var ue=de=>{const we=R(()=>{const{x:me,y:ke}=e(O);return{x1:me,y1:ke}}),xe=R(()=>{const{x:me,y:ke}=e(L);return{x2:me,y2:ke}});var ze=Hu(),qe=te(ze);ie((me,ke,N,Y)=>{I(qe,"x",`${me??""}%`),I(qe,"y",`${ke??""}%`),I(qe,"width",`${N??""}%`),I(qe,"height",`${Y??""}%`),I(qe,"fill",se[e(G)])},[()=>100*Math.min(e(we).x1,e(xe).x2),()=>100*Math.min(e(we).y1,e(xe).y2),()=>100*Math.abs(e(xe).x2-e(we).x1),()=>100*Math.abs(e(xe).y2-e(we).y1)]),d(de,ze)};ye(X,de=>{e(O)&&e(L)&&de(ue)})}d(V,U)},o=V=>{var U=$e(),X=te(U);{var ue=de=>{const we=R(()=>{const{x:qe,y:me}=e(L);return{x:qe,y:me}});var xe=Uu();let ze;ie(qe=>ze=be(xe,"",ze,qe),[()=>({transform:`translate(${100*e(we).x}%, ${100*e(we).y}%)`})]),d(de,xe)};ye(X,de=>{!e(O)&&e(L)&&de(ue)})}d(V,U)},l=V=>{var U=Yu(),X=re(U),ue=re(X);ue.__pointerdown=[Zu,O],ue.__pointermove=[Vu,L];var de=re(ue);Se(de,17,()=>e(F),Te,(N,Y,le)=>{const fe=R(()=>{const[Le,Ce]=mt(e(f).columns,le);return{row:Le,col:Ce}});var pe=Wu(),Me=te(pe),Pe=g(Me);Pe.__pointerdown=Le=>he(Le,le),Pe.__pointerup=()=>B(le),Pe.__click=Le=>{Le.shiftKey||lt(e(f),D,le)},ie(()=>{I(Me,"x",50*e(fe).col),I(Me,"y",50*e(fe).row),I(Me,"fill",se[e(Y)]),I(Pe,"x",50*e(fe).col),I(Pe,"y",50*e(fe).row)}),d(N,pe)});var we=g(de);Se(we,17,()=>e(f).position,Te,(N,Y,le)=>{const fe=R(()=>{const[Le,Ce]=mt(e(f).columns,le);return{row:Le,col:Ce}});var pe=$e(),Me=te(pe);{var Pe=Le=>{var Ce=Ju();ie(()=>{I(Ce,"x",50*e(fe).col+5),I(Ce,"y",50*e(fe).row+5)}),d(Le,Ce)};ye(Me,Le=>{e(Y)&&Le(Pe)})}d(N,pe)});var xe=g(we);Se(xe,17,()=>e(S),Te,(N,Y,le)=>{const fe=R(()=>{const[Me,Pe]=mt(e(f).columns,le);return{row:Me,col:Pe}});var pe=Ku();ie(()=>{I(pe,"x",50*e(fe).col+5),I(pe,"y",50*e(fe).row+5),Fe(pe,0,Be(["beast",{visible:e(f).help&&e(Y)}]),"svelte-1u1tplt")}),d(N,pe)});var ze=g(xe);n(ze);var qe=g(ze);o(qe);var me=g(X,2);let ke;ie((N,Y)=>{be(X,N),I(ue,"viewBox",`0 0 ${50*e(f).columns} ${50*e(f).rows}`),ke=be(me,"",ke,Y)},[()=>Ot(e(f).rows,e(f).columns,5),()=>({"background-color":se[e(G)]})]),et("pointerleave",ue,()=>_(O,_(L,null),!0)),d(V,U)},u=V=>{gt(V,{title:"La bête",children:(U,X)=>{var ue=Xu(),de=te(ue);ee(de,()=>Qe,(me,ke)=>{ke(me,{title:"Forme de la bête",values:["type1","type2","type3","type4","custom"],text:["#beast1","#beast2","#beast3","#beast23","#customize"],get selected(){return e(P)},setter:N=>Ee(e(f),D,()=>Z(N))})});var we=g(de,2);ee(we,()=>Qe,(me,ke)=>{ke(me,{title:"Type de la grille",values:["standard","cylinder","torus"],text:["#grid-normal","#grid-cylinder","#grid-torus"],tooltip:["Normale","Cylindrique","Torique"],get selected(){return e(A)},setter:N=>Ee(e(f),D,()=>_(A,N,!0))})});var xe=g(we,2);ee(xe,()=>Nr,(me,ke)=>{ke(me,{get methods(){return D},values:[[3,3],[5,5],[6,6]],customSize:!0,get model(){return e(f)},set model(N){_(f,N,!0)}})});var ze=g(xe,2);ee(ze,()=>Xe,(me,ke)=>{ke(me,{title:"Options",children:(N,Y)=>{var le=Qu(),fe=te(le);ee(fe,()=>Rr,(Pe,Le)=>{Le(Pe,{interaction:"press",get model(){return e(f)},set model(Ce){_(f,Ce,!0)}})});var pe=g(fe,2);ee(pe,()=>vt,(Pe,Le)=>{Le(Pe,{get methods(){return D},get model(){return e(f)},set model(Ce){_(f,Ce,!0)}})});var Me=g(pe,2);ee(Me,()=>ft,(Pe,Le)=>{Le(Pe,{get model(){return e(f)},set model(Ce){_(f,Ce,!0)}})}),d(N,le)},$$slots:{default:!0}})});var qe=g(ze,2);ee(qe,()=>Xr,(me,ke)=>{ke(me,{get methods(){return D},get model(){return e(f)},set model(N){_(f,N,!0)}})}),d(U,ue)}})},s=(V,U=ve)=>{var X=rc(),ue=re(X),de=re(ue);Se(de,21,U,Te,(we,xe,ze)=>{const qe=R(()=>{const[fe,pe]=mt(e(f).columns,ze);return{row:fe,col:pe}});var me=tc(),ke=te(me),N=g(ke),Y=g(N);{var le=fe=>{var pe=ec();ie(()=>{I(pe,"x",50*e(qe).col+5),I(pe,"y",50*e(qe).row+5)}),d(fe,pe)};ye(Y,fe=>{e(xe)&&fe(le)})}ie(()=>{I(ke,"x",50*e(qe).col),I(ke,"y",50*e(qe).row),I(ke,"fill",se[0]),I(N,"x",50*e(qe).col),I(N,"y",50*e(qe).row)}),d(we,me)}),ie(we=>{be(ue,we),I(de,"viewBox",`0 0 ${50*e(f).columns} ${50*e(f).rows}`)},[()=>Ot(e(f).rows,e(f).columns,5)]),d(V,X)},i=V=>{hr(V,{title:"Personnalise ta bête",onOk:()=>e(f).dialog=null,children:(U,X)=>{var ue=oc(),de=re(ue);Se(de,21,()=>e(k),Te,(we,xe,ze,qe)=>{const me=R(()=>{const[fe,pe]=mt(5,ze);return{row:fe,col:pe}});var ke=nc(),N=te(ke),Y=g(N);Y.__click=()=>ne(ze);var le=g(Y);ie(()=>{I(N,"x",50*e(me).col),I(N,"y",50*e(me).row),I(N,"fill",se[0]),I(Y,"x",50*e(me).col),I(Y,"y",50*e(me).row),I(le,"x",50*e(me).col+5),I(le,"y",50*e(me).row+5),Fe(le,0,Be(["beast",{visible:e(xe)}]),"svelte-1u1tplt")}),d(we,ke)}),d(U,ue)}})},a=[[0,0],[0,1]],v=[[0,0],[0,1],[0,-1]],b=[[0,0],[0,1],[1,1]],h=[[a],[v],[b],[v,b]];let f=_e(Ae({...ct([]),rows:5,columns:5,customSize:!1,scores:{}})),A=_e("standard"),P=_e("type1"),G=_e(0),L=_e(null),O=_e(null),W=_e(null),F=_e(Ae([])),$=Ae([[]]),M=R(()=>{switch(e(P)){case"type1":return h[0];case"type2":return h[1];case"type3":return h[2];case"type4":return h[3];default:return $}});const q=V=>V.map(([U,X])=>[-X,U]),E=(V,U,X)=>V.map(([ue,de])=>[ue+U,de+X]);function C(V){const U=q(V),X=q(U),ue=q(X);return[V,U,X,ue]}const c=V=>or(e(f).rows,e(f).columns,(U,X)=>E(V,U,X));function y(V){const U=[];for(const X of V)for(const ue of C(X))for(const de of c(ue))U.push(de);return U}const w=V=>V.map(([U,X])=>{switch(e(A)){case"standard":return[U,X];case"cylinder":return[U,Gr(X,e(f).columns)];default:return[Gr(U,e(f).rows),Gr(X,e(f).columns)]}}),T=V=>V[28921%V.length];let m=R(()=>{const V=e(f).rows,U=e(f).columns,X=ue=>ue.every(([de,we])=>de>=0&&de<V&&we>=0&&we<U&&!e(f).position[de*U+we]);return y(e(M)).map(w).filter(X)}),S=R(()=>{const V=Ve(e(f).rows*e(f).columns,!1);if(e(m).length>0){const U=T(e(m));for(const[X,ue]of U)V[X*e(f).columns+ue]=!0}return V}),k=R(()=>{const V=Ve(25,!1);for(const[U,X]of $[0])V[U*5+X+12]=!0;return V});const x=V=>e(f).position.with(V,!e(f).position[V]),p=()=>e(m).length===0,z=()=>Ve(e(f).rows*e(f).columns,!1);function j(){_(F,Ve(e(f).rows*e(f).columns,0),!0)}const Q="minimize",K=()=>hs(e(f).position,V=>V),D={play:x,isLevelFinished:p,initialPosition:z,onNewGame:j,objective:Q,score:K,scoreHash:()=>e(P)==="custom"?null:`${e(f).columns},${e(f).rows},${e(A)},${e(P)}`};D.updateScore=()=>Qr(e(f),D,!0,"onNewRecord");function Z(V){_(P,V,!0),V==="custom"&&(e(f).dialog="customize",e(f).rows=Math.max(e(f).rows,5),e(f).columns=Math.max(e(f).columns,5))}function ne(V){let[U,X]=mt(5,V);U-=2,X-=2;let ue=$[0].findIndex(([de,we])=>de===U&&we===X);ue===-1?$[0].push([U,X]):$[0].slice(ue,1)}function B(V){if(e(W)!==null){let[U,X]=mt(e(f).columns,V),[ue,de]=mt(e(f).columns,e(W));U>ue&&([U,ue]=[ue,U]),X>de&&([X,de]=[de,X]);for(let we=U;we<=ue;we++)for(let xe=X;xe<=de;xe++)e(F)[we*e(f).columns+xe]=e(G)}_(W,null),_(O,null)}const J={minRows:2,minCols:2,maxRows:9,maxCols:9};let oe=R(()=>`Record: ${K()} pièges`);const se=["#5aa02c","blue","red","yellow","magenta","cyan","orange","darkgreen","grey"];function ce(V){V.code==="ArrowLeft"?_(G,(e(G)+8)%9):V.code==="ArrowRight"&&_(G,(e(G)+1)%9)}const he=(V,U)=>{V.shiftKey&&(V.currentTarget?.releasePointerCapture(V.pointerId),_(W,U,!0))};Ee(e(f),D),et("keydown",Hr,ce),dt(r,{get methods(){return D},get board(){return l},get config(){return u},get rules(){return Gu},get sizeLimit(){return J},get winTitle(){return e(oe)},get bestScore(){return s},get custom(){return i},get model(){return e(f)},set model(V){_(f,V,!0)}}),Re()}We(["pointerdown","pointermove","pointerup","click"]);const ic=(r,t=ve,n=ve,o=ve,l=ve)=>{var u=dc();u.__click=function(...A){l()?.apply(this,A)};var s=re(u),i=re(s),a=re(i);{var v=A=>{var P=uc();d(A,P)};ye(a,A=>{n()&&A(v)})}var b=g(i,2),h=re(b);{var f=A=>{var P=cc();d(A,P)};ye(h,A=>{n()&&A(f)})}ie(()=>{be(u,o()),Fe(s,1,Be(["square-inner",{light:t()}]),"svelte-1apmgi4")}),d(r,u)},ac=r=>{var t=hc();d(r,t)};var uc=ae('<svg class="cross svelte-1apmgi4"><use href="#cross"></use></svg>'),cc=ae('<svg class="cross svelte-1apmgi4"><use href="#cross"></use></svg>'),dc=ge('<div class="square svelte-1apmgi4"><div><div class="blanc svelte-1apmgi4"><!></div> <div class="noir svelte-1apmgi4"><!></div></div></div>'),vc=ge('<div class="board-container svelte-1apmgi4"><div class="ui-board"></div></div>'),fc=ge("<!> <!> <!>",1),gc=ge("<!> <!> <!>",1),hc=ge(`Le but de <strong>Tout noir, tout blanc</strong> est de <strong>retourner</strong> pour que toutes soient face noire.<br/> La difficulté est que lorsque tu retournes une tuile, les tuiles <strong>adjacentes</strong> sont également retournées.<br/> Ce jeu possède différents <strong>niveaux débloqués</strong> au fur et à mesure ainsi que d'autres modes de jeu.
  Selon le mode choisi, les règles pour retourner les tuiles changent.`,1);function _c(r,t){je(t,!0);const n=C=>{const c=R(()=>e(l).rows),y=R(()=>e(l).columns);var w=vc(),T=re(w);Se(T,21,()=>e(l).position.light,Te,(m,S,k)=>{const x=R(()=>k/e(l).columns|0),p=R(()=>k%e(l).columns),z=R(()=>`width:${86/e(y)}%;height:${86/e(c)}%;left:${(100*e(p)+7)/e(y)}%;top:${(100*e(x)+7)/e(c)}%;`);ic(m,()=>e(S),()=>e(l).help&&e(l).position.played[k],()=>e(z),()=>()=>L(k))}),ie(m=>be(T,m),[()=>Ot(e(l).rows,e(l).columns,4)]),d(C,w)},o=C=>{gt(C,{title:"Tout noir, tout blanc",children:(c,y)=>{var w=gc(),T=te(w);ee(T,()=>Qe,(k,x)=>{x(k,{title:"Mode de jeu",values:[0,1,2,3],text:p=>`#lo-mode${p+1}`,get selected(){return e(u)},setter:O})});var m=g(T,2);ee(m,()=>Qe,(k,x)=>{x(k,{title:"Difficulté",values:[0,1,2,3,4,5,6],text:p=>$(p,p<=i[e(u)]),tooltip:p=>q(p,p<=i[e(u)]),disabled:p=>p>i[e(u)],get selected(){return e(s)},setter:W})});var S=g(m,2);ee(S,()=>Xe,(k,x)=>{x(k,{title:"Options",children:(p,z)=>{var j=fc(),Q=te(j);ee(Q,()=>Rr,(D,Z)=>{Z(D,{get model(){return e(l)},set model(ne){_(l,ne,!0)}})});var K=g(Q,2);ee(K,()=>vt,(D,Z)=>{Z(D,{get methods(){return G},get model(){return e(l)},set model(ne){_(l,ne,!0)}})});var H=g(K,2);ee(H,()=>ft,(D,Z)=>{Z(D,{get model(){return e(l)},set model(ne){_(l,ne,!0)}})}),d(p,j)},$$slots:{default:!0}})}),d(c,w)}})};let l=_e(Ae({...ct({light:[],played:[]}),rows:3,columns:3,customSize:!1,scores:{}})),u=_e(0),s=_e(0),i=Ae([0,1,1,0]);function a(C,c){let[y,w]=Yr(e(l).columns,C,c);return y*y+w*w===1||e(u)%3==0&&C===c||e(u)>=2&&C!==c&&y*w==0}const v=(C,c)=>C.map((y,w)=>y!==a(c,w));function b(C){const{light:c,played:y}=e(l).position;return{light:v(c,C),played:y.with(C,!y[C])}}function h(){const C=e(l).rows*e(l).columns;return{light:Ve(C,!0),played:Ve(C,!1)}}const f=()=>e(l).position.light.every(C=>!C),A=[[3,3],[4,4],[2,10],[3,10],[5,5]];function P(){if(e(s)<5){const[C,c]=A[e(s)];e(l).customSize=!1,e(l).rows=C,e(l).columns=c}else e(l).customSize||(e(l).customSize=!0,e(l).rows=8,e(l).columns=8)}const G={play:b,isLevelFinished:f,initialPosition:h,onNewGame:P};async function L(C){await lt(e(l),G,C),G.isLevelFinished()&&(i[e(u)]=e(s)>=4?6:e(s)+(e(u)===0||e(u)===3?1:2),Ee(e(l),G,()=>_(s,Math.min(e(s)+1,6),!0)))}const O=C=>Ee(e(l),G,()=>{_(u,C,!0),_(s,0)}),W=C=>Ee(e(l),G,()=>_(s,C,!0)),F=["3x3","4x4","2x10","3x10","5x5","NxM","#lo-rand"],$=(C,c)=>c?F[C]:"#locked",M=[null,null,null,null,null,"Dimensions personnalisées","Grille aléatoire"],q=(C,c)=>c?M[C]:"Difficulté non débloquée",E={minRows:2,minCols:2,maxRows:12,maxCols:12};Ee(e(l),G),dt(r,{get methods(){return G},get board(){return n},get config(){return o},get rules(){return ac},get sizeLimit(){return E},get model(){return e(l)},set model(C){_(l,C,!0)}}),Re()}We(["click"]);const pc=r=>{var t=Sc();d(r,t)};var mc=ae("<rect></rect>"),yc=(r,t,n,o,l)=>lt(e(t),n,{pile:o(),pos:l()}),bc=ae('<rect class="square svelte-ro5lwe"></rect>'),xc=ae('<use href="#meeple" width="8" height="8" class="player svelte-ro5lwe"></use>'),wc=ae("<!><!>",1),kc=ae("<!><!>",1),Pc=ge('<div class="ui-board board svelte-ro5lwe"><svg viewBox="0 0 100 100"><!><!></svg> <span class="turn-message svelte-ro5lwe"> </span></div>'),$c=ge("<!> <!> <!> <!>",1),Mc=ge("<!> <!> <!> <!>",1),Sc=ge(`Le but de <strong>Bloque moi</strong> si tu peux est d'acculer chacun des jetons de l'adversaire au bord du plateau de telle
  façon qu'il ne puisse <strong>plus en déplacer</strong>.<br/> À chaque tour, tu peux déplacer un de tes jetons vers la <strong>gauche</strong> ou vers la <strong>droite</strong> d'autant de cases que tu veux mais tu
  ne peux pas <strong>sauter</strong> par-dessus un jeton adverse.<br/> Tu es obligé de déplacer un jeton d'au moins une case, tu ne peux pas <strong>passer ton tour</strong>.<br/> Tu gagnes la partie si ton adversaire n'a aucun mouvement possible.`,1);function zc(r,t){je(t,!0);const n=(F,$=ve)=>{var M=mc();ie(()=>{Fe(M,0,`row ${e(a)===5?"row-5":"row-10"}`,"svelte-ro5lwe"),I(M,"y",10+19*$())}),d(F,M)},o=(F,$=ve,M=ve)=>{var q=bc();q.__click=[yc,i,L,$,M];let E;ie(C=>E=be(q,"",E,C),[()=>({transform:`translate(${(e(a)===5?30:5)+10*M()}px, ${15+19*$()}px) rotate(45deg)`,cursor:b({pile:$(),pos:M()})?"pointer":"not-allowed"})]),d(F,q)},l=(F,$=ve,M=ve,q=ve)=>{var E=xc();let C;ie(c=>{I(E,"fill",M()===0?"blue":"red"),C=be(E,"",C,c)},[()=>({transform:`translate(${(e(a)===5?26:1)+10*q()}px, ${11+19*$()}px)`})]),d(F,E)},u=F=>{var $=Pc(),M=re($),q=re(M);Se(q,17,()=>Ke(0,e(v)),Te,(y,w)=>{var T=wc(),m=te(T);n(m,()=>e(w));var S=g(m);Se(S,17,()=>Ke(0,e(a)),Te,(k,x)=>{o(k,()=>e(w),()=>e(x))}),d(y,T)});var E=g(q);Se(E,17,()=>e(i).position,Te,(y,w,T)=>{var m=R(()=>Mt(e(w),2));let S=()=>e(m)[0],k=()=>e(m)[1];var x=kc(),p=te(x);l(p,()=>T,()=>0,S);var z=g(p);l(z,()=>T,()=>1,k),d(y,x)});var C=g(M,2),c=re(C);ie(()=>it(c,e(O))),d(F,$)},s=F=>{gt(F,{title:"Bloque moi si tu peux",children:($,M)=>{var q=Mc(),E=te(q);ee(E,()=>Qe,(w,T)=>{T(w,{title:"Taille des rangées",values:[1,2,3,4,5],get selected(){return e(v)},get disabled(){return e(i).locked},setter:m=>Ee(e(i),L,()=>_(v,m,!0))})});var C=g(E,2);ee(C,()=>Qe,(w,T)=>{T(w,{title:"Taille des rangées",values:[10,5],get selected(){return e(a)},get disabled(){return e(i).locked},setter:m=>Ee(e(i),L,()=>_(a,m,!0))})});var c=g(C,2);ee(c,()=>gn,(w,T)=>{T(w,{get methods(){return L},get model(){return e(i)},set model(m){_(i,m,!0)}})});var y=g(c,2);ee(y,()=>Xe,(w,T)=>{T(w,{title:"Options",children:(m,S)=>{var k=$c(),x=te(k);ee(x,()=>Ft,(Q,K)=>{K(Q,{get methods(){return L},get model(){return e(i)},set model(H){_(i,H,!0)}})});var p=g(x,2);ee(p,()=>Bt,(Q,K)=>{K(Q,{get methods(){return L},get model(){return e(i)},set model(H){_(i,H,!0)}})});var z=g(p,2);ee(z,()=>vt,(Q,K)=>{K(Q,{get methods(){return L},get model(){return e(i)},set model(H){_(i,H,!0)}})});var j=g(z,2);ee(j,()=>ft,(Q,K)=>{K(Q,{get model(){return e(i)},set model(H){_(i,H,!0)}})}),d(m,k)},$$slots:{default:!0}})}),d($,q)}})};let i=_e(Ae({...ct([]),mode:"random"})),a=_e(10),v=_e(4);const b=F=>{const[$,M]=e(i).position[F.pile];return F.pos!=$&&F.pos!=M&&(e(i).turn===1?F.pos<M:F.pos>$)};function h(F){if(!b(F))return null;const[$,M]=e(i).position[F.pile];return e(i).position.with(F.pile,e(i).turn===1?[F.pos,M]:[$,F.pos])}const f=()=>Ct(e(v),()=>e(a)===5?[0,4]:[lr(0,5),lr(5,10)]),A=()=>e(i).position.every(([F,$])=>$-F===1&&F==(e(i).turn===2?e(a)-2:0));function P(){const F=[];for(let M=0;M<e(v);M++)for(let q=0;q<e(a);q++)F.push({pile:M,pos:q});const $=M=>{const[q,E]=e(i).position[M.pile];return e(i).turn===1?q-M.pos:M.pos-E};return F.filter(b).toSorted((M,q)=>$(M)-$(q))}const L={play:h,isLevelFinished:A,initialPosition:f,possibleMoves:P,isLosingPosition:()=>e(i).position.reduce((F,[$,M])=>F^M-$-1,0)===0};let O=R(()=>A()?"Partie finie":e(i).turn===1?"Tour du joueur bleu":"Tour du joueur rouge"),W=R(()=>Yn(e(i)));Ee(e(i),L),dt(r,{get methods(){return L},get board(){return u},get config(){return s},get rules(){return pc},get winTitle(){return e(W)},get model(){return e(i)},set model(F){_(i,F,!0)}}),Re()}We(["click"]);const Tc=(r,t=ve,n=ve,o=ve,l=ve,u=ve,s=ve)=>{var i=Cc();let a;var v=re(i);v.__click=function(...A){s()?.apply(this,A)};var b=g(v);{var h=A=>{var P=Ec();d(A,P)};ye(b,A=>{u()&&A(h)})}var f=g(b);ie(A=>{Fe(i,0,Be({darken:o()}),"svelte-mmrok6"),a=be(i,"",a,A),Fe(f,0,Be(["trap",{visible:l()&&!u()}]),"svelte-mmrok6")},[()=>({transform:`translate(${t()??""}px, ${n()??""}px)`})]),d(r,i)},qc=r=>{var t=Fc();d(r,t)};var Ec=ae('<use href="#paths-door" width="100" height="100" class="svelte-mmrok6"></use>'),Cc=ae('<g><use href="#paths-background" width="100" height="100" class="svelte-mmrok6"></use><!><use href="#paths-trap" width="100" height="100"></use></g>'),Lc=ae('<use href="#meeplehat" width="80" height="80" x="10" y="10" class="hero svelte-mmrok6"></use>'),Ac=ae('<use href="#meeplehat" class="pointer svelte-mmrok6" x="-40" y="-40" width="80" height="80"></use>'),jc=ae('<use href="#paths-door" class="pointer svelte-mmrok6" x="-50" y="-50.0" width="100" height="100"></use>'),Rc=ae("<!><path></path><!>",1),Nc=ge('<div class="board-container svelte-mmrok6"><div class="ui-board svelte-mmrok6"><!></div></div>'),Ic=ge("<!> <!> <!> <!> <!>",1),Oc=ge("<!> <!> <!>",1),Fc=ge(`<p class="svelte-mmrok6">Après moultes péripéties dans le temple maudit de Berge, le professeur <strong class="svelte-mmrok6">Hamilton Jones</strong> se retrouve dans la dernière salle.<br class="svelte-mmrok6"/> Pour sortir de celle-ci, il doit s'enfuir par une porte au-dessous de lui.<br class="svelte-mmrok6"/> Celle-ci ne peut être ouverte qu'en marchant sur chacune des dalles dans la salle.</p> <p class="svelte-mmrok6">Malheureusement, ces dalles sont piégées, le piège se déclenchant peu de temps après avoir marché dessus.<br class="svelte-mmrok6"/> Donc, Hamilton ne <strong class="svelte-mmrok6">ne peut pas remarcher</strong> sur une dalle sur laquelle il a déjà été.<br class="svelte-mmrok6"/> N'ayant plus l'aisance de sa jeunesse, Hamilton ne peut se déplacer que d'une <strong class="svelte-mmrok6">dalle à la fois</strong> et ne peut le faire en <strong class="svelte-mmrok6">diagonale</strong>.</p> <p class="svelte-mmrok6">Trouve un parcours pour résoudre l'énigme. Ca semble facile ?
    Mais, cela est-il possible pour toutes les tailles de grille ?</p> <p class="svelte-mmrok6">Tu remarqueras qu'il n'y a <strong class="svelte-mmrok6">pas</strong> toujours de solution.<br class="svelte-mmrok6"/> Dans le deuxième mode de jeu, tu peux choisir la <strong class="svelte-mmrok6">position de départ</strong> d'Hamilton ainsi que celle de la <strong class="svelte-mmrok6">porte</strong>.<br class="svelte-mmrok6"/> Trouve des critères sur les positions d'Hamilton et de la porte pour qu'une solution soit possible</p>`,1);function Bc(r,t){je(t,!0);const n=(M,q=ve)=>{const E=R(()=>q()/e(s).columns|0),C=R(()=>q()%e(s).columns);var c=Lc();let y;ie(w=>y=be(c,"",y,w),[()=>({transform:`translate(${e(C)*100}px, ${e(E)*100}px)`})]),d(M,c)},o=(M,q=ve,E=ve)=>{var C=$e(),c=te(C);{var y=T=>{var m=Ac();let S;ie(k=>S=be(m,"",S,k),[()=>({transform:`translate(${100*q()}%, ${100*E()}%)`})]),d(T,m)},w=T=>{var m=$e(),S=te(m);{var k=x=>{var p=jc();let z;ie(j=>z=be(p,"",z,j),[()=>({transform:`translate(${100*q()}%, ${100*E()}%)`})]),d(x,p)};ye(S,x=>{e(i)===null&&x(k)},!0)}d(T,m)};ye(c,T=>{e(s).position.length===0?T(y):T(w,!1)})}d(M,C)},l=M=>{var q=Nc(),E=re(q),C=re(E);{let c=R(()=>100*e(s).columns),y=R(()=>100*e(s).rows);en(C,{get pointer(){return o},get viewBox(){return`0 0 ${e(c)??""} ${e(y)??""}`},children:(w,T)=>{var m=Rc(),S=te(m);Se(S,17,()=>e(W),Te,(z,j,Q)=>{const K=R(()=>Q/e(s).columns|0),H=R(()=>Q%e(s).columns);{let D=R(()=>e(j)&&Q!==e(s).position.at(-1)&&!e(v));Tc(z,()=>e(H)*100,()=>e(K)*100,()=>e(s).help&&(e(K)+e(H))%2===0,()=>e(D),()=>Q===e(i),()=>()=>$(Q))}});var k=g(S),x=g(k);{var p=z=>{{let j=R(()=>e(s).position.at(-1));n(z,()=>e(j))}};ye(x,z=>{e(s).position.length>0&&z(p)})}ie(()=>{I(k,"d",e(F)),Fe(k,0,Be(["path",{animate:e(v)}]),"svelte-mmrok6"),I(k,"stroke-dasharray",e(v)?100*e(s).position.length:"0"),I(k,"stroke-dashoffset",e(v)?100*e(s).position.length:"0")}),d(w,m)},$$slots:{default:!0}})}ie(c=>be(E,c),[()=>Ot(e(s).rows,e(s).columns,5)]),d(M,q)},u=M=>{gt(M,{title:"Chemins",children:(q,E)=>{var C=Oc(),c=te(C);ee(c,()=>Qe,(T,m)=>{m(T,{title:"Mode de jeu",values:[1,2],text:["#paths-mode0","#paths-mode1"],tooltip:["Mode 1","Mode 2"],get selected(){return e(a)},setter:S=>Ee(e(s),O,()=>_(a,S,!0))})});var y=g(c,2);ee(y,()=>Nr,(T,m)=>{m(T,{get methods(){return O},values:[[4,6],[5,5],[3,8]],customSize:!0,get model(){return e(s)},set model(S){_(s,S,!0)}})});var w=g(y,2);ee(w,()=>Xe,(T,m)=>{m(T,{title:"Options",children:(S,k)=>{var x=Ic(),p=te(x);ee(p,()=>Rr,(H,D)=>{D(H,{get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var z=g(p,2);ee(z,()=>Ft,(H,D)=>{D(H,{get methods(){return O},get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var j=g(z,2);ee(j,()=>Bt,(H,D)=>{D(H,{get methods(){return O},get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var Q=g(j,2);ee(Q,()=>vt,(H,D)=>{D(H,{get methods(){return O},get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var K=g(Q,2);ee(K,()=>ft,(H,D)=>{D(H,{get model(){return e(s)},set model(Z){_(s,Z,!0)}})}),d(S,x)},$$slots:{default:!0}})}),d(q,C)}})};let s=_e(Ae({...ct([]),rows:4,columns:6,customSize:!1})),i=_e(null),a=_e(1),v=R(()=>e(i)!==null&&e(s).position.length>0&&e(s).position.length==e(s).columns*e(s).rows+(e(i)===e(s).position[0]?1:0));function b(M,q,E){const[C,c]=Yr(M,q,E);return C==0?q<E?Ke(q+1,E+1):Ke(q-1,E-1,-1):c==0?q<E?Ke(q+M,E+1,M):Ke(q-M,E-1,-M):null}function h(M){if(e(i)==null||M.length<=2)return!0;const q=M.slice(1),E=q.slice(0,-1),C=M[0],c=M.at(-1);return Cn(q)&&!E.includes(e(i))&&!E.includes(c)&&(C!==c||M.length===e(s).rows*e(s).columns+(C===e(i)?1:0)&&c===e(i))}function f(M){if(e(s).position.length===0)return e(a)===2?[M]:null;{const q=e(s).position.at(-1),E=b(e(s).columns,q,M);if(E===null||E.length===0)return null;const C=e(s).position.concat(E);return h(C)?C:null}}const A=()=>e(v),P=()=>e(i)===null?[]:[e(i)];function G(){_(i,e(a)===1?lr(0,e(s).rows*e(s).columns):null,!0)}const L={minRows:2,minCols:2,maxRows:9,maxCols:9},O={play:f,isLevelFinished:A,initialPosition:P,onNewGame:G};let W=R(()=>{const M=Ve(e(s).rows*e(s).columns,!1);for(const q of e(s).position)M[q]=!0;return M}),F=R(()=>e(s).position.map((M,q)=>{const E=50+100*(M%e(s).columns),C=50+100*(M/e(s).columns|0);return`${q===0?"M":"L"}${E} ${C}`}).join(""));function $(M){e(s).position.length===0?e(s).position=[M]:e(i)===null?_(i,M,!0):lt(e(s),O,M)}Ee(e(s),O),dt(r,{get methods(){return O},get board(){return l},get config(){return u},get rules(){return qc},get sizeLimit(){return L},get model(){return e(s)},set model(M){_(s,M,!0)}}),Re()}We(["click"]);const wn=(r,t=ve,n=ve)=>{var o=Zc(),l=te(o);Se(l,17,()=>Ke(1,n()),Te,(s,i)=>{var a=Hc();ie(()=>{I(a,"y2",50*t()),I(a,"x1",e(i)*50),I(a,"x2",e(i)*50)}),d(s,a)});var u=g(l);Se(u,17,()=>Ke(1,t()),Te,(s,i)=>{var a=Uc();ie(()=>{I(a,"x2",50*n()),I(a,"y1",e(i)*50),I(a,"y2",e(i)*50)}),d(s,a)}),d(r,o)},Dc=r=>{var t=td();d(r,t)};var Gc=ge('<div class="pieceselector svelte-oa6bbb"></div>'),Hc=ae('<line y1="0" class="line svelte-oa6bbb"></line>'),Uc=ae('<line x1="0" class="line svelte-oa6bbb"></line>'),Zc=ae("<!><!>",1),Vc=ae('<use class="piece svelte-oa6bbb" width="40" height="40"></use>'),Wc=ae('<use width="40" height="40"></use>'),Jc=ae("<rect></rect><!>",1),Kc=ae("<!><!>",1),Yc=ge('<div class="board svelte-oa6bbb"><div class="ui-board board svelte-oa6bbb"><!></div></div>'),Qc=ge('<div class="board-container svelte-oa6bbb"><!> <!></div>'),Xc=ge("<!> <!> <!> <!> <!>",1),ed=ge("<!> <!> <!> <!>",1),td=ge("Place le <strong>plus de pièces</strong> possible sur ta grille sans qu'aucune ne soit <strong>menacée</strong> par une autre pièce.<br/> Tu peux choisir de jouer avec différentes pièces comme celles du <strong>jeu d'échecs.</strong><br/> Le mode <strong>mixte</strong> permet de jouer avec plusieurs pièces différentes.<br/> Tu peux jouer avec une pièce <strong>personnalisée</strong> si tu le souhaites.",1),rd=ae('<use class="piece svelte-oa6bbb" width="40" height="40"></use>'),nd=ae('<rect class="square svelte-oa6bbb"></rect><!>',1),od=ge('<div class="bestscore-container svelte-oa6bbb"><div class="ui-board"><svg><!><!></svg></div></div>'),sd=ae("<rect></rect>"),ld=ge('<div class="custompiece-container svelte-oa6bbb"><div class="ui-board custompiece-grid svelte-oa6bbb"><svg viewBox="0 0 250 250"><!><use class="piece svelte-oa6bbb" href="#piece-custom" x="105" y="105" width="40" height="40"></use><!></svg></div> <div class="custompiece-directions svelte-oa6bbb"></div></div>');function id(r,t){je(t,!0);const n=K=>{var H=Gc();Se(H,21,()=>e(P),Te,(D,Z)=>{var ne=$e(),B=te(ne);{let J=R(()=>e(Z)===e(f));ee(B,()=>He,(oe,se)=>{se(oe,{get text(){return`#piece-${e(Z)??""}`},get selected(){return e(J)},onclick:()=>_(f,e(Z),!0)})})}d(D,ne)}),d(K,H)},o=(K,H=ve,D=ve)=>{var Z=Vc();I(Z,"x",-20),I(Z,"y",-20);let ne;ie(B=>{I(Z,"href",`#piece-${e(f)??""}`),ne=be(Z,"",ne,B)},[()=>({transform:`translate(${100*H()}%, ${100*D()}%)`})]),d(K,Z)},l=K=>{var H=Yc(),D=re(H),Z=re(D);{let ne=R(()=>50*e(h).columns),B=R(()=>50*e(h).rows);en(Z,{get pointer(){return o},get viewBox(){return`0 0 ${e(ne)??""} ${e(B)??""}`},children:(J,oe)=>{var se=Kc(),ce=te(se);Se(ce,17,()=>e(h).position,Te,(V,U,X)=>{const ue=R(()=>50*(X%e(h).columns)),de=R(()=>50*(X/e(h).columns|0));var we=Jc(),xe=te(we);xe.__click=()=>lt(e(h),k,X);var ze=g(xe);{var qe=me=>{var ke=Wc();ie(()=>{Fe(ke,0,Be(["piece",{capturable:e(M)[X]}]),"svelte-oa6bbb"),I(ke,"href",`#piece-${e(U)??""}`),I(ke,"x",e(ue)+5),I(ke,"y",e(de)+5)}),d(me,ke)};ye(ze,me=>{e(U)!==null&&me(qe)})}ie(()=>{I(xe,"x",e(ue)),I(xe,"y",e(de)),Fe(xe,0,Be(["square",{attacked:X===e(A)||e(E)[X],capturable:e(h).help&&(e(U)!==null||e(M)[X])}]),"svelte-oa6bbb")}),et("pointerenter",xe,()=>_(A,X,!0)),et("pointerleave",xe,()=>_(A,null)),d(V,we)});var he=g(ce);wn(he,()=>e(h).rows,()=>e(h).columns),d(J,se)},$$slots:{default:!0}})}ie(ne=>be(D,ne),[()=>Ot(e(h).rows,e(h).columns,5)]),d(K,H)},u=K=>{var H=Qc(),D=re(H);n(D);var Z=g(D,2);l(Z),d(K,H)},s=K=>{gt(K,{title:"Les reines",children:(H,D)=>{var Z=ed(),ne=te(Z);ee(ne,()=>Nr,(se,ce)=>{ce(se,{get methods(){return k},values:[[4,4],[5,5],[7,7],[8,8]],customSize:!0,get model(){return e(h)},set model(he){_(h,he,!0)}})});var B=g(ne,2);ee(B,()=>Xe,(se,ce)=>{ce(se,{title:"Pièces disponibles",children:(he,V)=>{var U=$e(),X=te(U);Se(X,17,()=>v,Te,(ue,de)=>{var we=$e(),xe=te(we);{let ze=R(()=>e(P).includes(e(de))),qe=R(()=>x(e(de)));ee(xe,()=>He,(me,ke)=>{ke(me,{get text(){return`#piece-${e(de)??""}`},get selected(){return e(ze)},get tooltip(){return e(qe)},onclick:()=>z(e(de))})})}d(ue,we)}),d(he,U)},$$slots:{default:!0}})});var J=g(B,2);ee(J,()=>Xe,(se,ce)=>{ce(se,{title:"Options",children:(he,V)=>{var U=Xc(),X=te(U);{let ze=R(()=>e(P)[0]=="custom");ee(X,()=>He,(qe,me)=>{me(qe,{text:"#customize",get selected(){return e(ze)},tooltip:"Crée ta propre pièce",onclick:j})})}var ue=g(X,2);ee(ue,()=>He,(ze,qe)=>{qe(ze,{text:"#piece-mix",tooltip:"Mode mixte",get selected(){return e(G)},onclick:p})});var de=g(ue,2);ee(de,()=>Rr,(ze,qe)=>{qe(ze,{get model(){return e(h)},set model(me){_(h,me,!0)}})});var we=g(de,2);ee(we,()=>vt,(ze,qe)=>{qe(ze,{get methods(){return k},get model(){return e(h)},set model(me){_(h,me,!0)}})});var xe=g(we,2);ee(xe,()=>ft,(ze,qe)=>{qe(ze,{get model(){return e(h)},set model(me){_(h,me,!0)}})}),d(he,U)},$$slots:{default:!0}})});var oe=g(J,2);ee(oe,()=>Xr,(se,ce)=>{ce(se,{get methods(){return k},get model(){return e(h)},set model(he){_(h,he,!0)}})}),d(H,Z)}})},i=(K,H=ve)=>{var D=od(),Z=re(D),ne=re(Z),B=re(ne);Se(B,17,H,Te,(oe,se,ce)=>{const he=R(()=>50*(ce%e(h).columns)),V=R(()=>50*(ce/e(h).columns|0));var U=nd(),X=te(U),ue=g(X);{var de=we=>{var xe=rd();ie(()=>{I(xe,"href",`#piece-${e(se)??""}`),I(xe,"x",e(he)+5),I(xe,"y",e(V)+5)}),d(we,xe)};ye(ue,we=>{e(se)!==null&&we(de)})}ie(()=>{I(X,"x",e(he)),I(X,"y",e(V))}),d(oe,U)});var J=g(B);wn(J,()=>e(h).rows,()=>e(h).columns),ie(oe=>{be(Z,oe),I(ne,"viewBox",`0 0 ${50*e(h).columns} ${50*e(h).rows}`)},[()=>Ot(e(h).rows,e(h).columns,5)]),d(K,D)},a=K=>{hr(K,{title:"Personnalise ta pièce",onOk:()=>e(h).dialog=null,children:(H,D)=>{var Z=ld(),ne=re(Z),B=re(ne),J=re(B);Se(J,17,()=>L,Te,(ce,he,V)=>{const U=R(()=>{const[ue,de]=mt(5,V);return{row:ue,col:de}});var X=sd();X.__click=()=>{V!==12&&(L[V]=!L[V])},ie(()=>{I(X,"x",50*e(U).col),I(X,"y",50*e(U).row),Fe(X,0,Be(["square",{attacked:e(he)}]),"svelte-oa6bbb")}),d(ce,X)});var oe=g(J,2);wn(oe,()=>5,()=>5);var se=g(ne,2);Se(se,21,()=>O,Te,(ce,he,V)=>{var U=$e(),X=te(U);ee(X,()=>He,(ue,de)=>{de(ue,{text:V===4?"":"#arrow",get selected(){return e(he)},get style(){return`transform:rotate(${b[V]??""}deg)`},onclick:()=>{V!==4&&(O[V]=!O[V])}})}),d(ce,U)}),d(H,Z)}})},v=["R","B","K","N","Q"],b=[45,90,135,0,0,180,-45,-90,-135];let h=_e(Ae({...ct([]),rows:8,columns:8,customSize:!1,scores:{}})),f=_e("Q"),A=_e(null),P=_e(Ae(["R"])),G=_e(!1),L=Ae(Ve(25,!1)),O=Ae(Ve(9,!1));function W(K,H,D){switch(K){case"Q":return(H*H-D*D)*H*D==0;case"K":return H*H+D*D<=2;case"R":return H*D==0;case"B":return H*H-D*D==0;case"N":return H*H+D*D==5;default:return!1}}function F(K,H,D){const[Z,ne]=Yr(e(h).columns,H,D);return K!=="custom"?H!==D&&W(K,Z,ne):(Z*Z-ne*ne)*Z*ne===0&&O[3*Math.sign(Z)+Math.sign(ne)+4]||Z*Z+ne*ne<=8&&L[5*Z+ne+12]}const $=(K,H)=>Ct(e(h).rows*e(h).columns,D=>F(K,D,H));let M=R(()=>{const K=e(h).rows*e(h).columns,H=Ve(K,!1);return e(h).position.forEach((D,Z)=>{if(D!==null){const ne=$(D,Z);for(let B=0;B<K;B++)H[B]||=ne[B]}}),H}),q=R(()=>e(h).position.every((K,H)=>K===null||!e(M)[H])),E=R(()=>e(A)===null?Ve(e(h).rows*e(h).columns,!1):$(e(f),e(A)));function C(K){const H=e(h).position[K]===null?e(f):null;return e(h).position.with(K,H)}const k={play:C,isLevelFinished:()=>!1,initialPosition:()=>Ve(e(h).rows*e(h).columns,null),onNewGame:()=>_(f,e(P)[0],!0),objective:"maximize",score:()=>e(q)?e(h).position.filter(K=>K!==null).length:0,scoreHash:()=>e(G)||e(P).includes("custom")?null:`${e(h).rows},${e(h).columns},${e(P)[0]}`};k.updateScore=()=>Qr(e(h),k,!1,"never");function x(K){switch(K){case"Q":return"Reine";case"K":return"Roi";case"R":return"Tour";case"B":return"Fou";case"N":return"Cavalier";default:return"Pièce personnalisée"}}function p(){_(G,!e(G)),e(G)||_(P,e(P).slice(0,1),!0)}function z(K){Ee(e(h),k,()=>{if(e(G)){const H=v.filter(D=>D===K!==e(P).includes(D));H.length>0&&_(P,H,!0)}else _(P,[K],!0)})}const j=()=>Ee(e(h),k,()=>{_(P,["custom"],!0),e(h).dialog="customize",_(G,!1)}),Q={minRows:3,minCols:3,maxRows:9,maxCols:9};Ee(e(h),k),dt(r,{get methods(){return k},get board(){return u},get config(){return s},get rules(){return Dc},get bestScore(){return i},get custom(){return a},get sizeLimit(){return Q},get model(){return e(h)},set model(K){_(h,K,!0)}}),Re()}We(["click"]);var ad=ae('<svg class="pytha-svg2 svelte-vlo16r" viewBox="-1 -1 702 302"><path d="M 0 300 h 300 v -300 h -300 Z L 100 100 M 0 100 h 300 l -200 -100 v 300" fill="transparent" stroke="#000"></path><path d="M 400 300 h 300 v -300 h -300 Z M 400 200 l 200 100 l 100 -200 l -200 -100 l -100 200" fill="transparent" stroke="#000"></path><path d="M 0 300 v -200 h 100 Z" fill="blue" stroke="#000"></path><path d="M 0 300 h 100 v -200 Z" fill="yellow" stroke="#000"></path><path d="M 100 0 h 200 v 100 Z" fill="#00FF00" stroke="#000"></path><path d="M 100 0 v 100 h 200 Z" fill="red" stroke="#000"></path><path d="M 0 300 v -200 h 100 Z" fill="blue" stroke="#000"></path><path d="M 0 300 h 100 v -200 Z" fill="yellow" stroke="#000"></path><path d="M 100 0 h 200 v 100 Z" fill="#00FF00" stroke="#000"></path><path d="M 100 0 v 100 h 200 0 Z" fill="red" stroke="#000"></path><text x="5" y="55" font-size="20">a</text><text x="46" y="16" font-size="20">a</text><text x="105" y="210" font-size="20">b</text><text x="198" y="120" font-size="20">b</text><text x="460" y="98" font-size="20">c</text><text x="595" y="80" font-size="20">c</text></svg>'),ud=(r,t,n)=>t(n),cd=ge(`<h2 class="h2 svelte-vlo16r">Que raconte le théorème de Pythagore?</h2> <p class="center svelte-vlo16r"><svg class="pytha-svg svelte-vlo16r" viewBox="0 -100 200 250"><path d="M 50 50 h 100 v 100 h -100 Z" fill="yellow" stroke="black"></path><path d="M 0 0 h 50 v 50 h -50 Z" fill="yellow" stroke="black"></path><path d="M 50 0 l 100 50 l 50 -100 l -100 -50 Z" fill="#00ff00" stroke="black"></path><text x="90" y="105" font-size="35">a²</text><text x="18" y="35" font-size="35">b²</text><text x="110" y="-10" font-size="35">c²</text></svg></p> <h2 class="h2 svelte-vlo16r">Preuve sans mot due à un auteur chinois inconnu qui vivait vers 200 avant J.-C.</h2> <p class="center svelte-vlo16r"><!></p> <button class="anim-btn svelte-vlo16r">Lancer l'animation</button>`,1),dd=ae('<line class="grid svelte-vlo16r"></line>'),vd=ae('<line x1="-10" x2="1360" class="grid svelte-vlo16r"></line>'),fd=ae('<svg class="caroll-svg svelte-vlo16r" viewBox="-10 -10 1370 270"><path d="M 400 100 h 250 v -100 Z" fill="orange"></path><path d="M 400 200 h 150 v -50 h 100 v -50 h -250 Z" fill="red"></path><path d="M 400 250 h 250 v -100 h -100 v 50 h -150 Z" fill="blue"></path><path d="M 0 250 h 400 v -150 Z" fill="green"></path><path d="M 400 100 h 250 v -100 Z" fill="orange"></path><path d="M 400 200 h 150 v -50 h 100 v -50 h -250 Z" fill="red"></path><path d="M 400 250 h 250 v -100 h -100 v 50 h -150 Z" fill="blue"></path><path d="M 0 250 h 400 v -150 Z" fill="green"></path><!><!></svg>'),gd=(r,t,n)=>t(n),hd=ge(`<h2 class="h2 svelte-vlo16r">Où est passé le carré manquant ?</h2> <p class="center svelte-vlo16r"><!></p> <button class="anim-btn svelte-vlo16r">Lancer l'animation</button>`,1),_d=(r,t)=>t("pythagore"),pd=(r,t)=>t("caroll"),md=ge('<div class="main svelte-vlo16r"><div class="menu svelte-vlo16r"><button class="link svelte-vlo16r">1</button> <button class="link svelte-vlo16r">2</button></div> <div><h1 class="title svelte-vlo16r">Preuves sans mot</h1> <!></div></div>');function yd(r,t){je(t,!0);const n=c=>{const y=R(()=>B=>P[B][e(s)[B]??0]);var w=ad(),T=g(re(w),2),m=g(T),S=g(m),k=g(S),x=g(k),p=g(x),z=g(p),j=g(z),Q=g(j),K=g(Q),H=g(K),D=g(H),Z=g(D),ne=g(Z);ie((B,J,oe,se,ce,he,V,U,X,ue,de,we,xe,ze)=>{be(T,B),be(m,J),be(S,oe),be(k,se),be(x,ce),be(p,he),be(z,V),be(j,U),be(Q,X),be(K,ue),be(H,de),be(D,we),be(Z,xe),be(ne,ze)},[()=>e(y)("a"),()=>e(y)("b"),()=>e(y)("c"),()=>e(y)("d"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e")]),d(c,w)},o=c=>{var y=cd(),w=g(te(y),6),T=re(w);n(T);var m=g(w,2);m.__click=[ud,v,A],d(c,y)},l=c=>{const y=R(()=>H=>L[H][e(s)[H]??0]);var w=fd(),T=re(w),m=g(T),S=g(m),k=g(S),x=g(k),p=g(x),z=g(p),j=g(z),Q=g(j);Se(Q,17,()=>Ke(0,28),Te,(H,D)=>{var Z=dd();I(Z,"y1",-10),I(Z,"y2",260),ie(()=>{I(Z,"x1",50*e(D)),I(Z,"x2",50*e(D))}),d(H,Z)});var K=g(Q);Se(K,17,()=>Ke(0,6),Te,(H,D)=>{var Z=vd();ie(()=>{I(Z,"y1",50*e(D)),I(Z,"y2",50*e(D))}),d(H,Z)}),ie((H,D,Z,ne,B,J,oe,se)=>{be(T,H),be(m,D),be(S,Z),be(k,ne),be(x,B),be(p,J),be(z,oe),be(j,se)},[()=>e(y)("a"),()=>e(y)("b"),()=>e(y)("c"),()=>e(y)("d"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e"),()=>e(y)("e")]),d(c,w)},u=c=>{var y=hd(),w=g(te(y),2),T=re(w);l(T);var m=g(w,2);m.__click=[gd,v,G],d(c,y)};let s=_e(Ae({})),i=_e(!1),a=_e("pythagore");async function v(c){if(!e(i)){_(i,!0),_(s,{},!0);for(const[y,w,T]of c)await Jn(y),e(s)[w]=T;_(i,!1)}}function b(c){e(i)||_(a,c,!0)}const h="transform:translate(0px, 0px);",f=(c,y,w,T)=>`transform: translate(${c}px, ${y}px);transition: transform linear ${T}ms;`,A=[[500,"a",1],[200,"a",2],[600,"b",1],[200,"b",2],[600,"c",1],[200,"c",2],[600,"d",1],[200,"d",2],[600,"e",1]],P={a:["opacity: 0;",h,f(400,-100,0,600)],b:["opacity: 0;",h,f(600,0,0,600)],c:["opacity: 0;",h,f(400,0,0,600)],d:["opacity: 0;",h,f(300,200,0,600)],e:["opacity: 0;",""]},G=[[700,"a",1],[700,"b",1],[700,"c",1],[700,"d",1],[600,"e",1]],L={a:[h,f(300,150,0,600)],b:[h,f(550,50,0,600)],c:[h,f(700,0,0,600)],d:[h,f(950,-100,0,600)],e:["opacity: 0;",""]};var O=md(),W=re(O),F=re(W);F.__click=[_d,b];var $=g(F,2);$.__click=[pd,b];var M=g(W,2),q=g(re(M),2);{var E=c=>{o(c)},C=c=>{var y=$e(),w=te(y);{var T=m=>{u(m)};ye(w,m=>{e(a)==="caroll"&&m(T)},!0)}d(c,y)};ye(q,c=>{e(a)==="pythagore"?c(E):c(C,!1)})}d(r,O),Re()}We(["click"]);const bd=(r,t=ve)=>{var n=$d();ie(()=>be(n,t())),d(r,n)},xd=r=>{var t=Mr("todo");d(r,t)};var wd=ae('<rect x="-25.0" y="-25.0" width="50" height="50"></rect>'),kd=ae('<!><circle r="17"></circle>',1),Pd=ae('<circle r="20"></circle>'),$d=ae('<circle r="20" width="30" height="30" class="cursor svelte-bnfj6e"></circle>'),Md=ae('<circle cx="125" cy="125" r="90" class="circle svelte-bnfj6e"></circle>'),Sd=ae("<!><!><!>",1),zd=ge('<div class="ui-board"><!></div>'),Td=ge('<div class="board-container svelte-bnfj6e"><!></div>'),qd=ge('<div class="scoredialog svelte-bnfj6e"><!></div>'),Ed=ge("<!> <!> <!> <!> <!>",1),Cd=ge("<!> <!> <!>",1);function Ld(r,t){je(t,!0);const n=(m,S=ve,k=ve,x=ve,p=ve,z=ve)=>{var j=kd(),Q=te(j);{var K=Z=>{var ne=wd();let B;ie((J,oe)=>{I(ne,"fill",J),B=be(ne,"",B,oe)},[()=>w(S()),()=>({transform:y(S())})]),d(Z,ne)};ye(Q,Z=>{e(b)>0&&e(h)!=="circle"&&Z(K)})}var H=g(Q);H.__pointerdown=function(...Z){p()?.apply(this,Z)},H.__pointerup=function(...Z){z()?.apply(this,Z)};let D;ie(Z=>{Fe(H,0,Be(["hole",{droppable:x()}]),"svelte-bnfj6e"),D=be(H,"",D,Z)},[()=>({transform:y(S())})]),d(m,j)},o=(m,S=ve,k=ve,x=ve,p=ve,z=ve)=>{var j=Pd();j.__pointerdown=function(...K){p()?.apply(this,K)},j.__pointerup=function(...K){z()?.apply(this,K)};let Q;ie(K=>{Fe(j,0,Be(["peg",{dragged:k()}]),"svelte-bnfj6e"),Q=be(j,"",Q,K)},[()=>({transform:y(S())})]),d(m,j)},l=(m,S=ve,k=ve)=>{var x=zd(),p=re(x);{let z=R(()=>e(h)==="circle"?"0 0 250 250":`0 0 ${50*e(a).columns} ${50*e(a).rows}`);hn(p,{get viewBox(){return e(z)},get draggedElement(){return bd},get dragged(){return e(f)},set dragged(j){_(f,j,!0)},children:(j,Q)=>{var K=Sd(),H=te(K);{var D=B=>{var J=Md();d(B,J)};ye(H,B=>{e(h)==="circle"&&B(D)})}var Z=g(H);Se(Z,17,()=>e(v),Te,(B,J,oe)=>{var se=$e(),ce=te(se);{var he=V=>{Wt(V,{get methods(){return C},id:oe,argument:oe,get droppable(){return k()},get render(){return n},get model(){return e(a)},set model(U){_(a,U,!0)},get dragged(){return e(f)},set dragged(U){_(f,U,!0)}})};ye(ce,V=>{e(J)&&V(he)})}d(B,se)});var ne=g(Z);Se(ne,17,S,Te,(B,J,oe)=>{var se=$e(),ce=te(se);{var he=V=>{Wt(V,{get methods(){return C},id:oe,argument:oe,get draggable(){return k()},get render(){return o},get model(){return e(a)},set model(U){_(a,U,!0)},get dragged(){return e(f)},set dragged(U){_(f,U,!0)}})};ye(ce,V=>{e(J)&&V(he)})}d(B,se)}),d(j,K)},$$slots:{default:!0}})}ie(z=>be(x,z),[()=>e(h)==="circle"?"width:100%;height:100%;":Ot(e(a).rows,e(a).columns,5)]),d(m,x)},u=m=>{var S=Td(),k=re(S);l(k,()=>e(a).position,()=>!0),d(m,S)},s=(m,S=ve)=>{var k=qd(),x=re(k);l(x,S,()=>!1),d(m,k)},i=m=>{gt(m,{title:"Les reines",children:(S,k)=>{var x=Cd(),p=te(x);ee(p,()=>Qe,(Q,K)=>{K(Q,{title:"Plateau",values:["circle","grid3","random","english","french"],text:["#circle","3xN","#shuffle","#tea","#bread"],tooltip:["3xN","Cercle","Aléatoire","Anglais","Français"],get selected(){return e(h)},setter:H=>Ee(e(a),C,()=>T(H))})});var z=g(p,2);ee(z,()=>Xe,(Q,K)=>{K(Q,{title:"Options",children:(H,D)=>{var Z=Ed(),ne=te(Z);{let ce=R(()=>e(b)>0);He(ne,{text:"#help",tooltip:"Aide",get selected(){return e(ce)},onclick:()=>_(b,(e(b)+1)%3)})}var B=g(ne,2);ee(B,()=>Ft,(ce,he)=>{he(ce,{get methods(){return C},get model(){return e(a)},set model(V){_(a,V,!0)}})});var J=g(B,2);ee(J,()=>Bt,(ce,he)=>{he(ce,{get methods(){return C},get model(){return e(a)},set model(V){_(a,V,!0)}})});var oe=g(J,2);ee(oe,()=>vt,(ce,he)=>{he(ce,{get methods(){return C},get model(){return e(a)},set model(V){_(a,V,!0)}})});var se=g(oe,2);ee(se,()=>ft,(ce,he)=>{he(ce,{get model(){return e(a)},set model(V){_(a,V,!0)}})}),d(H,Z)},$$slots:{default:!0}})});var j=g(z,2);ee(j,()=>Xr,(Q,K)=>{K(Q,{get methods(){return C},get model(){return e(a)},set model(H){_(a,H,!0)}})}),d(S,x)}})};let a=_e(Ae({...ct([]),rows:5,columns:1,customSize:!1,scores:{}})),v=_e(Ae([])),b=_e(0),h=_e("circle"),f=_e(null);function A({from:m,to:S}){const[k,x]=Yr(e(a).columns,m,S);return k*k+x*x==4?(m+S)/2|0:null}const P=(m,S,k)=>m-S===2||S-m===2?(m+S)/2|0:(k+S-m)%k===2?(m+1)%k:(k+m-S)%k==2?(S+1)%k:null;function G(m){const{from:S,to:k}=m;if(e(h)==="circle"){const x=P(S,k,e(a).rows);return x===null?null:e(a).rows===4&&!e(a).position[x]?(x+2)%4:x}else return A(m)}function L(m){const{from:S,to:k}=m,x=G(m);if(x===null)return null;const p=e(a).position[x],z=e(a).position[S],j=e(a).position[k],Q=e(v)[k];if(!z||!p||!Q||j)return null;const K=e(a).position.slice();return K[S]=!1,K[x]=!1,K[k]=!0,K}const O=()=>e(a).position,W=()=>e(a).position.every((m,S)=>!m||[2,-2,2*e(a).columns,-2*e(a).columns,e(a).rows-2].every(k=>L({from:S,to:S+k})===null));function F(){let m=e(a).columns,S=e(a).rows;if(e(h)==="english")_(v,or(7,7,(k,x)=>Math.min(k,6-k)>=2||Math.min(x,6-x)>=2),!0),e(a).position=e(v).with(24,!1),e(a).customSize=!1;else if(e(h)==="french")_(v,or(7,7,(k,x)=>Math.min(k,6-k)+Math.min(x,6-x)>=2),!0),e(a).position=e(v).with(24,!1),e(a).customSize=!1;else if(e(h)==="circle"){_(v,Ve(S,!0),!0);const k=lr(0,S);e(a).position=Ct(S,x=>x!==k),e(a).customSize=!0}else if(e(h)==="grid3")_(v,Ve(3*m,!0),!0),e(a).position=Ct(3*m,k=>k<2*m),e(a).customSize=!0;else{_(v,Ve(3*m,!0),!0);const k=Ct(m,()=>Math.random()<.5);e(a).position=k.concat(Ve(m,!0),k.map(x=>!x)),e(a).customSize=!0}}let $=R(()=>e(h)==="circle"?{minRows:3,maxRows:12,minCols:1,maxCols:1}:e(h)==="grid3"||e(h)==="random"?{minRows:3,maxRows:3,minCols:1,maxCols:12}:{minRows:7,maxRows:7,minCols:7,maxCols:7});const C={play:L,isLevelFinished:W,initialPosition:O,onNewGame:F,objective:"minimize",score:()=>e(a).position.filter(m=>m).length,scoreHash:()=>e(h)==="random"?null:`${e(h)},${e(a).rows},${e(a).columns}`};C.updateScore=()=>Qr(e(a),C,!0,"always");let c=R(()=>{const m=C.score(),S=m>1?"s":"";return`${m} pièce${S} restante${S}`});function y(m){const S=m/e(a).columns|0,k=m%e(a).columns;if(e(h)==="circle"){const x=125+Math.sin(2*Math.PI*m/e(a).rows)*90,p=125+Math.cos(2*Math.PI*m/e(a).rows)*90;return`translate(${x}px,${p}px)`}else return`translate(${50*k+25}px,${50*S+25}px)`}function w(m){switch((m%e(a).columns+e(b)+(m/e(a).columns|0))%3){case 0:return"red";case 1:return"blue";default:return"green"}}function T(m){switch(_(h,m,!0),m){case"circle":e(a).rows=6,e(a).columns=1;break;case"grid3":case"random":e(a).rows=3,e(a).columns=5;break;default:e(a).rows=7,e(a).columns=7}}Ee(e(a),C),dt(r,{get methods(){return C},get board(){return u},get config(){return i},get rules(){return xd},get winTitle(){return e(c)},get bestScore(){return s},get sizeLimit(){return e($)},get model(){return e(a)},set model(m){_(a,m,!0)}}),Re()}We(["pointerdown","pointerup"]);const Ad=(r,t=ve,n=ve,o=ve,l=ve,u=ve)=>{var s=Nd();s.__pointerdown=function(...i){l()?.apply(this,i)},s.__pointerup=function(...i){u()?.apply(this,i)},d(r,s)},jd=r=>{var t=Wd();d(r,t)};async function Rd(r,t,n,o,l){e(t).locked=!0;for(let u=0;u<e(n);u++){if(!e(o)){e(t).locked=!1;return}_(l,e(l)+1),await Jn(600)}e(t).showWin=!1,await Wn(),e(t).showWin=!0,e(t).locked=!1}var Nd=ae('<rect x="-100" y="-120" width="100%" height="100%" fill="transparent"></rect>'),Id=ae("<path></path>"),Od=ae('<circle r="8" stroke="black"></circle>'),Fd=ae('<circle r="8" cx="-100" cy="-120" stroke="black" pointer-events="none"></circle>'),Bd=ae('<path stroke="black" pointer-events="none"></path>'),Dd=ae('<!><!><!><g class="outer-wheel svelte-14rqq2d"><!><!></g>',1),Gd=(r,t)=>_(t,e(t)-1),Hd=(r,t)=>_(t,e(t)+1),Ud=ge('<div class="board-ui board svelte-14rqq2d"><!> <button class="ui-button ui-button-primary btn-left svelte-14rqq2d">↶</button> <button class="ui-button ui-button-primary btn-right svelte-14rqq2d">↷</button> <button class="ui-button ui-button-primary btn-validate svelte-14rqq2d">Valider</button></div>'),Zd=ge("<!> <!>",1),Vd=ge("<!> <!>",1),Wd=ge(`Le but du jeu est de poser une bille sur chaque emplacement de la roue
  et effectuer un tour complet de la roue en respectant la condition suivante:<br/> à chaque moment durant la rotation de la roue, exactement une bille a sa couleur
  qui correspond avec la couleur de la roue.<br/> Tu peux tester en faisant varier le nombre de couleurs de la roue mais également
  en faisant varier le nombre de couleurs que tu utilises.`,1);function Jd(r,t){je(t,!0);const n=(c,y,w=ve,T=ve,m=ve,S=ve)=>{var k=R(()=>Mt(y?.(),2));let x=()=>e(k)[0],p=()=>e(k)[1];var z=Id();z.__pointerdown=function(...j){m()?.apply(this,j)},z.__pointerup=function(...j){S()?.apply(this,j)},ie(j=>{I(z,"d",j),Fe(z,0,Be(["wheel-part",{droppable:T()}]),"svelte-14rqq2d"),I(z,"fill",p()?e(f)?"lightgreen":"#F5B7B1":"#F0B27A")},[()=>C(0,0,50,80,2*Math.PI*(x()-.5)/e(a),2*Math.PI*(x()+.5)/e(a))]),d(c,z)},o=(c,y,w=ve,T=ve,m=ve,S=ve)=>{var k=R(()=>Mt(y?.(),3));let x=()=>e(k)[0],p=()=>e(k)[1],z=()=>e(k)[2];var j=Od();j.__pointerdown=function(...Q){m()?.apply(this,Q)},j.__pointerup=function(...Q){S()?.apply(this,Q)},ie(()=>{I(j,"cx",p()),I(j,"cy",z()),I(j,"fill",M[x()]),I(j,"opacity",w()?"20%":"100%"),I(j,"pointer-events",e(b)?"none":"")}),d(c,j)},l=(c,y=ve)=>{var w=Fd();ie(()=>{I(w,"fill",M[e(P)]),be(w,y())}),d(c,w)},u=c=>{var y=Ud(),w=re(y);hn(w,{viewBox:"-100 -120 200 260",get draggedElement(){return l},get dragged(){return e(b)},set dragged(k){_(b,k)},children:(k,x)=>{var p=Dd(),z=te(p);Wt(z,{get methods(){return $},id:{kind:"board"},argument:null,droppable:!0,get render(){return Ad},get model(){return e(i)},set model(ne){_(i,ne,!0)},get dragged(){return e(b)},set dragged(ne){_(b,ne)}});var j=g(z);Se(j,17,()=>Ke(0,e(a)),Te,(ne,B)=>{var J=$e(),oe=te(J);{var se=ce=>{{let he=R(()=>({kind:"panel",id:e(B)})),V=R(()=>[e(B),-65+130*e(B)/(e(a)-1),-100]);Wt(ce,{get methods(){return $},get id(){return e(he)},get argument(){return e(V)},draggable:!0,get render(){return o},get model(){return e(i)},set model(U){_(i,U,!0)},get dragged(){return e(b)},set dragged(U){_(b,U)}})}};ye(oe,ce=>{e(G)[e(B)]||ce(se)})}d(ne,J)});var Q=g(j);Se(Q,17,()=>M.slice(0,e(a)),Te,(ne,B,J)=>{var oe=Bd();ie(se=>{I(oe,"d",se),I(oe,"fill",e(B))},[()=>E(0,0,50,2*Math.PI*(J-.5)/e(a),2*Math.PI*(J+.5)/e(a))]),d(ne,oe)});var K=g(Q);let H;var D=re(K);Se(D,17,()=>e(h),Te,(ne,B,J)=>{{let oe=R(()=>[J,e(B)]);Wt(ne,{get methods(){return $},id:{kind:"wheel",id:J},get argument(){return e(oe)},droppable:!0,get render(){return n},get model(){return e(i)},set model(se){_(i,se,!0)},get dragged(){return e(b)},set dragged(se){_(b,se)}})}});var Z=g(D);Se(Z,17,()=>e(i).position,Te,(ne,B,J)=>{var oe=$e(),se=te(oe);{var ce=he=>{const V=R(()=>64*Math.cos(2*J*Math.PI/e(a))),U=R(()=>64*Math.sin(2*J*Math.PI/e(a)));{let X=R(()=>[e(B),e(V),e(U)]);Wt(he,{get methods(){return $},id:{kind:"wheel",id:J},get argument(){return e(X)},draggable:!0,droppable:!0,get render(){return o},get model(){return e(i)},set model(ue){_(i,ue,!0)},get dragged(){return e(b)},set dragged(ue){_(b,ue)}})}};ye(se,he=>{e(B)!==null&&he(ce)})}d(ne,oe)}),ie(ne=>H=be(K,"",H,ne),[()=>({transform:`rotate(${360*e(v)/e(a)}deg)`})]),d(k,p)},$$slots:{default:!0}});var T=g(w,2);T.__click=[Gd,v];var m=g(T,2);m.__click=[Hd,v];var S=g(m,2);S.__click=[Rd,i,a,A,v],ie(()=>{T.disabled=e(i).locked,m.disabled=e(i).locked,S.disabled=e(i).locked||!e(A)}),d(c,y)},s=c=>{gt(c,{title:"Roue des couleurs",children:(y,w)=>{var T=Vd(),m=te(T);ee(m,()=>Qe,(k,x)=>{x(k,{title:"Nombre de couleurs",values:[4,5,6,7,8],get selected(){return e(a)},get disabled(){return e(i).locked},setter:p=>Ee(e(i),$,()=>_(a,p,!0))})});var S=g(m,2);ee(S,()=>Xe,(k,x)=>{x(k,{title:"Options",children:(p,z)=>{var j=Zd(),Q=te(j);ee(Q,()=>vt,(H,D)=>{D(H,{get methods(){return $},get model(){return e(i)},set model(Z){_(i,Z,!0)}})});var K=g(Q,2);ee(K,()=>ft,(H,D)=>{D(H,{get model(){return e(i)},set model(Z){_(i,Z,!0)}})}),d(p,j)},$$slots:{default:!0}})}),d(y,T)}})};let i=_e(Ae(ct([]))),a=_e(5),v=_e(0),b=_e(null),h=R(()=>e(i).position.map((c,y)=>c!==null&&Gr(y+e(v),e(a))===c)),f=R(()=>e(h).filter(c=>c).length===1),A=R(()=>e(f)&&e(i).position.every(c=>c!==null)),P=R(()=>e(b)===null||e(b).kind==="board"?null:e(b).kind==="panel"?e(b).id:e(i).position[e(b).id]),G=R(()=>{const c=Ve(e(a),!1);for(const y of e(i).position)y!==null&&(c[y]=!0);return c});function L({from:c,to:y}){return c.kind==="panel"&&y.kind==="wheel"?e(i).position.with(y.id,c.id):c.kind==="wheel"&&y.kind==="wheel"?ei(e(i).position,c.id,y.id):c.kind==="wheel"&&y.kind==="board"?e(i).position.with(c.id,null):null}const $={play:L,initialPosition:()=>Ve(e(a),null),isLevelFinished:()=>!1,onNewGame:()=>_(v,0)},M=["blue","red","magenta","orange","brown","cyan","gray","black"];function q(c,y,w,T){return[c+w*Math.cos(T),y+w*Math.sin(T)]}function E(c,y,w,T,m){const[S,k]=q(c,y,w,T),[x,p]=q(c,y,w,m);return`M${c} ${y}L${x} ${p}A${w} ${w} 0 0 0 ${S} ${k}L${c} ${y}`}function C(c,y,w,T,m,S){const[k,x]=q(c,y,w,m),[p,z]=q(c,y,w,S),[j,Q]=q(c,y,T,m),[K,H]=q(c,y,T,S);return`M${k} ${x}L${j} ${Q}A${T} ${T} 0 0 1 ${K} ${H}L${p} ${z}A${w} ${w} 0 0 0 ${k} ${x}`}Ee(e(i),$),dt(r,{get methods(){return $},get board(){return u},get config(){return s},get rules(){return jd},get model(){return e(i)},set model(c){_(i,c,!0)}}),Re()}We(["pointerdown","pointerup","click"]);const Kd=r=>{var t=ov();d(r,t)};var Yd=(r,t,n,o)=>lt(e(t),n,o()),Qd=ae('<circle r="7.5"></circle>'),Xd=ae('<circle cy="95" r="3" class="svelte-oh6gim"></circle><path d="M0 2H4V0l3 3l-3 3v-2h-4Z" fill="black" class="svelte-oh6gim"></path>',1),ev=ae('<!><circle cx="95" cy="95" r="3" fill="green" class="svelte-oh6gim"></circle>',1),tv=ge('<div class="ui-board board svelte-oh6gim"><svg viewBox="0 0 100 100" class="svelte-oh6gim"><!><!></svg></div>'),rv=ge("<!> <!> <!> <!> <!>",1),nv=ge("<!> <!> <!> <!>",1),ov=ge(`<strong class="svelte-oh6gim">Feux tricolores</strong> est une variante de <strong class="svelte-oh6gim">out noir ou tout blanc</strong> mais
  avec plusieurs <strong class="svelte-oh6gim">couleurs</strong>.<br class="svelte-oh6gim"/> Lorsque tu <strong class="svelte-oh6gim">cliques</strong> un feu, celui-ci change de couleur ainsi que tous les jetons proches
  jusqu'à la distance choisie dans <strong class="svelte-oh6gim">Portée</strong>.<br class="svelte-oh6gim"/> Le but est que tous les jetons soient de couleur <strong class="svelte-oh6gim">verte</strong>.`,1);function sv(r,t){je(t,!0);const n=($,M=ve,q=ve)=>{var E=Qd();E.__click=[Yd,s,O,M];let C;ie((c,y)=>{Fe(E,0,Be(["cell",{finished:e(f)}]),"svelte-oh6gim"),I(E,"stroke",c),I(E,"fill",e(f)?"":W[q()]),C=be(E,"",C,y)},[()=>e(b)!==null&&A(M(),e(b))?"lightgreen":"black",()=>({transform:F(M())})]),et("pointerenter",E,()=>_(b,M(),!0)),et("pointerleave",E,()=>_(b,null)),d($,E)},o=$=>{var M=ev(),q=te(M);Se(q,17,()=>W.slice(0,e(a)),Te,(E,C,c)=>{var y=Xd(),w=te(y),T=g(w);let m;ie(S=>{I(w,"cx",95+15*(c-e(a))),I(w,"fill",e(C)),m=be(T,"",m,S)},[()=>({transform:`translate(${99+15*(c-e(a))}px, 92px)`})]),d(E,y)}),d($,M)},l=$=>{var M=tv(),q=re(M),E=re(q);Se(E,17,()=>e(s).position,Te,(c,y,w)=>{n(c,()=>w,()=>e(y))});var C=g(E);o(C),d($,M)},u=$=>{gt($,{title:"Jeux tricolores",children:(M,q)=>{var E=nv(),C=te(E);ee(C,()=>Qe,(T,m)=>{m(T,{title:"Nombre de feux",values:[4,5,6,7,8,9,10,11,12,13],get selected(){return e(i)},setter:S=>Ee(e(s),O,()=>_(i,S,!0))})});var c=g(C,2);ee(c,()=>Qe,(T,m)=>{m(T,{title:"Nombre de couleurs",values:[2,3,4,5],get selected(){return e(a)},setter:S=>Ee(e(s),O,()=>_(a,S,!0))})});var y=g(c,2);ee(y,()=>Qe,(T,m)=>{m(T,{title:"Portée",values:[1,2,3],get selected(){return e(v)},setter:S=>Ee(e(s),O,()=>_(v,S,!0))})});var w=g(y,2);ee(w,()=>Xe,(T,m)=>{m(T,{title:"Options",children:(S,k)=>{var x=rv(),p=te(x);ee(p,()=>Ft,(H,D)=>{D(H,{get methods(){return O},get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var z=g(p,2);ee(z,()=>Bt,(H,D)=>{D(H,{get methods(){return O},get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var j=g(z,2);ee(j,()=>vt,(H,D)=>{D(H,{get methods(){return O},get model(){return e(s)},set model(Z){_(s,Z,!0)}})});var Q=g(j,2);ee(Q,()=>He,(H,D)=>{D(H,{text:"#shuffle",tooltip:"Mélanger",get selected(){return e(h)},onclick:()=>Ee(e(s),O,()=>_(h,!e(h)))})});var K=g(Q,2);ee(K,()=>ft,(H,D)=>{D(H,{get model(){return e(s)},set model(Z){_(s,Z,!0)}})}),d(S,x)},$$slots:{default:!0}})}),d(M,E)}})};let s=_e(Ae(ct([]))),i=_e(5),a=_e(2),v=_e(1),b=_e(null),h=_e(!1),f=R(()=>e(s).position.every($=>$===0));function A($,M){const q=Math.abs($-M);return Math.min(q,e(i)-q)<=e(v)}const O={play:$=>e(s).position.map((M,q)=>A($,q)?(M+1)%e(a):M),isLevelFinished:()=>e(f),initialPosition:()=>e(h)?Ct(e(i),()=>lr(0,e(a))):Ve(e(i),1)},W=["green","yellow","red","magenta","blue"];function F($){const M=50+35*Math.cos(2*$*Math.PI/e(i)),q=45+35*Math.sin(2*$*Math.PI/e(i));return`translate(${M}px, ${q}px)`}Ee(e(s),O),dt(r,{get methods(){return O},get board(){return l},get config(){return u},get rules(){return Kd},get model(){return e(s)},set model($){_(s,$,!0)}}),Re()}We(["click"]);const So=(r,t)=>{let n=()=>t?.().isDark,o=()=>t?.().hasBlock,l=()=>t?.().hasSink,u=()=>t?.().row,s=()=>t?.().col,i=()=>t?.().onclick,a=()=>t?.().onpointerenter,v=()=>t?.().onpointerleave;var b=uv();b.__click=function(...L){i()?.apply(this,L)};let h;var f=g(re(b));{var A=L=>{var O=iv();d(L,O)};ye(f,L=>{o()&&L(A)})}var P=g(f);{var G=L=>{var O=av();d(L,O)};ye(P,L=>{l()&&L(G)})}ie(L=>{Fe(b,0,Be({darken:n()}),"svelte-1htj6c3"),h=be(b,"",h,L)},[()=>({transform:`translate(${50*s()}px, ${50*u()}px)`})]),et("pointerenter",b,function(...L){a()?.apply(this,L)}),et("pointerleave",b,function(...L){v()?.apply(this,L)}),d(r,b)},lv=r=>{var t=Pv();d(r,t)};var iv=ae('<use href="#tile2" width="50" height="50"></use>'),av=ae('<use href="#sink" width="50" height="50"></use>'),uv=ae('<g><rect width="50" height="50" fill="url(#concrete)"></rect><!><!></g>'),cv=ae('<use href="#sink" x="-25" y="-25" width="50" height="50" pointer-events="none"></use>'),dv=ae('<use href="#tile2"></use>'),vv=ae('<g><g class="pointer svelte-1htj6c3"></g></g>'),fv=(r,t)=>{r.preventDefault(),_(t,e(t)+1)},gv=ae('<line x1="0" y1="0" x2="0" y2="50" stroke="#000" stroke-width="2"></line>'),hv=ae('<line x1="50" y1="0" x2="50" y2="50" stroke="#000" stroke-width="2"></line>'),_v=ae('<line x1="0" y1="0" x2="50" y2="0" stroke="#000" stroke-width="2"></line>'),pv=ae('<line x1="0" y1="50" x2="50" y2="50" stroke="#000" stroke-width="2"></line>'),mv=ae("<g><!><!><!><!></g>"),yv=ae("<!><!>",1),bv=ge('<div class="container svelte-1htj6c3"><div class="ui-board"><!></div></div>'),xv=ge("<!> <!> <!>",1),wv=ge("<!> <!> <!> <!>",1),kv=ge('<div class="customtile-container svelte-1htj6c3"><svg viewBox="0 0 250 250"></svg></div>'),Pv=ge(`Est-il possible de faire le <strong>carrelage</strong> de toute ta cuisine,
  sachant qu'elle peut avoir un ou plusieurs <strong>éviers</strong> ?<br/> Tu peux tester avec différentes formes de <strong>tuile</strong> et différents emplacements d'éviers.<br/> Pour tourner la pièce, tu peux utiliser le <strong>clic droit</strong> ou appuyer sur la touche <strong>Espace</strong>.<br/> Deux questions sont particulièrement intéressantes: <br/> <ul><li>Pour quelles dimensions de la grille et pour quels positions d'éviers
        peut-on paver une grille avec tuiles de <strong>type 1</strong>?</li> <li>Peut-on toujours carreler une grille <strong>8x8</strong> avec les tuiles de <strong>type 3</strong> et
    en posant <strong>1 évier</strong>, et ceci, quelque soit la position de l'évier?</li></ul>`,1);function $v(r,t){je(t,!0);const n=(x,p=ve,z=ve)=>{var j=$e(),Q=te(j);{var K=D=>{var Z=cv();let ne;ie(B=>ne=be(Z,"",ne,B),[()=>({transform:`translate(${100*p()}%, ${100*z()}%)`})]),d(D,Z)},H=D=>{var Z=vv();let ne;var B=re(Z);let J;Se(B,21,()=>e(G),Te,(oe,se)=>{var ce=R(()=>Mt(e(se),2));let he=()=>e(ce)[0],V=()=>e(ce)[1];var U=dv();I(U,"width",50),I(U,"height",50),ie(()=>{I(U,"x",50*V()-25),I(U,"y",50*he()-25),I(U,"opacity",e($)?"0.3":"0.8")}),d(oe,U)}),ie((oe,se)=>{ne=be(Z,"",ne,oe),J=be(B,"",J,se)},[()=>({transform:`translate(${100*p()}%, ${100*z()}%)`}),()=>({transform:`rotate(${90*e(b)}deg)`})]),d(D,Z)};ye(Q,D=>{e(F).length<e(f)?D(K):D(H,!1)})}d(x,j)},o=x=>{var p=bv(),z=re(p);z.__contextmenu=[fv,b];var j=re(z);{let Q=R(()=>50*e(v).columns),K=R(()=>50*e(v).rows);en(j,{get pointer(){return n},get viewBox(){return`0 0 ${e(Q)??""} ${e(K)??""}`},children:(H,D)=>{var Z=yv(),ne=te(Z);Se(ne,17,()=>e(v).position,Te,(J,oe,se)=>{const ce=R(()=>{const[he,V]=mt(e(v).columns,se);return{row:he,col:V}});So(J,()=>({isDark:e(v).help&&(e(ce).row+e(ce).col)%2===0,hasBlock:e(oe)>0,hasSink:e(oe)===-1,row:e(ce).row,col:e(ce).col,onclick:()=>T(se),onpointerenter:()=>_(A,se,!0),onpointerleave:()=>_(A,null)}))});var B=g(ne);Se(B,17,()=>e(v).position,Te,(J,oe,se)=>{const ce=R(()=>{const[me,ke]=mt(e(v).columns,se);return{row:me,col:ke}});var he=mv();let V;var U=re(he);{var X=me=>{var ke=gv();d(me,ke)};ye(U,me=>{e(oe)>0&&w(se,-1)&&me(X)})}var ue=g(U);{var de=me=>{var ke=hv();d(me,ke)};ye(ue,me=>{e(oe)>0&&w(se,1)&&me(de)})}var we=g(ue);{var xe=me=>{var ke=_v();d(me,ke)};ye(we,me=>{e(oe)>0&&w(se,-e(v).columns)&&me(xe)})}var ze=g(we);{var qe=me=>{var ke=pv();d(me,ke)};ye(ze,me=>{e(oe)>0&&w(se,e(v).columns)&&me(qe)})}ie(me=>V=be(he,"",V,me),[()=>({transform:`translate(${50*e(ce).col}px, ${50*e(ce).row}px)`})]),d(J,he)}),d(H,Z)},$$slots:{default:!0}})}ie(Q=>be(z,Q),[()=>Ot(e(v).rows,e(v).columns,5)]),d(x,p)},l=x=>{gt(x,{title:"Carrelage",children:(p,z)=>{var j=wv(),Q=te(j);ee(Q,()=>Nr,(Z,ne)=>{ne(Z,{get methods(){return c},values:[[4,5],[5,5],[5,6],[8,8]],customSize:!0,get model(){return e(v)},set model(B){_(v,B,!0)}})});var K=g(Q,2);ee(K,()=>Qe,(Z,ne)=>{ne(Z,{title:"Motif de la tuile",values:["type1","type2","type3","custom"],text:["#beast1","#beast2","#beast3","#customize"],get selected(){return e(h)},setter:S})});var H=g(K,2);ee(H,()=>Qe,(Z,ne)=>{ne(Z,{title:"Nombre d'éviers",values:[0,1,2],get selected(){return e(f)},setter:B=>Ee(e(v),c,()=>_(f,B,!0))})});var D=g(H,2);ee(D,()=>Xe,(Z,ne)=>{ne(Z,{title:"Options",children:(B,J)=>{var oe=xv(),se=te(oe);ee(se,()=>Rr,(V,U)=>{U(V,{get model(){return e(v)},set model(X){_(v,X,!0)}})});var ce=g(se,2);ee(ce,()=>vt,(V,U)=>{U(V,{get methods(){return c},get model(){return e(v)},set model(X){_(v,X,!0)}})});var he=g(ce,2);ee(he,()=>ft,(V,U)=>{U(V,{get model(){return e(v)},set model(X){_(v,X,!0)}})}),d(B,oe)},$$slots:{default:!0}})}),d(p,j)}})},u=x=>{hr(x,{title:"Personnalise ta tuile",onOk:()=>e(v).dialog=null,children:(p,z)=>{var j=kv(),Q=re(j);Se(Q,21,()=>e(L),Te,(K,H,D)=>{const Z=R(()=>{const[ne,B]=mt(5,D);return{row:ne,col:B}});So(K,()=>({hasBlock:e(H),row:e(Z).row,col:e(Z).col,onclick:()=>m(D)}))}),d(p,j)}})},s=x=>x.map(([p,z])=>[z,-p]);function i(x,p){for(let z=0;z<p;z++)x=s(x);return x}const a=(x,[p,z])=>x.map(([j,Q])=>[p+j,z+Q]);let v=_e(Ae({...ct([]),rows:5,columns:5,customSize:!1})),b=_e(0),h=_e("type1"),f=_e(0),A=_e(null),P=Ae([]),G=R(()=>{switch(e(h)){case"type1":return[[0,0],[0,1]];case"type2":return[[0,0],[0,1],[0,-1]];case"type3":return[[0,0],[0,1],[1,0]];default:return P}}),L=R(()=>{const x=Ve(25,!1);for(const[p,z]of P)x[p*5+z+12]=!0;return x});function O(x){const p=e(v).columns;let z=i(e(G),Gr(e(b),4));return z=a(z,mt(p,x)),z.map(([j,Q])=>0<=Q&&Q<p?j*p+Q:-1)}const W=x=>x.every(p=>e(v).position[p]===0);let F=R(()=>e(v).position.map((x,p)=>x==-1?p:null).filter(x=>x!==null)),$=R(()=>e(A)!==null&&(e(v).position[e(A)]!==0||M(e(A))===null));function M(x){const p=O(x);if(W(p)){const z=Math.max(...e(v).position)+1,j=e(v).position.slice();for(const Q of p)j[Q]=z;return j}else if(e(v).position[x]>0){const z=e(v).position[x];return e(v).position.map(j=>j===z?0:j)}else return null}const c={play:M,isLevelFinished:()=>e(v).position.every(x=>x!==0),initialPosition:()=>Ve(e(v).columns*e(v).rows,0),onNewGame:()=>_(b,0)},y={minRows:3,minCols:3,maxRows:10,maxCols:10},w=(x,p)=>e(v).position[x]!==e(v).position[x+p];function T(x){e(F).length<e(f)?e(v).position[x]=-1:lt(e(v),c,x)}function m(x){let[p,z]=mt(5,x);p-=2,z-=2;let j=P.findIndex(([Q,K])=>Q===p&&K===z);j===-1?P.push([p,z]):P.slice(j,1)}const S=x=>Ee(e(v),c,()=>{_(h,x,!0),x==="custom"&&(e(v).dialog="customize")});function k(x){x.key===" "&&_(b,e(b)+1)}Ee(e(v),c),et("keydown",Hr,k),dt(r,{get methods(){return c},get board(){return o},get config(){return l},get rules(){return lv},get custom(){return u},get sizeLimit(){return y},get model(){return e(v)},set model(x){_(v,x,!0)}}),Re()}We(["click","contextmenu"]);var Mv=ge('<a class="valise-link svelte-1n46o8q" href="#main" aria-label="valise"><svg style="width: 100%; height: 100%"><use href="#valise"></use></svg></a>'),Sv=ge("<div><!> <!></div>");function zv(r){let t=_e(Ae(window.location.hash.slice(1)||"main"));function n(){_(t,window.location.hash.slice(1)||"main",!0)}var o=Sv();et("hashchange",Hr,n);var l=re(o);{var u=v=>{var b=Mv();d(v,b)};ye(l,v=>{e(t)!=="main"&&v(u)})}var s=g(l,2);{var i=v=>{Ql(v,{})},a=v=>{var b=$e(),h=te(b);{var f=P=>{Ji(P,{})},A=P=>{var G=$e(),L=te(G);{var O=F=>{fa(F,{})},W=F=>{var $=$e(),M=te($);{var q=C=>{Na(C,{})},E=C=>{var c=$e(),y=te(c);{var w=m=>{ru(m,{})},T=m=>{var S=$e(),k=te(S);{var x=z=>{_u(z,{})},p=z=>{var j=$e(),Q=te(j);{var K=D=>{Cu(D,{})},H=D=>{var Z=$e(),ne=te(Z);{var B=oe=>{Du(oe,{})},J=oe=>{var se=$e(),ce=te(se);{var he=U=>{lc(U,{})},V=U=>{var X=$e(),ue=te(X);{var de=xe=>{_c(xe,{})},we=xe=>{var ze=$e(),qe=te(ze);{var me=N=>{zc(N,{})},ke=N=>{var Y=$e(),le=te(Y);{var fe=Me=>{Bc(Me,{})},pe=Me=>{var Pe=$e(),Le=te(Pe);{var Ce=Ze=>{Jd(Ze,{})},Ue=Ze=>{var Tt=$e(),At=te(Tt);{var jt=xt=>{id(xt,{})},Xt=xt=>{var er=$e(),qt=te(er);{var Ne=Ge=>{yd(Ge,{})},De=Ge=>{var Je=$e(),nt=te(Je);{var tt=wt=>{Ld(wt,{})},ot=wt=>{var tr=$e(),ar=te(tr);{var pt=rr=>{$v(rr,{})},Dt=rr=>{var tn=$e(),_n=te(tn);{var pn=mn=>{sv(mn,{})};ye(_n,mn=>{e(t)==="tricolor"&&mn(pn)},!0)}d(rr,tn)};ye(ar,rr=>{e(t)==="tiling"?rr(pt):rr(Dt,!1)},!0)}d(wt,tr)};ye(nt,wt=>{e(t)==="solitaire"?wt(tt):wt(ot,!1)},!0)}d(Ge,Je)};ye(qt,Ge=>{e(t)==="sansmot"?Ge(Ne):Ge(De,!1)},!0)}d(xt,er)};ye(At,xt=>{e(t)==="queens"?xt(jt):xt(Xt,!1)},!0)}d(Ze,Tt)};ye(Le,Ze=>{e(t)==="roue"?Ze(Ce):Ze(Ue,!1)},!0)}d(Me,Pe)};ye(le,Me=>{e(t)==="paths"?Me(fe):Me(pe,!1)},!0)}d(N,Y)};ye(qe,N=>{e(t)==="nim"?N(me):N(ke,!1)},!0)}d(xe,ze)};ye(ue,xe=>{e(t)==="noirblanc"?xe(de):xe(we,!1)},!0)}d(U,X)};ye(ce,U=>{e(t)==="labete"?U(he):U(V,!1)},!0)}d(oe,se)};ye(ne,oe=>{e(t)==="jetons"?oe(B):oe(J,!1)},!0)}d(D,Z)};ye(Q,D=>{e(t)==="hanoi"?D(K):D(H,!1)},!0)}d(z,j)};ye(k,z=>{e(t)==="frog"?z(x):z(p,!1)},!0)}d(m,S)};ye(y,m=>{e(t)==="eternal"?m(w):m(T,!1)},!0)}d(C,c)};ye(M,C=>{e(t)==="dessin"?C(q):C(E,!1)},!0)}d(F,$)};ye(L,F=>{e(t)==="chocolat"?F(O):F(W,!1)},!0)}d(P,G)};ye(h,P=>{e(t)==="baseball"?P(f):P(A,!1)},!0)}d(v,b)};ye(s,v=>{e(t)==="main"?v(i):v(a,!1)})}ie(()=>Fe(o,1,`container ${e(t)==="main"?"valise":"game"}`,"svelte-1n46o8q")),d(r,o)}El(zv,{target:document.getElementById("app")});

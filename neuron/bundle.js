(()=>{var De={compose:function(n){return function(t){return function(r){return n(t(r))}}}},Qr=function(n){return n.compose},ye=function(n){return function(t){return function(r){return Qr(n)(r)(t)}}};var A=function(n){return n.identity},R={identity:function(n){return n},Semigroupoid0:function(){return De}};var yr=function(n){return function(t){for(var r=n>t?-1:1,e=new Array(r*(t-n)+1),a=n,o=0;a!==t;)e[o++]=a,a+=r;return e[o]=a,e}},ec=function(n){return function(t){if(n<1)return[];var r=new Array(n);return r.fill(t)}},ac=function(n){return function(t){for(var r=[],e=0,a=0;a<n;a++)r[e++]=t;return r}},lu=typeof Array.prototype.fill=="function"?ec:ac,oc=function(){function n(a,o){this.head=a,this.tail=o}var t={};function r(a){return function(o){return new n(a,o)}}function e(a){for(var o=[],f=0,i=a;i!==t;)o[f++]=i.head,i=i.tail;return o}return function(a){return function(o){return e(a(r)(t)(o))}}}(),hr=function(n){return n.length};var su=function(n){return function(t){return function(r){return function(e){return e<0||e>=r.length?t:n(r[e])}}}};var _u=function(n){return function(t){return function(r){return function(e){return function(a){if(r<0||r>=a.length)return t;var o=a.slice();return o[r]=e,n(o)}}}}};var he=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var t=[],r=0,e=n.length;r<e;r++)for(var a=n[r],o=0,f=a.length;o<f;o++)t.push(a[o]);return t},ge=function(n){return function(t){return t.filter(n)}};var uc=function(){function n(t,r,e,a,o,f){var i,g,N,E,I,C,x;for(i=o+(f-o>>1),i-o>1&&n(t,r,a,e,o,i),f-i>1&&n(t,r,a,e,i,f),g=o,N=i,E=o;g<i&&N<f;)I=a[g],C=a[N],x=r(t(I)(C)),x>0?(e[E++]=C,++N):(e[E++]=I,++g);for(;g<i;)e[E++]=a[g++];for(;N<f;)e[E++]=a[N++]}return function(t){return function(r){return function(e){var a;return e.length<2?e:(a=e.slice(0),n(t,r,a,e.slice(0),0,e.length),a)}}}}();var Kr=function(n){return function(t){return function(r){for(var e=t.length<r.length?t.length:r.length,a=new Array(e),o=0;o<e;o++)a[o]=n(t[o])(r[o]);return a}}};var pu=function(n){return function(t){for(var r=t.length,e=new Array(r),a=0;a<r;a++)e[a]=n(t[a]);return e}};var Dn=function(n){return function(t){return function(r){return n(r)(t)}}},dn=function(n){return function(t){return n}};var mu=function(n){return function(t){return n(t)}};var En=function(){function n(){}return n.value=new n,n}();var u=function(n){return n.map},ot=function(n){return function(t){return function(r){return u(n)(r)(t)}}};var gt={map:Qr(De)},Rn={map:pu};var vu=function(n){return function(t){return n.length===0?t:t.length===0?n:n.concat(t)}};var pt=function(n){return n.reflectSymbol};var Ut=function(n){return function(t){return t[n]}},Vt=function(n){return function(t){return function(r){var e={};for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e[n]=t,e}}};var gr={append:vu};var W=function(n){return n.append};var mn=function(n){return n.apply};var ea=function(n){return function(t){return function(r){return mn(n)(u(n.Functor0())(dn(A(R)))(t))(r)}}};var L=function(n){return n.pure},Yr=function(n){return function(t){return function(r){if(!t)return r;if(t)return L(n)(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}};var Ce=function(n){return function(t){return function(r){return mn(n.Apply0())(L(n)(t))(r)}}};var nn=function(n){return n.bind};var Ct=function(n){return function(t){return function(r){return nn(n.Bind1())(t)(function(e){return nn(n.Bind1())(r)(function(a){return L(n.Applicative0())(e(a))})})}}};var Dc=String.fromCharCode(65535),yc=String.fromCharCode(0),hc=Number.POSITIVE_INFINITY,gc=Number.NEGATIVE_INFINITY;var Tc=function(n){return function(t){return n===t}};var gu=Tc;var Te={eq:gu};var H=function(n){return n.eq};var Cu=function(n){return function(t){return n-t|0}};var bu=function(n){return function(t){return n+t|0}},Tu=function(n){return function(t){return n*t|0}};var At=function(n){return n.zero};var Cr={add:bu,zero:0,mul:Tu,one:1};var mt=function(n){return n.add};var Fu={sub:Cu,Semiring0:function(){return Cr}};var Mu=function(n){return n.toString()},wu=function(n){var t=n.toString();return isNaN(t+".0")?t:t+".0"};var bt={show:wu},Jn={show:Mu};var h=function(n){return n.show};var m=function(){function n(){}return n.value=new n,n}(),l=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var Wn=function(n){return function(t){return function(r){if(r instanceof m)return n;if(r instanceof l)return t(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}};var jn={map:function(n){return function(t){return t instanceof l?new l(n(t.value0)):m.value}}};var ft=function(n){return Wn(n)(A(R))};var Tr=function(n){return{eq:function(t){return function(r){return t instanceof m&&r instanceof m?!0:t instanceof l&&r instanceof l?H(n)(t.value0)(r.value0):!1}}}};var _n=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),cn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var Ee={map:function(n){return function(t){if(t instanceof _n)return new _n(t.value0);if(t instanceof cn)return new cn(n(t.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[t.constructor.name])}}};var Pt=function(n){return function(t){return function(r){if(r instanceof _n)return n(r.value0);if(r instanceof cn)return t(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}};var Lu=function(n){return Math.min(Math.abs(n),2147483647)},Iu=function(n){return function(t){return t===0?0:t>0?Math.floor(n/t):-Math.floor(n/-t)}},xu=function(n){return function(t){if(t===0)return 0;var r=Math.abs(t);return(n%r+r)%r}};var Nu={Ring0:function(){return Fu}};var Ot=function(n){return n.mod};var qn={degree:Lu,div:Iu,mod:xu,CommutativeRing0:function(){return Nu}},ct=function(n){return n.div};var vn=function(n){return n.mempty};var Au=function(n){return function(){return n}},Pu=function(n){return function(t){return function(){return t(n())()}}};var Su=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}},ua={Applicative0:function(){return Vn},Bind1:function(){return ia}},ia={bind:Pu,Apply0:function(){return Wu(0)}},Vn={pure:Au,Apply0:function(){return Wu(0)}},Ru=Su("functorEffect","Effect",function(){return{map:Ce(Vn)}}),Wu=Su("applyEffect","Effect",function(){return{apply:Ct(ua),Functor0:function(){return Ru(0)}}}),X=Ru(20);var $u=function(n){return function(){return{value:n}}};var ir=function(n){return function(){return n.value}};var Er=function(n){return function(t){return function(){t.value=n}}};var te=$u;var Xc=function(){function n(t,r,e,a,o,f){var i,g,N,E,I,C,x;for(i=o+(f-o>>1),i-o>1&&n(t,r,a,e,o,i),f-i>1&&n(t,r,a,e,i,f),g=o,N=i,E=o;g<i&&N<f;)I=a[g],C=a[N],x=r(t(I)(C)),x>0?(e[E++]=C,++N):(e[E++]=I,++g);for(;g<i;)e[E++]=a[g++];for(;N<f;)e[E++]=a[N++]}return function(t){return function(r){return function(e){return function(){return e.length<2||n(t,r,e,e.slice(0),0,e.length),e}}}}}();var Ju=function(n){return function(t){return n&&t}},ju=function(n){return function(t){return n||t}},Vu=function(n){return!n};var Gt=function(n){return n.not};var re=function(n){return n.disj},Bt={ff:!1,tt:!0,implies:function(n){return function(t){return re(Bt)(Gt(Bt)(n))(t)}},conj:Ju,disj:ju,not:Vu};var Ku=function(n){return function(t){return function(r){for(var e=t,a=r.length,o=a-1;o>=0;o--)e=n(r[o])(e);return e}}},Yu=function(n){return function(t){return function(r){for(var e=t,a=r.length,o=0;o<a;o++)e=n(e)(r[o]);return e}}};var V=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}();var ee={map:function(n){return function(t){return new V(t.value0,n(t.value1))}}};var s=function(n){return n};var Qn=function(n){return n.foldr};var ya=function(n){return function(t){return function(r){return Qn(t)(function(){var e=ea(n.Apply0());return function(a){return e(r(a))}}())(L(n)(void 0))}}},Kt=function(n){return function(t){return Dn(ya(n)(t))}};var Gn=function(n){return n.foldl};var Do=function(n){return function(t){return Gn(n)(mt(t))(At(t))}};var cr={foldr:function(n){return function(t){return function(r){if(r instanceof m)return t;if(r instanceof l)return n(r.value0)(t);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldl:function(n){return function(t){return function(r){if(r instanceof m)return t;if(r instanceof l)return n(t)(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldMap:function(n){return function(t){return function(r){if(r instanceof m)return vn(n);if(r instanceof l)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var oi=function(n){return function(t){return function(r){return Qn(n)(function(e){return function(a){return W(t.Semigroup0())(r(e))(a)}})(vn(t))}}},Et={foldr:Ku,foldl:Yu,foldMap:function(n){return oi(Et)(n)}};var El=function(){function n(a){return[a]}function t(a){return function(o){return[a,o]}}function r(a){return function(o){return function(f){return[a,o,f]}}}function e(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(f){return function(i){return function(g){function N(E,I){switch(I-E){case 0:return f([]);case 1:return o(n)(i(g[E]));case 2:return a(o(t)(i(g[E])))(i(g[E+1]));case 3:return a(a(o(r)(i(g[E])))(i(g[E+1])))(i(g[E+2]));default:var C=E+Math.floor((I-E)/4)*2;return a(o(e)(N(E,C)))(N(C,I))}}return N(0,g.length)}}}}}}();var Mo=function(){return _u(l.create)(m.value)}();var dt=function(n){return function(t){return Kr(n)(yr(0)(hr(t)-1|0))(t)}};var Yt=function(){return su(l.create)(m.value)}();var $n=function(n){return n},Ti=function(n){return function(t){return function(r){var e;r<11?e="[0-"+(r-1).toString()+"]":r===11?e="[0-9a]":e="[0-9a-"+String.fromCharCode(86+r)+"]";var a=new RegExp("^[\\+\\-]?"+e+"+$","i");return function(o){if(a.test(o)){var f=parseInt(o,r);return(f|0)===f?n(f):t}else return t}}}};var xs=function(){return Ti(l.create)(m.value)}(),wo=xs(10);var Nr=function(n){var t=null;return function(){return n===void 0||(t=n(),n=void 0),t}},Ar=function(n){return n()};var As=function(){function n(f){this.fn=f}var t={},r=function(f,i){this.head=f,this.tail=i};function e(f){return new r(f,t)}function a(f){return function(i){return new r(f,i)}}function o(f){for(var i=[],g=f;g!==t;)i.push(g.head),g=g.tail;return i}return function(f){return function(i){return function(g){var N=function(I,C){return f(i(a)(g(I)))(C)},E=function(I,C,x){if(C===0)return I;var Tn=x[C-1];return new n(function(){var S=E(N(Tn,I),C-1,x);return S})};return function(I){for(var C=i(e)(g(I[I.length-1])),x=E(C,I.length-1,I);x instanceof n;)x=x.fn();return i(o)(x)}}}}}();var $e={dimap:function(n){return function(t){return function(r){return function(e){return t(r(n(e)))}}}}},Dt=function(n){return n.dimap};var Po=function(n){return function(t){return Dt(n)(A(R))(t)}};var fe=function(n){return n.right};var Jt={left:function(n){return function(t){if(t instanceof _n)return new _n(n(t.value0));if(t instanceof cn)return new cn(t.value0);throw new Error("Failed pattern match at Data.Profunctor.Choice (line 32, column 1 - line 35, column 16): "+[n.constructor.name,t.constructor.name])}},right:u(Ee),Profunctor0:function(){return $e}};var Bn={first:function(n){return function(t){return new V(n(t.value0),t.value1)}},second:u(ee),Profunctor0:function(){return $e}},He=function(n){return n.second},Ue=function(n){return n.first},Js=function(n){return function(t){return function(r){return function(e){return ye(n.Semigroupoid0())(Ue(t)(r))(He(t)(e))}}}},Ai=function(n){return function(t){return function(r){return function(e){var a=Dt(t.Profunctor0())(A(R))(function(o){return new V(o,o)})(A(n));return ye(n.Semigroupoid0())(a)(Js(n)(t)(r)(e))}}}};var i_=function(n){return function(t){return function(r){return function(e){return Dt(r.Profunctor0())(n)(function(a){return Pt(A(R))(a.value0)(a.value1)})(He(t)(fe(r)(e)))}}}},Ri=function(n){return function(t){return function(r){return function(e){return i_(Ai(R)(Bn)(n)(t))(r)(e)}}}};var s_=function(n){return function(t){return function(r){return Dt(t.Profunctor0())(n)(function(e){return e.value1(e.value0)})(Ue(t)(r))}}},Ro=function(n){return function(t){return function(r){return s_(function(e){return new V(n(e),function(a){return t(e)(a)})})(r)}}};var Ui=function(n){return function(t){return function(r){return function(e){return Dt(r.Profunctor0())(t)(Pt(A(R))(A(R)))(fe(r)(Po(r.Profunctor0())(n)(e)))}}}},qi=function(n){return function(t){return function(r){return Ui(n)(function(e){return Wn(new _n(e))(cn.create)(t(e))})(r)}}};function Wo(n){return function(t){var r=[];for(var e in t)hasOwnProperty.call(t,e)&&r.push(n(e)(t[e]));return r}}var tp=Object.keys||Wo(function(n){return function(){return n}});var Rr=function(n){return n.ix};var Wr={ix:function(n){return function(t){return function(r){var e=function(o){return function(f){return ft(o)(Mo(n)(f)(o))}},a=function(o){return Wn(new _n(o))(cn.create)(Yt(o)(n))};return Ri(e)(a)(t)(r)}}}};var Xi=function(n){return function(){return function(){return function(t){return function(r){return function(e){return Vt(pt(n)(t))(r)(e)}}}}}};var Zi=function(n){return function(){return function(t){return function(r){return Ut(pt(n)(t))(r)}}}};var _r=function(n){return function(){return function(){return function(t){return function(r){return Ro(Zi(n)()(t))(Dn(Xi(n)()()(t)))(r)}}}}};var $o=function(n){return n},xa=function(n){return function(t){return $o(n)(dn(t))}};var gp=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}},pe=function(){function n(){}return n.value=new n,n}(),Na=function(){function n(){}return n.value=new n,n}(),Aa=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ho=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Uo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),qo=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),Oo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Pa=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Bo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),zo=function(){function n(){}return n.value=new n,n}(),ko=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Rt=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Kn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Cp={eq:function(n){return function(t){return n instanceof pe&&t instanceof pe||n instanceof Na&&t instanceof Na}}},rf=function(n){if(n instanceof pe)return"standard";if(n instanceof Na)return"bool";throw new Error("Failed pattern match at Neuron.Model (line 33, column 1 - line 33, column 49): "+[n.constructor.name])},ef=ot(Rn)([0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),af=ot(Rn)([0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),of=ot(Rn)([0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),uf=ot(Rn)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),bp=function(n){var t=ge(A(R)),r=dt(function(e){return function(a){var o=ct(qn)(e)(27),f=ct(qn)(Ot(qn)(e)(9))(3);return a&&function(){var i=n<3;return i?o===n:f===(n-3|0)}()}});return function(e){return hr(t(r(e)))}},pr=function(n){var t=ft([])(Yt(n.patterns)(n.selectedPattern)),r=gp("values","Neuron.Model",function(){return dt(function(a){return function(o){return Nr(function(f){if(o instanceof Rt)return bp(a)(t);if(o instanceof Kn){var i=Do(Et)(Cr)(ot(Rn)(o.value0.coeffs)(function(E){return E.coeff*Wn(0)(Ar)(Yt(r(144))(E.from))|0})),g=i<o.value0.threshold;if(g)return 0;var N=H(Cp)(n.thresholdRule)(pe.value);return N?i:1}throw new Error("Failed pattern match at Neuron.Model (line 140, column 9 - line 151, column 18): "+[o.constructor.name])})}})(n.neurons)}),e=r(138);return{patterns:n.patterns,neurons:n.neurons,values:u(Rn)(Ar)(e),selectedPattern:n.selectedPattern,selectedInput:n.selectedInput,selectedNeuron:n.selectedNeuron,editorOpen:n.editorOpen,thresholdRule:n.thresholdRule}},ff=function(){return pr({patterns:[uf,of,af,ef],neurons:[new Rt(0),new Rt(1),new Rt(2),new Rt(3),new Rt(4),new Rt(5),new Kn({coeffs:[{from:1,coeff:1},{from:4,coeff:1}],threshold:1}),new Kn({coeffs:[{from:0,coeff:1},{from:2,coeff:1}],threshold:1}),new Kn({coeffs:[{from:2,coeff:1},{from:5,coeff:1}],threshold:1}),new Kn({coeffs:[{from:4,coeff:1},{from:5,coeff:1}],threshold:1}),new Kn({coeffs:[{from:3,coeff:1},{from:4,coeff:1}],threshold:1}),new Kn({coeffs:[{from:1,coeff:1},{from:5,coeff:1}],threshold:1}),new Kn({coeffs:[{from:6,coeff:1},{from:7,coeff:1},{from:8,coeff:1}],threshold:40}),new Kn({coeffs:[{from:6,coeff:1},{from:9,coeff:1},{from:10,coeff:1}],threshold:1}),new Kn({coeffs:[{from:7,coeff:1},{from:9,coeff:1},{from:11,coeff:1}],threshold:1}),new Kn({coeffs:[{from:8,coeff:1},{from:10,coeff:1},{from:11,coeff:1}],threshold:1})],values:[],selectedPattern:0,selectedInput:m.value,selectedNeuron:6,editorOpen:!1,thresholdRule:pe.value})}(),tf=function(n){return qi(Kn.create)(function(t){return t instanceof Kn?new l(t.value0):m.value})(n)},cf=function(n){return function(t){if(n instanceof Aa)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:n.value0,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:t.thresholdRule};if(n instanceof Ho)return pr({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:n.value0,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:t.thresholdRule});if(n instanceof Uo)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:n.value0,editorOpen:t.editorOpen,thresholdRule:t.thresholdRule};if(n instanceof qo){var r=wo(n.value1);if(r instanceof m)return t;if(r instanceof l)return pr(xa(function(){var e=_r({reflectSymbol:function(){return"neurons"}})()()(En.value)(Bn),a=Rr(Wr)(t.selectedNeuron)(Bn)(Jt),o=tf(Jt),f=_r({reflectSymbol:function(){return"coeffs"}})()()(En.value)(Bn),i=Rr(Wr)(n.value0)(Bn)(Jt),g=_r({reflectSymbol:function(){return"coeff"}})()()(En.value)(Bn);return function(N){return e(a(o(f(i(g(N))))))}}())(r.value0)(t));throw new Error("Failed pattern match at Neuron.Model (line 171, column 22 - line 177, column 33): "+[r.constructor.name])}if(n instanceof Oo){var r=wo(n.value0);if(r instanceof m)return t;if(r instanceof l)return pr(xa(function(){var a=_r({reflectSymbol:function(){return"neurons"}})()()(En.value)(Bn),o=Rr(Wr)(t.selectedNeuron)(Bn)(Jt),f=tf(Jt),i=_r({reflectSymbol:function(){return"threshold"}})()()(En.value)(Bn);return function(g){return a(o(f(i(g))))}}())(r.value0)(t));throw new Error("Failed pattern match at Neuron.Model (line 178, column 24 - line 184, column 33): "+[r.constructor.name])}if(n instanceof Pa)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:n.value0,thresholdRule:t.thresholdRule};if(n instanceof Bo)return pr($o(function(){var e=_r({reflectSymbol:function(){return"patterns"}})()()(En.value)(Bn),a=Rr(Wr)(t.selectedPattern)(Bn)(Jt),o=Rr(Wr)(n.value0)(Bn)(Jt);return function(f){return e(a(o(f)))}}())(Gt(Bt))(t));if(n instanceof zo)return pr(xa(function(){var e=_r({reflectSymbol:function(){return"patterns"}})()()(En.value)(Bn),a=Rr(Wr)(t.selectedPattern)(Bn)(Jt);return function(o){return e(a(o))}}())(function(){return t.selectedPattern===0?uf:t.selectedPattern===1?of:t.selectedPattern===2?af:ef}())(t));if(n instanceof ko)return n.value0==="standard"?pr({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:pe.value}):n.value0==="bool"?pr({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:Na.value}):t;throw new Error("Failed pattern match at Neuron.Model (line 167, column 20 - line 196, column 15): "+[n.constructor.name])}};var Sa=n=>()=>n.currentTarget.value;var sf=function(n){return function(t){return function(r){return Kr(mu)(dt(r)(n))(t)}}};var Ep=(n,t,r,e=!1)=>{let a={},o={style:a},f={tag:n,children:r,props:o,node:null,keyed:e},i=t.length;for(let g=0;g<i;g++){let[N,E,I]=t[g];N==1?o[E]=I:N===2?o.class=(o.class?o.class+" ":"")+E:N===3&&(a[E]=I)}return f},Yn=n=>t=>r=>Ep(n,t,r.map(e=>[null,e]));var Mp=n=>({tag:n,props:{},children:[],type:3});var hn=n=>t=>[1,n,t],Hn=n=>[2,n],_f=[-1],Ra=n=>t=>[1,"on"+n,t],Lt=n=>t=>[3,n,t],Xn=Mp;function pf(n){return n.currentTarget}function Jo(n){return n.type}function mf(n,t,r){return n==null?t:r(n)}var Mn=function(n){return mf(n,m.value,l.create)};var Vo=function(n){return Mn(pf(n))};var Ha=Xn("");var Qo=function(n){return function(t){if(n instanceof l)return t(n.value0);if(n instanceof m)return Ha;throw new Error("Failed pattern match at Pha.Html.Core (line 81, column 1 - line 81, column 52): "+[n.constructor.name,t.constructor.name])}},Go=function(n){return function(t){return n?t(void 0):Ha}},Be=function(n){return function(t){return t?Hn(n):_f}};var Ua=function(){var n=hn("y2"),t=h(bt);return function(r){return n(t(r))}}(),qa=function(){var n=hn("y1"),t=h(bt);return function(r){return n(t(r))}}(),ke=function(){var n=hn("y"),t=h(bt);return function(r){return n(t(r))}}(),Oa=function(){var n=hn("x2"),t=h(bt);return function(r){return n(t(r))}}(),Ba=function(){var n=hn("x1"),t=h(bt);return function(r){return n(t(r))}}(),$r=function(){var n=hn("x"),t=h(bt);return function(r){return n(t(r))}}();var df=function(n){return function(t){return function(r){return function(e){return hn("viewBox")(h(Jn)(n)+(" "+(h(Jn)(t)+(" "+(h(Jn)(r)+(" "+h(Jn)(e)))))))}}}},me=hn("value"),Ko=hn("type");var za=function(){var n=hn("stroke-width"),t=h(bt);return function(r){return n(t(r))}}();var Hr=hn("stroke");var Yo=function(){var n=hn("r"),t=h(bt);return function(r){return n(t(r))}}();var Xo=function(){var n=hn("min"),t=h(Jn);return function(r){return n(t(r))}}();var Df=function(){var n=hn("max"),t=h(Jn);return function(r){return n(t(r))}}();var Zo=hn("fill");var Ur=function(n){return function(t){return Yn("text")(t)([Xn(n)])}},yf=Yn("svg");var ka=function(n){return Yn("line")(n)([])};var mr=Yn("g");var Sn=Yn("div"),nu=function(n){return Yn("circle")(n)([])};var gf=s,qr=Ra;var Or=function(n){return qr("click")(function(){var t=L(Vn);return function(r){return t(l.create(n(r)))}}())};var Cf=function(n){return qr("pointerenter")(function(){var t=L(Vn);return function(r){return t(l.create(n(gf(r))))}}())},bf=function(n){return qr("pointerleave")(function(){var t=L(Vn);return function(r){return t(l.create(n(gf(r))))}}())};var tu=function(n){return function(t){return"translate("+(n+(","+(t+")")))}};var nr=function(n){return h(bt)(n*100)+"%"};var Jp=function(n){var t=Qo(Yt(n.patterns)(n.selectedPattern))(function(r){return Sn([Hn("pattern-editor")])(dt(function(e){return function(a){var o=ct(qn)(e)(9),f=Ot(qn)(e)(9);return Sn([Hn("pattern-pixel"),Be("black")(a),Lt("width")("11.1111111111%"),Lt("height")("11.1111111111%"),Lt("left")(nr($n(f)/9)),Lt("top")(nr($n(o)/9)),Or(function(i){return new Bo(e)})])([])}})(r))});return Sn([Hn("absolute flex-center ui-dialog-container")])([Sn([Hn("ui-dialog")])([Sn([Hn("ui-dialog-head")])([Sn([Hn("ui-dialog-title")])([Xn("Modifier le motif")])]),Sn([Hn("ui-dialog-body")])([t]),Sn([Hn("ui-dialog-buttons")])([Yn("sl-button")([Or(function(r){return zo.value})])([Xn("R\xE9initialiser")]),Yn("sl-button")([Or(function(r){return new Pa(!1)})])([Xn("Ok")])])])])},jp=function(n){return function(t){return function(r){return function(e){return Sn([Hn("pattern"),Be("selected")(t),Or(function(a){return new Ho(n)})])(dt(function(a){return function(o){var f=ct(qn)(a)(9),i=Ot(qn)(a)(9),g=t&&(H(Tr(Te))(new l(ct(qn)(f)(3)))(r)||H(Tr(Te))(new l(ct(qn)(i)(3)+3|0))(r));return Sn([Hn("pattern-pixel"),Be("black")(o),Be("selected")(g),Lt("width")("11.1111111111%"),Lt("height")("11.1111111111%"),Lt("left")(nr($n(i)/9)),Lt("top")(nr($n(f)/9))])([])}})(e))}}}},Vp=function(n){return ka([qa(20+20*$n(n)),Ua(20+20*$n(n)),Ba(105),Oa(120),za(.5),Hr("grey")])},Qp=function(n){return function(t){var r=Ot(qn)(t)(6),e=Ot(qn)(n)(6),a=ct(qn)(t)(6),o=ct(qn)(n)(6);return ka([qa(function(){var f=o<=1;return f?10+15*$n(e):20+20*$n(e)}()),Ua(function(){var f=a<=1;return f?10+15*$n(r):20+20*$n(r)}()),Ba(function(){var f=o===0;if(f)return 15;var i=o===1;return i?60:105}()),Oa(function(){var f=a===0;if(f)return 15;var i=a===1;return i?60:105}()),za(.5),Hr("grey")])}},Gp=function(n){return ka([qa(10+15*$n(n)),Ua(10+15*$n(n)),Ba(0),Oa(15),za(.5),Hr("grey")])},Tf=function(n){var t=yf([df(0)(0)(150)(100)])([mr([])(he(dt(function(r){return function(e){if(e instanceof Rt)return[];if(e instanceof Kn)return ot(Rn)(e.value0.coeffs)(function(a){return Qp(r)(a.from)});throw new Error("Failed pattern match at Neuron.View (line 174, column 21 - line 177, column 66): "+[e.constructor.name])}})(n.neurons))),mr([])(u(Rn)(Gp)(yr(0)(5))),mr([])(u(Rn)(Vp)(yr(0)(3))),mr([])(sf(n.neurons)(n.values)(function(r){return function(e){return function(a){var o=Ot(qn)(r)(6),f=ct(qn)(r)(6);if(e instanceof Rt)return mr([Lt("transform")(tu(nr(.1))(nr(.1+$n(o)*.15)))])([nu([Yo(5),Cf(function(i){return new Aa(new l(r))}),bf(function(i){return new Aa(m.value)}),Zo("pink")]),Ur(h(Jn)(a))([$r(-2.5),ke(2),hn("font-size")("0.3rem"),hn("pointer-events")("none")])]);if(e instanceof Kn)return mr([Lt("transform")(tu(nr(function(){var i=f===1;return i?.4:.7}()))(nr(function(){var i=f===1;return i?.1+.15*$n(o):.2+.2*$n(o)}())))])([nu([Yo(5),Zo("pink"),Hr(function(){var i=r===n.selectedNeuron;return i?"green":"pink"}()),Or(function(i){return new Uo(r)})]),Ur(h(Jn)(a))([$r(-2.5),ke(2),hn("font-size")("0.3rem"),hn("pointer-events")("none")]),Ur("\u2265"+h(Jn)(e.value0.threshold))([$r(-2.5),ke(-5.5),hn("font-size")("0.2rem")]),mr([])(dt(function(i){return function(g){return Ur("\xD7"+h(Jn)(g.coeff))([$r(-8),ke($n(i)*3),hn("font-size")("0.18rem"),hn("pointer-events")("none")])}})(e.value0.coeffs)),Go(f===2)(function(i){var g=a>=e.value0.threshold;return g?Ur("\u2713")([$r(20),hn("font-size")("0.4rem"),Hr("green")]):Ur("\u2A2F")([$r(20),hn("font-size")("0.4rem"),Hr("red")])})]);throw new Error("Failed pattern match at Neuron.View (line 184, column 17 - line 233, column 26): "+[e.constructor.name])}}}))]);return Sn([Hn("layout")])([Sn([Hn("row")])([Sn([Hn("col-6")])([Yn("sl-button")([Or(function(r){return new Pa(!0)})])([Xn("Modifier le motif")]),Sn([])(dt(function(r){return jp(r)(n.selectedPattern===r)(n.selectedInput)})(n.patterns)),Qo(Yt(n.neurons)(n.selectedNeuron))(function(r){if(r instanceof Rt)return Ha;if(r instanceof Kn)return Sn([Hn("config-main")])(W(gr)([Sn([])([Xn("R\xE8gle pour le seuil")]),Yn("sl-select")([me(rf(n.thresholdRule)),qr("sl-change")(function(e){return u(X)(u(gt)(l.create)(ko.create))(Sa(e))})])([Yn("sl-menu-item")([me("standard")])([Xn("Standard")]),Yn("sl-menu-item")([me("bool")])([Xn("Bool\xE9en")])]),Sn([])([Xn("Seuil: ")]),Yn("sl-input")([Ko("number"),me(h(Jn)(r.value0.threshold)),Xo(0),qr("sl-change")(function(e){return u(X)(u(gt)(l.create)(Oo.create))(Sa(e))})])([])])(he(dt(function(e){return function(a){return[Sn([])([Xn("Coeff "+(h(Jn)(e+1|0)+": "))]),Yn("sl-input")([Ko("number"),me(h(Jn)(a.coeff)),Xo(-9),Df(9),qr("sl-change")(function(o){return u(X)(u(gt)(l.create)(qo.create(e)))(Sa(o))})])([])]}})(r.value0.coeffs))));throw new Error("Failed pattern match at Neuron.View (line 133, column 53 - line 162, column 26): "+[r.constructor.name])})]),Sn([Hn("col-24 relative")])([t])]),Go(n.editorOpen)(function(r){return Jp(n)})])};var Br=function(){var n={},t="Pure",r="Throw",e="Catch",a="Sync",o="Async",f="Bind",i="Bracket",g="Fork",N="Sequential",E="Map",I="Apply",C="Alt",x="Cons",Tn="Resume",S="Release",bn="Finalizer",xn="Finalized",xt="Forked",dr="Fiber",Xe="Thunk";function b(y,tn,wn,ln){this.tag=y,this._1=tn,this._2=wn,this._3=ln}function yt(y){var tn=function(wn,ln,T){return new b(y,wn,ln,T)};return tn.tag=y,tn}function Xa(y){return new b(t,void 0)}function Kf(y){try{y()}catch(tn){setTimeout(function(){throw tn},0)}}function Yf(y,tn,wn){try{return tn(wn())}catch(ln){return y(ln)}}function Xf(y,tn,wn){try{return tn(wn)()}catch(ln){return wn(y(ln))(),Xa}}var Ze=function(){var y=1024,tn=0,wn=0,ln=new Array(y),T=!1;function p(){var fn;for(T=!0;tn!==0;)tn--,fn=ln[wn],ln[wn]=void 0,wn=(wn+1)%y,fn();T=!1}return{isDraining:function(){return T},enqueue:function(fn){var O,Fn;tn===y&&(Fn=T,p(),T=Fn),ln[(wn+tn)%y]=fn,tn++,T||p()}}}();function Zf(y){var tn={},wn=0,ln=0;return{register:function(T){var p=wn++;T.onComplete({rethrow:!0,handler:function(fn){return function(){ln--,delete tn[p]}}})(),tn[p]=T,ln++},isEmpty:function(){return ln===0},killAll:function(T,p){return function(){if(ln===0)return p();var fn=0,O={};function Fn(pn){O[pn]=tn[pn].kill(T,function(Nn){return function(){delete O[pn],fn--,y.isLeft(Nn)&&y.fromLeft(Nn)&&setTimeout(function(){throw y.fromLeft(Nn)},0),fn===0&&p()}})()}for(var Un in tn)tn.hasOwnProperty(Un)&&(fn++,Fn(Un));return tn={},wn=0,ln=0,function(pn){return new b(a,function(){for(var Nn in O)O.hasOwnProperty(Nn)&&O[Nn]()})}}}}}var Vr=0,at=1,na=2,ta=3,ra=4,_t=5,ve=6;function Za(y,tn,wn){var ln=0,T=Vr,p=wn,fn=null,O=null,Fn=null,Un=null,pn=null,Nn=0,Dr=0,ht=null,rr=!0;function er(F){for(var M,K,Z;;)switch(M=null,K=null,Z=null,T){case na:T=at;try{p=Fn(p),Un===null?Fn=null:(Fn=Un._1,Un=Un._2)}catch(zn){T=_t,fn=y.left(zn),p=null}break;case ta:y.isLeft(p)?(T=_t,fn=p,p=null):Fn===null?T=_t:(T=na,p=y.fromRight(p));break;case at:switch(p.tag){case f:Fn&&(Un=new b(x,Fn,Un)),Fn=p._2,T=at,p=p._1;break;case t:Fn===null?(T=_t,p=y.right(p._1)):(T=na,p=p._1);break;case a:T=ta,p=Yf(y.left,y.right,p._1);break;case o:T=ra,p=Xf(y.left,p._1,function(zn){return function(){ln===F&&(ln++,Ze.enqueue(function(){ln===F+1&&(T=ta,p=zn,er(ln))}))}});return;case r:T=_t,fn=y.left(p._1),p=null;break;case e:Fn===null?pn=new b(x,p,pn,O):pn=new b(x,p,new b(x,new b(Tn,Fn,Un),pn,O),O),Fn=null,Un=null,T=at,p=p._1;break;case i:Nn++,Fn===null?pn=new b(x,p,pn,O):pn=new b(x,p,new b(x,new b(Tn,Fn,Un),pn,O),O),Fn=null,Un=null,T=at,p=p._1;break;case g:T=ta,M=Za(y,tn,p._2),tn&&tn.register(M),p._1&&M.run(),p=y.right(M);break;case N:T=at,p=tc(y,tn,p._1);break}break;case _t:if(Fn=null,Un=null,pn===null)T=ve,p=O||fn||p;else switch(M=pn._3,Z=pn._1,pn=pn._2,Z.tag){case e:O&&O!==M&&Nn===0?T=_t:fn&&(T=at,p=Z._2(y.fromLeft(fn)),fn=null);break;case Tn:O&&O!==M&&Nn===0||fn?T=_t:(Fn=Z._1,Un=Z._2,T=na,p=y.fromRight(p));break;case i:Nn--,fn===null&&(K=y.fromRight(p),pn=new b(x,new b(S,Z._2,K),pn,M),(O===M||Nn>0)&&(T=at,p=Z._3(K)));break;case S:pn=new b(x,new b(xn,p,fn),pn,O),T=at,O&&O!==M&&Nn===0?p=Z._1.killed(y.fromLeft(O))(Z._2):fn?p=Z._1.failed(y.fromLeft(fn))(Z._2):p=Z._1.completed(y.fromRight(p))(Z._2),fn=null,Nn++;break;case bn:Nn++,pn=new b(x,new b(xn,p,fn),pn,O),T=at,p=Z._1;break;case xn:Nn--,T=_t,p=Z._1,fn=Z._2;break}break;case ve:for(var In in ht)ht.hasOwnProperty(In)&&(rr=rr&&ht[In].rethrow,Kf(ht[In].handler(p)));ht=null,O&&fn?setTimeout(function(){throw y.fromLeft(fn)},0):y.isLeft(p)&&rr&&setTimeout(function(){if(rr)throw y.fromLeft(p)},0);return;case Vr:T=at;break;case ra:return}}function Ln(F){return function(){if(T===ve)return rr=rr&&F.rethrow,F.handler(p)(),function(){};var M=Dr++;return ht=ht||{},ht[M]=F,function(){ht!==null&&delete ht[M]}}}function w(F,M){return function(){if(T===ve)return M(y.right(void 0))(),function(){};var K=Ln({rethrow:!1,handler:function(){return M(y.right(void 0))}})();switch(T){case Vr:O=y.left(F),T=ve,p=O,er(ln);break;case ra:O===null&&(O=y.left(F)),Nn===0&&(T===ra&&(pn=new b(x,new b(bn,p(F)),pn,O)),T=_t,p=null,fn=null,er(++ln));break;default:O===null&&(O=y.left(F)),Nn===0&&(T=_t,p=null,fn=null)}return K}}function B(F){return function(){var M=Ln({rethrow:!1,handler:F})();return T===Vr&&er(ln),M}}return{kill:w,join:B,onComplete:Ln,isSuspended:function(){return T===Vr},run:function(){T===Vr&&(Ze.isDraining()?er(ln):Ze.enqueue(function(){er(ln)}))}}}function nc(y,tn,wn,ln){var T=0,p={},fn=0,O={},Fn=new Error("[ParAff] Early exit"),Un=null,pn=n;function Nn(Ln,w,B){var F=w,M=null,K=null,Z=0,In={},zn,de;n:for(;;)switch(zn=null,F.tag){case xt:if(F._3===n&&(zn=p[F._1],In[Z++]=zn.kill(Ln,function(rc){return function(){Z--,Z===0&&B(rc)()}})),M===null)break n;F=M._2,K===null?M=null:(M=K._1,K=K._2);break;case E:F=F._2;break;case I:case C:M&&(K=new b(x,M,K)),M=F,F=F._1;break}if(Z===0)B(y.right(void 0))();else for(de=0,zn=Z;de<zn;de++)In[de]=In[de]();return In}function Dr(Ln,w,B){var F,M,K,Z,In,zn;y.isLeft(Ln)?(F=Ln,M=null):(M=Ln,F=null);n:for(;;){if(K=null,Z=null,In=null,zn=null,Un!==null)return;if(w===null){ln(F||M)();return}if(w._3!==n)return;switch(w.tag){case E:F===null?(w._3=y.right(w._1(y.fromRight(M))),M=w._3):w._3=F;break;case I:if(K=w._1._3,Z=w._2._3,F){if(w._3=F,In=!0,zn=fn++,O[zn]=Nn(Fn,F===K?w._2:w._1,function(){return function(){delete O[zn],In?In=!1:B===null?Dr(F,null,null):Dr(F,B._1,B._2)}}),In){In=!1;return}}else{if(K===n||Z===n)return;M=y.right(y.fromRight(K)(y.fromRight(Z))),w._3=M}break;case C:if(K=w._1._3,Z=w._2._3,K===n&&y.isLeft(Z)||Z===n&&y.isLeft(K))return;if(K!==n&&y.isLeft(K)&&Z!==n&&y.isLeft(Z))F=M===K?Z:K,M=null,w._3=F;else if(w._3=M,In=!0,zn=fn++,O[zn]=Nn(Fn,M===K?w._2:w._1,function(){return function(){delete O[zn],In?In=!1:B===null?Dr(M,null,null):Dr(M,B._1,B._2)}}),In){In=!1;return}break}B===null?w=null:(w=B._1,B=B._2)}}function ht(Ln){return function(w){return function(){delete p[Ln._1],Ln._3=w,Dr(w,Ln._2._1,Ln._2._2)}}}function rr(){var Ln=at,w=wn,B=null,F=null,M,K;n:for(;;)switch(M=null,K=null,Ln){case at:switch(w.tag){case E:B&&(F=new b(x,B,F)),B=new b(E,w._1,n,n),w=w._2;break;case I:B&&(F=new b(x,B,F)),B=new b(I,n,w._2,n),w=w._1;break;case C:B&&(F=new b(x,B,F)),B=new b(C,n,w._2,n),w=w._1;break;default:K=T++,Ln=_t,M=w,w=new b(xt,K,new b(x,B,F),n),M=Za(y,tn,M),M.onComplete({rethrow:!1,handler:ht(w)})(),p[K]=M,tn&&tn.register(M)}break;case _t:if(B===null)break n;B._1===n?(B._1=w,Ln=at,w=B._2,B._2=n):(B._2=w,w=B,F===null?B=null:(B=F._1,F=F._2))}for(pn=w,K=0;K<T;K++)p[K].run()}function er(Ln,w){Un=y.left(Ln);var B;for(var F in O)if(O.hasOwnProperty(F)){B=O[F];for(F in B)B.hasOwnProperty(F)&&B[F]()}O=null;var M=Nn(Ln,pn,w);return function(K){return new b(o,function(Z){return function(){for(var In in M)M.hasOwnProperty(In)&&M[In]();return Xa}})}}return rr(),function(Ln){return new b(o,function(w){return function(){return er(Ln,w)}})}}function tc(y,tn,wn){return new b(o,function(ln){return function(){return nc(y,tn,wn,ln)}})}return b.EMPTY=n,b.Pure=yt(t),b.Throw=yt(r),b.Catch=yt(e),b.Sync=yt(a),b.Async=yt(o),b.Bind=yt(f),b.Bracket=yt(i),b.Fork=yt(g),b.Seq=yt(N),b.ParMap=yt(E),b.ParApply=yt(I),b.ParAlt=yt(C),b.Fiber=Za,b.Supervisor=Zf,b.Scheduler=Ze,b.nonCanceler=Xa,b}(),Zp=Br.Pure,nm=Br.Throw;var tm=Br.Sync;var Ef=Br.Async;var rm=function(){function n(r,e){return r===0&&typeof setImmediate<"u"?setImmediate(e):setTimeout(e,r)}function t(r,e){return r===0&&typeof clearImmediate<"u"?clearImmediate(e):clearTimeout(e)}return function(r,e){return Br.Async(function(a){return function(){var o=n(e,a(r()));return function(){return Br.Sync(function(){return r(t(e,o))})}}})}}(),em=Br.Seq;var Wf=(n,t)=>Object.assign({},n,t),$f=(n,t)=>n&&t?r=>n(t(r)):n||t,Hf=(n,t,r,e,a,o,f)=>{if(t==="style")for(let i in Wf(r,e))r=e==null||e[i]==null?"":e[i],i[0]==="-"?n[t].setProperty(i,r):n[t][i]=r;else if(t[0]==="o"&&t[1]==="n"){let i=t.slice(2);n.actions||(n.actions={}),n.actions[i]=f&&e?f(e):e,e?r||n.addEventListener(i,a):n.removeEventListener(i,a)}else!o&&t in n?n[t]=e:e==null||e===!1||t==="class"&&!e?n.removeAttribute(t):n.setAttribute(t,e)},Ga=(n,t,r,e)=>{let a=n.type===3?document.createTextNode(n.tag):(r=r||n.tag==="svg")?document.createElementNS("http://www.w3.org/2000/svg",n.tag):document.createElement(n.tag),o=n.props,f=$f(e,n.mapf);for(let i in o)Hf(a,i,null,o[i],t,r,f);for(let i=0,g=n.children.length;i<g;i++)a.appendChild(Ga(jr(n.children[i])[1],t,r,f));return n.node=a,a},mm=n=>n&&n[0],Jr=(n,t,r,e,a,o,f)=>{if(r!==e)if(r!=null&&r.type===3&&e.type===3)r.tag!==e.tag&&(t.nodeValue=e.tag);else if(r==null||r.tag!==e.tag)t=n.insertBefore(Ga(e,a,o,f),t),r&&r.node&&n.removeChild(r.node);else{let i=r.props,g=e.props,N=r.children,E=e.children,I=0,C=0,x=N.length-1,Tn=E.length-1;f=$f(f,e.mapf),o=o||e.tag==="svg";for(let S in Wf(i,g))(S==="value"||S==="selected"||S==="checked"?t[S]:i[S])!==g[S]&&Hf(t,S,i[S],g[S],a,o,f);if(e.keyed){for(;C<=Tn&&I<=x;){let[S,bn]=N[I];if(S!==E[C][0])break;let xn=jr(E[C],bn);Jr(t,bn.node,bn,xn[1],a,o,f),C++,I++}for(;C<=Tn&&I<=x;){let[S,bn]=N[x];if(S!==E[Tn][0])break;let xn=jr(E[Tn],bn);Jr(t,bn.node,bn,xn[1],a,o,f),Tn--,x--}if(I>x)for(;C<=Tn;){let S=jr(E[C])[1];t.insertBefore(Ga(S,a,o,f),N[I]&&N[I][1].node),C++}else if(C>Tn)for(;I<=x;)t.removeChild(N[I][1].node),I++;else{let S={},bn={};for(let xn=I;xn<=x;xn++)S[N[xn][0]]=N[xn][1];for(;C<=Tn;){let[xn,xt]=N[I],[dr,Xe]=jr(E[C],xt);if(bn[xn]||dr===mm(N[I+1])){I++;continue}if(xn===dr)Jr(t,xt.node,xt,Xe,a,o,f),bn[dr]=!0,I++;else{let b=S[dr];b!=null?(Jr(t,t.insertBefore(b.node,xt.node),b,E[C][1],a,o,f),bn[dr]=!0):Jr(t,xt.node,null,E[C][1],a,o,f)}C++}for(let xn in S)bn[xn]||t.removeChild(S[xn].node)}}else{for(let S=0;S<=x&&S<=Tn;S++){let bn=N[S][1],xn=jr(E[S],bn)[1];Jr(t,bn.node,bn,xn,a,o,f)}for(let S=x+1;S<=Tn;S++){let bn=jr(E[S],r)[1];t.appendChild(Ga(bn,a,o,f))}for(let S=Tn+1;S<=x;S++)t.removeChild(N[S][1].node)}}return e.node=t,t},vm=(n,t)=>{for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!0;return!1},dm=(n,t)=>t.reduce((r,e)=>r(e),n),jr=(n,t)=>(typeof n[1].type=="function"&&((!t||t.memo==null||vm(t.memo,n[1].memo))&&(t=Ye(dm(n[1].type,n[1].memo)),t.memo=n[1].memo),n[1]=t),n),Ye=n=>Object.assign({},n,{children:n.children&&n.children.map(([t,r])=>[t,Ye(r)])}),ou=n=>t=>()=>n.actions[t],uu=n=>t=>r=>e=>a=>()=>Jr(n,t,r,e,o=>a(o)());function iu(n){return function(t){return n===t}}var Uf=iu;var Ka=function(n){return function(t){return t[n]}},xm=Ka("namespaceURI"),Nm=Ka("prefix"),Am=Ka("localName"),Pm=Ka("tagName");var Ya=function(n){return function(t){return function(){return t[n]}}},Rm=Ya("children"),Wm=Ya("firstElementChild"),$m=Ya("lastElementChild"),Hm=Ya("childElementCount");function qf(n){return function(t){return function(){return t.querySelector(n)}}}var Of=function(n){var t=u(X)(Mn),r=qf(n);return function(e){return t(r(e))}};var Bf=s;var $t=function(n){return function(t){return function(){return t[n]}}};var Jm=$t("baseURI"),jm=$t("ownerDocument"),zf=$t("parentNode"),Vm=$t("parentElement");var Qm=$t("childNodes"),Gm=$t("firstChild"),Km=$t("lastChild"),Ym=$t("previousSibling"),Xm=$t("nextSibling"),Zm=$t("nodeValue");var nv=$t("textContent");var kf=function(){var n=u(X)(Mn);return function(t){return n(zf(t))}}();var fu=function(){return window};var Jf=s;function cu(n){return function(){return n.document}}var ed=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}};var ad=function(n){var t=function(r){return function(e){return function(a){var o=ir(r),f=function(C){return function(){var Tn=ir(r)();return Yr(Vn)(Uf(Tn)(C))(function(){return Er(C)(r)(),i(n.view(C))()})()}},i=function(C){return function(){var Tn=ir(a)(),S=ir(e)(),bn=kf(S)();return Kt(Vn)(cr)(bn)(function(xn){var xt=Ye(C);return function(){var Xe=uu(xn)(S)(Tn)(xt)(g)();return Er(Xe)(e)(),Er(xt)(a)()}})()}},g=function(C){var x=Jo(C);return Kt(Vn)(cr)(Vo(C))(function(Tn){return function(){var bn=ou(Tn)(x)();return N(C)(bn)()}})},N=function(C){return function(x){return function(){var S=x(C)();return Kt(Vn)(cr)(S)(E(75))()}}},E=ed("dispatch","Pha.App",function(){return n.update({get:o,put:function(C){return f(C)}})}),I=E(68);return function(){return i(n.view(n.init.state))(),Kt(Vn)(Et)(n.subscriptions)(function(x){return x(I)})(),Kt(Vn)(cr)(n.init.action)(I)()}}}};return function(){var e=ot(X)(nn(ia)(fu)(cu))(Jf)(),a=u(X)(u(jn)(Bf))(Of(n.selector)(e))();return Kt(Vn)(cr)(a)(function(o){return function(){var i=te(n.init.state)(),g=te(o)(),N=te(Xn(""))();return t(i)(g)(N)()}})()}},Qf=function(n){return ad({init:{state:n.init,action:m.value},view:n.view,update:function(t){return function(r){return function(){var a=t.get();return t.put(n.update(r)(a))()}}},subscriptions:[],selector:n.selector})};var Gf=Qf({init:ff,view:Tf,update:cf,selector:"#root"});Gf();})();

(()=>{var ve={compose:function(n){return function(t){return function(r){return n(t(r))}}}},Vr=function(n){return n.compose},de=function(n){return function(t){return function(r){return Vr(n)(r)(t)}}};var A=function(n){return n.identity},S={identity:function(n){return n},Semigroupoid0:function(){return ve}};var Dr=function(n){return function(t){for(var r=n>t?-1:1,e=new Array(r*(t-n)+1),a=n,o=0;a!==t;)e[o++]=a,a+=r;return e[o]=a,e}},ec=function(n){return function(t){if(n<1)return[];var r=new Array(n);return r.fill(t)}},ac=function(n){return function(t){for(var r=[],e=0,a=0;a<n;a++)r[e++]=t;return r}},su=typeof Array.prototype.fill=="function"?ec:ac,oc=function(){function n(a,o){this.head=a,this.tail=o}var t={};function r(a){return function(o){return new n(a,o)}}function e(a){for(var o=[],f=0,i=a;i!==t;)o[f++]=i.head,i=i.tail;return o}return function(a){return function(o){return e(a(r)(t)(o))}}}(),yr=function(n){return n.length};var _u=function(n){return function(t){return function(r){return function(e){return e<0||e>=r.length?t:n(r[e])}}}};var pu=function(n){return function(t){return function(r){return function(e){return function(a){if(r<0||r>=a.length)return t;var o=a.slice();return o[r]=e,n(o)}}}}};var De=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var t=[],r=0,e=n.length;r<e;r++)for(var a=n[r],o=0,f=a.length;o<f;o++)t.push(a[o]);return t},ye=function(n){return function(t){return t.filter(n)}};var uc=function(){function n(t,r,e,a,o,f){var i,h,N,L,I,C,x;for(i=o+(f-o>>1),i-o>1&&n(t,r,a,e,o,i),f-i>1&&n(t,r,a,e,i,f),h=o,N=i,L=o;h<i&&N<f;)I=a[h],C=a[N],x=r(t(I)(C)),x>0?(e[L++]=C,++N):(e[L++]=I,++h);for(;h<i;)e[L++]=a[h++];for(;N<f;)e[L++]=a[N++]}return function(t){return function(r){return function(e){var a;return e.length<2?e:(a=e.slice(0),n(t,r,a,e.slice(0),0,e.length),a)}}}}();var Gr=function(n){return function(t){return function(r){for(var e=t.length<r.length?t.length:r.length,a=new Array(e),o=0;o<e;o++)a[o]=n(t[o])(r[o]);return a}}};var mu=function(n){return function(t){for(var r=t.length,e=new Array(r),a=0;a<r;a++)e[a]=n(t[a]);return e}};var Dn=function(n){return function(t){return function(r){return n(r)(t)}}},dn=function(n){return function(t){return n}};var vu=function(n){return function(t){return n(t)}};var En=function(){function n(){}return n.value=new n,n}();var u=function(n){return n.map},et=function(n){return function(t){return function(r){return u(n)(r)(t)}}};var jt={map:Vr(ve)},Rn={map:mu};var du=function(n){return function(t){return n.length===0?t:t.length===0?n:n.concat(t)}};var _t=function(n){return n.reflectSymbol};var Ht=function(n){return function(t){return t[n]}},Vt=function(n){return function(t){return function(r){var e={};for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e[n]=t,e}}};var gr={append:du};var W=function(n){return n.append};var mn=function(n){return n.apply};var na=function(n){return function(t){return function(r){return mn(n)(u(n.Functor0())(dn(A(S)))(t))(r)}}};var w=function(n){return n.pure},Kr=function(n){return function(t){return function(r){if(!t)return r;if(t)return w(n)(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}};var ge=function(n){return function(t){return function(r){return mn(n.Apply0())(w(n)(t))(r)}}};var X=function(n){return n.bind};var gt=function(n){return function(t){return function(r){return X(n.Bind1())(t)(function(e){return X(n.Bind1())(r)(function(a){return w(n.Applicative0())(e(a))})})}}};var Dc=String.fromCharCode(65535),yc=String.fromCharCode(0),gc=Number.POSITIVE_INFINITY,hc=Number.NEGATIVE_INFINITY;var Tc=function(n){return function(t){return n===t}};var Cu=Tc;var Ce={eq:Cu};var O=function(n){return n.eq};var bu=function(n){return function(t){return n-t|0}};var Tu=function(n){return function(t){return n+t|0}},Fu=function(n){return function(t){return n*t|0}};var xt=function(n){return n.zero};var hr={add:Tu,zero:0,mul:Fu,one:1};var pt=function(n){return n.add};var Eu={sub:bu,Semiring0:function(){return hr}};var wu=function(n){return n.toString()},Lu=function(n){var t=n.toString();return isNaN(t+".0")?t:t+".0"};var ht={show:Lu},nt={show:wu};var g=function(n){return n.show};var s=function(){function n(){}return n.value=new n,n}(),l=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var $n=function(n){return function(t){return function(r){if(r instanceof s)return n;if(r instanceof l)return t(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}};var Wn={map:function(n){return function(t){return t instanceof l?new l(n(t.value0)):s.value}}};var ut=function(n){return $n(n)(A(S))};var br=function(n){return{eq:function(t){return function(r){return t instanceof s&&r instanceof s?!0:t instanceof l&&r instanceof l?O(n)(t.value0)(r.value0):!1}}}};var ea={apply:function(n){return function(t){if(n instanceof l)return u(Wn)(n.value0)(t);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): "+[n.constructor.name,t.constructor.name])}},Functor0:function(){return Wn}},Tr={bind:function(n){return function(t){if(n instanceof l)return t(n.value0);if(n instanceof s)return s.value;throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): "+[n.constructor.name,t.constructor.name])}},Apply0:function(){return ea}};var _n=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),fn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var Te={map:function(n){return function(t){if(t instanceof _n)return new _n(t.value0);if(t instanceof fn)return new fn(n(t.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[t.constructor.name])}}};var Nt=function(n){return function(t){return function(r){if(r instanceof _n)return n(r.value0);if(r instanceof fn)return t(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}};var Iu=function(n){return Math.min(Math.abs(n),2147483647)},xu=function(n){return function(t){return t===0?0:t>0?Math.floor(n/t):-Math.floor(n/-t)}},Nu=function(n){return function(t){if(t===0)return 0;var r=Math.abs(t);return(n%r+r)%r}};var Au={Ring0:function(){return Eu}};var qt=function(n){return n.mod};var qn={degree:Iu,div:xu,mod:Nu,CommutativeRing0:function(){return Au}},it=function(n){return n.div};var vn=function(n){return n.mempty};var Pu=function(n){return function(){return n}},Su=function(n){return function(t){return function(){return t(n())()}}};var Ru=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}},aa={Applicative0:function(){return On},Bind1:function(){return oa}},oa={bind:Su,Apply0:function(){return $u(0)}},On={pure:Pu,Apply0:function(){return $u(0)}},Wu=Ru("functorEffect","Effect",function(){return{map:ge(On)}}),$u=Ru("applyEffect","Effect",function(){return{apply:gt(aa),Functor0:function(){return Wu(0)}}}),on=Wu(20);var Hu=function(n){return function(){return{value:n}}};var ir=function(n){return function(){return n.value}};var Er=function(n){return function(t){return function(){t.value=n}}};var ne=Hu;var Xc=function(){function n(t,r,e,a,o,f){var i,h,N,L,I,C,x;for(i=o+(f-o>>1),i-o>1&&n(t,r,a,e,o,i),f-i>1&&n(t,r,a,e,i,f),h=o,N=i,L=o;h<i&&N<f;)I=a[h],C=a[N],x=r(t(I)(C)),x>0?(e[L++]=C,++N):(e[L++]=I,++h);for(;h<i;)e[L++]=a[h++];for(;N<f;)e[L++]=a[N++]}return function(t){return function(r){return function(e){return function(){return e.length<2||n(t,r,e,e.slice(0),0,e.length),e}}}}}();var ju=function(n){return function(t){return n&&t}},Vu=function(n){return function(t){return n||t}},Qu=function(n){return!n};var Gt=function(n){return n.not};var te=function(n){return n.disj},Ot={ff:!1,tt:!0,implies:function(n){return function(t){return te(Ot)(Gt(Ot)(n))(t)}},conj:ju,disj:Vu,not:Qu};var Yu=function(n){return function(t){return function(r){for(var e=t,a=r.length,o=a-1;o>=0;o--)e=n(r[o])(e);return e}}},Xu=function(n){return function(t){return function(r){for(var e=t,a=r.length,o=0;o<a;o++)e=n(e)(r[o]);return e}}};var V=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}();var re={map:function(n){return function(t){return new V(t.value0,n(t.value1))}}};var _=function(n){return n};var jn=function(n){return n.foldr};var da=function(n){return function(t){return function(r){return jn(t)(function(){var e=na(n.Apply0());return function(a){return e(r(a))}}())(w(n)(void 0))}}},Kt=function(n){return function(t){return Dn(da(n)(t))}};var Vn=function(n){return n.foldl};var vo=function(n){return function(t){return Vn(n)(pt(t))(xt(t))}};var cr={foldr:function(n){return function(t){return function(r){if(r instanceof s)return t;if(r instanceof l)return n(r.value0)(t);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldl:function(n){return function(t){return function(r){if(r instanceof s)return t;if(r instanceof l)return n(t)(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldMap:function(n){return function(t){return function(r){if(r instanceof s)return vn(n);if(r instanceof l)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var oi=function(n){return function(t){return function(r){return jn(n)(function(e){return function(a){return W(t.Semigroup0())(r(e))(a)}})(vn(t))}}},Tt={foldr:Yu,foldl:Xu,foldMap:function(n){return oi(Tt)(n)}};var El=function(){function n(a){return[a]}function t(a){return function(o){return[a,o]}}function r(a){return function(o){return function(f){return[a,o,f]}}}function e(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(f){return function(i){return function(h){function N(L,I){switch(I-L){case 0:return f([]);case 1:return o(n)(i(h[L]));case 2:return a(o(t)(i(h[L])))(i(h[L+1]));case 3:return a(a(o(r)(i(h[L])))(i(h[L+1])))(i(h[L+2]));default:var C=L+Math.floor((I-L)/4)*2;return a(o(e)(N(L,C)))(N(C,I))}}return N(0,h.length)}}}}}}();var Eo=function(){return pu(l.create)(s.value)}();var vt=function(n){return function(t){return Gr(n)(Dr(0)(yr(t)-1|0))(t)}};var Yt=function(){return _u(l.create)(s.value)}();var Hn=function(n){return n},Ti=function(n){return function(t){return function(r){var e;r<11?e="[0-"+(r-1).toString()+"]":r===11?e="[0-9a]":e="[0-9a-"+String.fromCharCode(86+r)+"]";var a=new RegExp("^[\\+\\-]?"+e+"+$","i");return function(o){if(a.test(o)){var f=parseInt(o,r);return(f|0)===f?n(f):t}else return t}}}};var xs=function(){return Ti(l.create)(s.value)}(),Mo=xs(10);var Nr=function(n){var t=null;return function(){return n===void 0||(t=n(),n=void 0),t}},Ar=function(n){return n()};var As=function(){function n(f){this.fn=f}var t={},r=function(f,i){this.head=f,this.tail=i};function e(f){return new r(f,t)}function a(f){return function(i){return new r(f,i)}}function o(f){for(var i=[],h=f;h!==t;)i.push(h.head),h=h.tail;return i}return function(f){return function(i){return function(h){var N=function(I,C){return f(i(a)(h(I)))(C)},L=function(I,C,x){if(C===0)return I;var Tn=x[C-1];return new n(function(){var P=L(N(Tn,I),C-1,x);return P})};return function(I){for(var C=i(e)(h(I[I.length-1])),x=L(C,I.length-1,I);x instanceof n;)x=x.fn();return i(o)(x)}}}}}();var Se={dimap:function(n){return function(t){return function(r){return function(e){return t(r(n(e)))}}}}},dt=function(n){return n.dimap};var Ao=function(n){return function(t){return dt(n)(A(S))(t)}};var ie=function(n){return n.right};var kt={left:function(n){return function(t){if(t instanceof _n)return new _n(n(t.value0));if(t instanceof fn)return new fn(t.value0);throw new Error("Failed pattern match at Data.Profunctor.Choice (line 32, column 1 - line 35, column 16): "+[n.constructor.name,t.constructor.name])}},right:u(Te),Profunctor0:function(){return Se}};var zn={first:function(n){return function(t){return new V(n(t.value0),t.value1)}},second:u(re),Profunctor0:function(){return Se}},Re=function(n){return n.second},We=function(n){return n.first},Js=function(n){return function(t){return function(r){return function(e){return de(n.Semigroupoid0())(We(t)(r))(Re(t)(e))}}}},Ai=function(n){return function(t){return function(r){return function(e){var a=dt(t.Profunctor0())(A(S))(function(o){return new V(o,o)})(A(n));return de(n.Semigroupoid0())(a)(Js(n)(t)(r)(e))}}}};var i_=function(n){return function(t){return function(r){return function(e){return dt(r.Profunctor0())(n)(function(a){return Nt(A(S))(a.value0)(a.value1)})(Re(t)(ie(r)(e)))}}}},Ri=function(n){return function(t){return function(r){return function(e){return i_(Ai(S)(zn)(n)(t))(r)(e)}}}};var s_=function(n){return function(t){return function(r){return dt(t.Profunctor0())(n)(function(e){return e.value1(e.value0)})(We(t)(r))}}},So=function(n){return function(t){return function(r){return s_(function(e){return new V(n(e),function(a){return t(e)(a)})})(r)}}};var Ui=function(n){return function(t){return function(r){return function(e){return dt(r.Profunctor0())(t)(Nt(A(S))(A(S)))(ie(r)(Ao(r.Profunctor0())(n)(e)))}}}},qi=function(n){return function(t){return function(r){return Ui(n)(function(e){return $n(new _n(e))(fn.create)(t(e))})(r)}}};function Ro(n){return function(t){var r=[];for(var e in t)hasOwnProperty.call(t,e)&&r.push(n(e)(t[e]));return r}}var tp=Object.keys||Ro(function(n){return function(){return n}});var Rr=function(n){return n.ix};var Wr={ix:function(n){return function(t){return function(r){var e=function(o){return function(f){return ut(o)(Eo(n)(f)(o))}},a=function(o){return $n(new _n(o))(fn.create)(Yt(o)(n))};return Ri(e)(a)(t)(r)}}}};var Xi=function(n){return function(){return function(){return function(t){return function(r){return function(e){return Vt(_t(n)(t))(r)(e)}}}}}};var Zi=function(n){return function(){return function(t){return function(r){return Ht(_t(n)(t))(r)}}}};var _r=function(n){return function(){return function(){return function(t){return function(r){return So(Zi(n)()(t))(Dn(Xi(n)()()(t)))(r)}}}}};var Wo=function(n){return n},La=function(n){return function(t){return Wo(n)(dn(t))}};var hp=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}},Ia=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),$o=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Ho=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Uo=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),qo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),xa=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Oo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Bo=function(){function n(){}return n.value=new n,n}(),Pt=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Qn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),rf=et(Rn)([0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),ef=et(Rn)([0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),af=et(Rn)([0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),of=et(Rn)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),Cp=function(n){var t=ye(A(S)),r=vt(function(e){return function(a){var o=it(qn)(e)(27),f=it(qn)(qt(qn)(e)(9))(3);return a&&function(){var i=n<3;return i?o===n:f===(n-3|0)}()}});return function(e){return yr(t(r(e)))}},_e=function(n){var t=ut([])(Yt(n.patterns)(n.selectedPattern)),r=hp("values","Neuron.Model",function(){return vt(function(a){return function(o){return Nr(function(f){if(o instanceof Pt)return Cp(a)(t);if(o instanceof Qn){var i=vo(Tt)(hr)(et(Rn)(o.value0.coeffs)(function(N){return N.coeff*$n(0)(Ar)(Yt(r(134))(N.from))|0})),h=i>=o.value0.threshold;return h?i:0}throw new Error("Failed pattern match at Neuron.Model (line 130, column 9 - line 136, column 46): "+[o.constructor.name])})}})(n.neurons)}),e=r(128);return{patterns:n.patterns,neurons:n.neurons,values:u(Rn)(Ar)(e),selectedPattern:n.selectedPattern,selectedInput:n.selectedInput,selectedNeuron:n.selectedNeuron,editorOpen:n.editorOpen}},uf=function(){return _e({patterns:[of,af,ef,rf],neurons:[new Pt(0),new Pt(1),new Pt(2),new Pt(3),new Pt(4),new Pt(5),new Qn({coeffs:[{from:1,coeff:1},{from:4,coeff:1}],threshold:1}),new Qn({coeffs:[{from:0,coeff:1},{from:2,coeff:1}],threshold:1}),new Qn({coeffs:[{from:2,coeff:1},{from:5,coeff:1}],threshold:1}),new Qn({coeffs:[{from:4,coeff:1},{from:5,coeff:1}],threshold:1}),new Qn({coeffs:[{from:3,coeff:1},{from:4,coeff:1}],threshold:1}),new Qn({coeffs:[{from:1,coeff:1},{from:5,coeff:1}],threshold:1}),new Qn({coeffs:[{from:6,coeff:1},{from:7,coeff:1},{from:8,coeff:1}],threshold:40}),new Qn({coeffs:[{from:6,coeff:1},{from:9,coeff:1},{from:10,coeff:1}],threshold:1}),new Qn({coeffs:[{from:7,coeff:1},{from:9,coeff:1},{from:11,coeff:1}],threshold:1}),new Qn({coeffs:[{from:8,coeff:1},{from:10,coeff:1},{from:11,coeff:1}],threshold:1})],values:[],selectedPattern:0,selectedInput:s.value,selectedNeuron:6,editorOpen:!1})}(),tf=function(n){return qi(Qn.create)(function(t){return t instanceof Qn?new l(t.value0):s.value})(n)},ff=function(n){return function(t){if(n instanceof Ia)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:n.value0,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen};if(n instanceof $o)return _e({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:n.value0,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen});if(n instanceof Ho)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:n.value0,editorOpen:t.editorOpen};if(n instanceof Uo){var r=Mo(n.value1);if(r instanceof s)return t;if(r instanceof l)return _e(La(function(){var e=_r({reflectSymbol:function(){return"neurons"}})()()(En.value)(zn),a=Rr(Wr)(t.selectedNeuron)(zn)(kt),o=tf(kt),f=_r({reflectSymbol:function(){return"coeffs"}})()()(En.value)(zn),i=Rr(Wr)(n.value0)(zn)(kt),h=_r({reflectSymbol:function(){return"coeff"}})()()(En.value)(zn);return function(N){return e(a(o(f(i(h(N))))))}}())(r.value0)(t));throw new Error("Failed pattern match at Neuron.Model (line 155, column 22 - line 161, column 33): "+[r.constructor.name])}if(n instanceof qo){var r=Mo(n.value0);if(r instanceof s)return t;if(r instanceof l)return _e(La(function(){var a=_r({reflectSymbol:function(){return"neurons"}})()()(En.value)(zn),o=Rr(Wr)(t.selectedNeuron)(zn)(kt),f=tf(kt),i=_r({reflectSymbol:function(){return"threshold"}})()()(En.value)(zn);return function(h){return a(o(f(i(h))))}}())(r.value0)(t));throw new Error("Failed pattern match at Neuron.Model (line 162, column 24 - line 168, column 33): "+[r.constructor.name])}if(n instanceof xa)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:n.value0};if(n instanceof Oo)return _e(Wo(function(){var e=_r({reflectSymbol:function(){return"patterns"}})()()(En.value)(zn),a=Rr(Wr)(t.selectedPattern)(zn)(kt),o=Rr(Wr)(n.value0)(zn)(kt);return function(f){return e(a(o(f)))}}())(Gt(Ot))(t));if(n instanceof Bo)return _e(La(function(){var e=_r({reflectSymbol:function(){return"patterns"}})()()(En.value)(zn),a=Rr(Wr)(t.selectedPattern)(zn)(kt);return function(o){return e(a(o))}}())(function(){return t.selectedPattern===0?of:t.selectedPattern===1?af:t.selectedPattern===2?ef:rf}())(t));throw new Error("Failed pattern match at Neuron.Model (line 151, column 20 - line 176, column 36): "+[n.constructor.name])}};var lf=function(n){return function(t){return function(r){return Gr(vu)(vt(r)(n))(t)}}};var Tp=(n,t,r,e=!1)=>{let a={},o={style:a},f={tag:n,children:r,props:o,node:null,keyed:e},i=t.length;for(let h=0;h<i;h++){let[N,L,I]=t[h];N==1?o[L]=I:N===2?o.class=(o.class?o.class+" ":"")+L:N===3&&(a[L]=I)}return f},St=n=>t=>r=>Tp(n,t,r.map(e=>[null,e]));var Fp=n=>({tag:n,props:{},children:[],type:3});var bn=n=>t=>[1,n,t],Sn=n=>[2,n],sf=[-1],Na=n=>t=>[1,"on"+n,t],Mt=n=>t=>[3,n,t],lt=Fp;function _f(n){return n.currentTarget}function zo(n){return n.type}function pf(n,t,r){return n==null?t:r(n)}var Mn=function(n){return pf(n,s.value,l.create)};var Sa=function(n){return Mn(_f(n))};var Ra=lt("");var Jo=function(n){return function(t){if(n instanceof l)return t(n.value0);if(n instanceof s)return Ra;throw new Error("Failed pattern match at Pha.Html.Core (line 81, column 1 - line 81, column 52): "+[n.constructor.name,t.constructor.name])}},jo=function(n){return function(t){return n?t(void 0):Ra}},Ue=function(n){return function(t){return t?Sn(n):sf}};var Wa=function(){var n=bn("y2"),t=g(ht);return function(r){return n(t(r))}}(),$a=function(){var n=bn("y1"),t=g(ht);return function(r){return n(t(r))}}(),Oe=function(){var n=bn("y"),t=g(ht);return function(r){return n(t(r))}}(),Ha=function(){var n=bn("x2"),t=g(ht);return function(r){return n(t(r))}}(),Ua=function(){var n=bn("x1"),t=g(ht);return function(r){return n(t(r))}}(),$r=function(){var n=bn("x"),t=g(ht);return function(r){return n(t(r))}}();var vf=function(n){return function(t){return function(r){return function(e){return bn("viewBox")(g(nt)(n)+(" "+(g(nt)(t)+(" "+(g(nt)(r)+(" "+g(nt)(e)))))))}}}},Vo=bn("value"),Qo=bn("type");var qa=function(){var n=bn("stroke-width"),t=g(ht);return function(r){return n(t(r))}}();var Hr=bn("stroke");var Go=function(){var n=bn("r"),t=g(ht);return function(r){return n(t(r))}}();var Ko=bn("fill");var Ur=function(n){return function(t){return St("text")(t)([lt(n)])}},df=St("svg");var Oa=function(n){return St("line")(n)([])};var Yo=function(n){return St("input")(n)([])};var pr=St("g");var Gn=St("div"),Xo=function(n){return St("circle")(n)([])},Ba=St("button"),Zo=St("br")([])([]);function nu(n){return function(){return n.value}}function yf(n,t,r,e){if(typeof window<"u"){var a=window[r];if(a!=null&&e instanceof a)return t(e)}for(var o=e;o!=null;){var f=Object.getPrototypeOf(o),i=f.constructor.name;if(i===r)return t(e);if(i==="Object")return n;o=f}return n}var v=function(n){return function(t){return yf(s.value,l.create,n,t)}};var gf=v("HTMLInputElement");var hf=_,za=Na;var qr=function(n){return za("click")(function(){var t=w(On);return function(r){return t(l.create(n(r)))}}())};var Cf=function(n){return za("pointerenter")(function(){var t=w(On);return function(r){return t(l.create(n(hf(r))))}}())},bf=function(n){return za("pointerleave")(function(){var t=w(On);return function(r){return t(l.create(n(hf(r))))}}())};var tu=function(n){var t=function(r){var e=X(Tr)(Sa(r))(gf);if(e instanceof s)return w(On)(s.value);if(e instanceof l)return u(on)(u(jt)(l.create)(n))(nu(e.value0));throw new Error("Failed pattern match at Pha.Html.Events (line 62, column 9 - line 64, column 64): "+[e.constructor.name])};return za("change")(t)};var ru=function(n){return function(t){return"translate("+(n+(","+(t+")")))}};var nr=function(n){return g(ht)(n*100)+"%"};var Bp=function(n){var t=Jo(Yt(n.patterns)(n.selectedPattern))(function(r){return Gn([Sn("pattern-editor")])(vt(function(e){return function(a){var o=it(qn)(e)(9),f=qt(qn)(e)(9);return Gn([Sn("pattern-pixel"),Ue("black")(a),Mt("width")("11.1111111111%"),Mt("height")("11.1111111111%"),Mt("left")(nr(Hn(f)/9)),Mt("top")(nr(Hn(o)/9)),qr(function(i){return new Oo(e)})])([])}})(r))});return Gn([Sn("absolute flex-center ui-dialog-container")])([Gn([Sn("ui-dialog")])([Gn([Sn("ui-dialog-head")])([Gn([Sn("ui-dialog-title")])([lt("Modifier le motif")])]),Gn([Sn("ui-dialog-body")])([t]),Gn([Sn("ui-dialog-buttons")])([Ba([Sn("ui-button ui-button-primary"),qr(function(r){return Bo.value})])([lt("R\xE9initialiser")]),Ba([Sn("ui-button ui-button-primary"),qr(function(r){return new xa(!1)})])([lt("Ok")])])])])},zp=function(n){return function(t){return function(r){return function(e){return Gn([Sn("pattern"),Ue("selected")(t),qr(function(a){return new $o(n)})])(vt(function(a){return function(o){var f=it(qn)(a)(9),i=qt(qn)(a)(9),h=t&&(O(br(Ce))(new l(it(qn)(f)(3)))(r)||O(br(Ce))(new l(it(qn)(i)(3)+3|0))(r));return Gn([Sn("pattern-pixel"),Ue("black")(o),Ue("selected")(h),Mt("width")("11.1111111111%"),Mt("height")("11.1111111111%"),Mt("left")(nr(Hn(i)/9)),Mt("top")(nr(Hn(f)/9))])([])}})(e))}}}},kp=function(n){return Oa([$a(20+20*Hn(n)),Wa(20+20*Hn(n)),Ua(105),Ha(120),qa(.5),Hr("black")])},Jp=function(n){return function(t){var r=qt(qn)(t)(6),e=qt(qn)(n)(6),a=it(qn)(t)(6),o=it(qn)(n)(6);return Oa([$a(function(){var f=o<=1;return f?10+15*Hn(e):20+20*Hn(e)}()),Wa(function(){var f=a<=1;return f?10+15*Hn(r):20+20*Hn(r)}()),Ua(function(){var f=o===0;if(f)return 15;var i=o===1;return i?60:105}()),Ha(function(){var f=a===0;if(f)return 15;var i=a===1;return i?60:105}()),qa(.5),Hr("black")])}},jp=function(n){return Oa([$a(10+15*Hn(n)),Wa(10+15*Hn(n)),Ua(0),Ha(15),qa(.5),Hr("black")])},Tf=function(n){var t=df([vf(0)(0)(150)(100)])([pr([])(De(vt(function(r){return function(e){if(e instanceof Pt)return[];if(e instanceof Qn)return et(Rn)(e.value0.coeffs)(function(a){return Jp(r)(a.from)});throw new Error("Failed pattern match at Neuron.View (line 153, column 21 - line 156, column 66): "+[e.constructor.name])}})(n.neurons))),pr([])(u(Rn)(jp)(Dr(0)(5))),pr([])(u(Rn)(kp)(Dr(0)(3))),pr([])(lf(n.neurons)(n.values)(function(r){return function(e){return function(a){var o=qt(qn)(r)(6),f=it(qn)(r)(6);if(e instanceof Pt)return pr([Mt("transform")(ru(nr(.1))(nr(.1+Hn(o)*.15)))])([Xo([Go(5),Cf(function(i){return new Ia(new l(r))}),bf(function(i){return new Ia(s.value)}),Ko("pink")]),Ur(g(nt)(a))([$r(-2.5),Oe(2),bn("font-size")("0.3rem"),bn("pointer-events")("none")])]);if(e instanceof Qn)return pr([Mt("transform")(ru(nr(function(){var i=f===1;return i?.4:.7}()))(nr(function(){var i=f===1;return i?.1+.15*Hn(o):.2+.2*Hn(o)}())))])([Xo([Go(5),Ko("pink"),Hr(function(){var i=r===n.selectedNeuron;return i?"green":"pink"}()),qr(function(i){return new Ho(r)})]),Ur(g(nt)(a))([$r(-2.5),Oe(2),bn("font-size")("0.3rem"),bn("pointer-events")("none")]),Ur("\u2265"+g(nt)(e.value0.threshold))([$r(-2.5),Oe(-5.5),bn("font-size")("0.2rem")]),pr([])(vt(function(i){return function(h){return Ur("\xD7"+g(nt)(h.coeff))([$r(-7),Oe(Hn(i)*3),bn("font-size")("0.2rem"),bn("pointer-events")("none")])}})(e.value0.coeffs)),jo(f===2)(function(i){var h=a>=e.value0.threshold;return h?Ur("\u2713")([$r(20),bn("font-size")("0.4rem"),Hr("green")]):Ur("\u2A2F")([$r(20),bn("font-size")("0.4rem"),Hr("red")])})]);throw new Error("Failed pattern match at Neuron.View (line 163, column 17 - line 212, column 26): "+[e.constructor.name])}}}))]);return Gn([Sn("layout")])([Gn([Sn("row")])([Gn([Sn("col-6")])([Ba([qr(function(r){return new xa(!0)})])([lt("Modifier le motif")]),Gn([])(vt(function(r){return zp(r)(n.selectedPattern===r)(n.selectedInput)})(n.patterns)),Jo(Yt(n.neurons)(n.selectedNeuron))(function(r){if(r instanceof Pt)return Ra;if(r instanceof Qn)return Gn([])(W(gr)([lt("Seuil: "),Yo([Qo("number"),Vo(g(nt)(r.value0.threshold)),tu(qo.create)]),Zo])(De(vt(function(e){return function(a){return[lt("Coeff "+(g(nt)(e+1|0)+": ")),Yo([Qo("number"),Vo(g(nt)(a.coeff)),tu(Uo.create(e))]),Zo]}})(r.value0.coeffs))));throw new Error("Failed pattern match at Neuron.View (line 129, column 53 - line 141, column 26): "+[r.constructor.name])})]),Gn([Sn("col-24 relative")])([t])]),jo(n.editorOpen)(function(r){return Bp(n)})])};var Or=function(){var n={},t="Pure",r="Throw",e="Catch",a="Sync",o="Async",f="Bind",i="Bracket",h="Fork",N="Sequential",L="Map",I="Apply",C="Alt",x="Cons",Tn="Resume",P="Release",Cn="Finalizer",xn="Finalized",Lt="Forked",vr="Fiber",Ge="Thunk";function b(y,nn,wn,ln){this.tag=y,this._1=nn,this._2=wn,this._3=ln}function Dt(y){var nn=function(wn,ln,T){return new b(y,wn,ln,T)};return nn.tag=y,nn}function Ya(y){return new b(t,void 0)}function Kf(y){try{y()}catch(nn){setTimeout(function(){throw nn},0)}}function Yf(y,nn,wn){try{return nn(wn())}catch(ln){return y(ln)}}function Xf(y,nn,wn){try{return nn(wn)()}catch(ln){return wn(y(ln))(),Ya}}var Ke=function(){var y=1024,nn=0,wn=0,ln=new Array(y),T=!1;function m(){var un;for(T=!0;nn!==0;)nn--,un=ln[wn],ln[wn]=void 0,wn=(wn+1)%y,un();T=!1}return{isDraining:function(){return T},enqueue:function(un){var q,Fn;nn===y&&(Fn=T,m(),T=Fn),ln[(wn+nn)%y]=un,nn++,T||m()}}}();function Zf(y){var nn={},wn=0,ln=0;return{register:function(T){var m=wn++;T.onComplete({rethrow:!0,handler:function(un){return function(){ln--,delete nn[m]}}})(),nn[m]=T,ln++},isEmpty:function(){return ln===0},killAll:function(T,m){return function(){if(ln===0)return m();var un=0,q={};function Fn(pn){q[pn]=nn[pn].kill(T,function(Nn){return function(){delete q[pn],un--,y.isLeft(Nn)&&y.fromLeft(Nn)&&setTimeout(function(){throw y.fromLeft(Nn)},0),un===0&&m()}})()}for(var Un in nn)nn.hasOwnProperty(Un)&&(un++,Fn(Un));return nn={},wn=0,ln=0,function(pn){return new b(a,function(){for(var Nn in q)q.hasOwnProperty(Nn)&&q[Nn]()})}}}}}var jr=0,rt=1,Ye=2,Xe=3,Ze=4,st=5,pe=6;function Xa(y,nn,wn){var ln=0,T=jr,m=wn,un=null,q=null,Fn=null,Un=null,pn=null,Nn=0,dr=0,yt=null,rr=!0;function er(F){for(var E,K,Z;;)switch(E=null,K=null,Z=null,T){case Ye:T=rt;try{m=Fn(m),Un===null?Fn=null:(Fn=Un._1,Un=Un._2)}catch(kn){T=st,un=y.left(kn),m=null}break;case Xe:y.isLeft(m)?(T=st,un=m,m=null):Fn===null?T=st:(T=Ye,m=y.fromRight(m));break;case rt:switch(m.tag){case f:Fn&&(Un=new b(x,Fn,Un)),Fn=m._2,T=rt,m=m._1;break;case t:Fn===null?(T=st,m=y.right(m._1)):(T=Ye,m=m._1);break;case a:T=Xe,m=Yf(y.left,y.right,m._1);break;case o:T=Ze,m=Xf(y.left,m._1,function(kn){return function(){ln===F&&(ln++,Ke.enqueue(function(){ln===F+1&&(T=Xe,m=kn,er(ln))}))}});return;case r:T=st,un=y.left(m._1),m=null;break;case e:Fn===null?pn=new b(x,m,pn,q):pn=new b(x,m,new b(x,new b(Tn,Fn,Un),pn,q),q),Fn=null,Un=null,T=rt,m=m._1;break;case i:Nn++,Fn===null?pn=new b(x,m,pn,q):pn=new b(x,m,new b(x,new b(Tn,Fn,Un),pn,q),q),Fn=null,Un=null,T=rt,m=m._1;break;case h:T=Xe,E=Xa(y,nn,m._2),nn&&nn.register(E),m._1&&E.run(),m=y.right(E);break;case N:T=rt,m=tc(y,nn,m._1);break}break;case st:if(Fn=null,Un=null,pn===null)T=pe,m=q||un||m;else switch(E=pn._3,Z=pn._1,pn=pn._2,Z.tag){case e:q&&q!==E&&Nn===0?T=st:un&&(T=rt,m=Z._2(y.fromLeft(un)),un=null);break;case Tn:q&&q!==E&&Nn===0||un?T=st:(Fn=Z._1,Un=Z._2,T=Ye,m=y.fromRight(m));break;case i:Nn--,un===null&&(K=y.fromRight(m),pn=new b(x,new b(P,Z._2,K),pn,E),(q===E||Nn>0)&&(T=rt,m=Z._3(K)));break;case P:pn=new b(x,new b(xn,m,un),pn,q),T=rt,q&&q!==E&&Nn===0?m=Z._1.killed(y.fromLeft(q))(Z._2):un?m=Z._1.failed(y.fromLeft(un))(Z._2):m=Z._1.completed(y.fromRight(m))(Z._2),un=null,Nn++;break;case Cn:Nn++,pn=new b(x,new b(xn,m,un),pn,q),T=rt,m=Z._1;break;case xn:Nn--,T=st,m=Z._1,un=Z._2;break}break;case pe:for(var In in yt)yt.hasOwnProperty(In)&&(rr=rr&&yt[In].rethrow,Kf(yt[In].handler(m)));yt=null,q&&un?setTimeout(function(){throw y.fromLeft(un)},0):y.isLeft(m)&&rr&&setTimeout(function(){if(rr)throw y.fromLeft(m)},0);return;case jr:T=rt;break;case Ze:return}}function Ln(F){return function(){if(T===pe)return rr=rr&&F.rethrow,F.handler(m)(),function(){};var E=dr++;return yt=yt||{},yt[E]=F,function(){yt!==null&&delete yt[E]}}}function M(F,E){return function(){if(T===pe)return E(y.right(void 0))(),function(){};var K=Ln({rethrow:!1,handler:function(){return E(y.right(void 0))}})();switch(T){case jr:q=y.left(F),T=pe,m=q,er(ln);break;case Ze:q===null&&(q=y.left(F)),Nn===0&&(T===Ze&&(pn=new b(x,new b(Cn,m(F)),pn,q)),T=st,m=null,un=null,er(++ln));break;default:q===null&&(q=y.left(F)),Nn===0&&(T=st,m=null,un=null)}return K}}function B(F){return function(){var E=Ln({rethrow:!1,handler:F})();return T===jr&&er(ln),E}}return{kill:M,join:B,onComplete:Ln,isSuspended:function(){return T===jr},run:function(){T===jr&&(Ke.isDraining()?er(ln):Ke.enqueue(function(){er(ln)}))}}}function nc(y,nn,wn,ln){var T=0,m={},un=0,q={},Fn=new Error("[ParAff] Early exit"),Un=null,pn=n;function Nn(Ln,M,B){var F=M,E=null,K=null,Z=0,In={},kn,me;n:for(;;)switch(kn=null,F.tag){case Lt:if(F._3===n&&(kn=m[F._1],In[Z++]=kn.kill(Ln,function(rc){return function(){Z--,Z===0&&B(rc)()}})),E===null)break n;F=E._2,K===null?E=null:(E=K._1,K=K._2);break;case L:F=F._2;break;case I:case C:E&&(K=new b(x,E,K)),E=F,F=F._1;break}if(Z===0)B(y.right(void 0))();else for(me=0,kn=Z;me<kn;me++)In[me]=In[me]();return In}function dr(Ln,M,B){var F,E,K,Z,In,kn;y.isLeft(Ln)?(F=Ln,E=null):(E=Ln,F=null);n:for(;;){if(K=null,Z=null,In=null,kn=null,Un!==null)return;if(M===null){ln(F||E)();return}if(M._3!==n)return;switch(M.tag){case L:F===null?(M._3=y.right(M._1(y.fromRight(E))),E=M._3):M._3=F;break;case I:if(K=M._1._3,Z=M._2._3,F){if(M._3=F,In=!0,kn=un++,q[kn]=Nn(Fn,F===K?M._2:M._1,function(){return function(){delete q[kn],In?In=!1:B===null?dr(F,null,null):dr(F,B._1,B._2)}}),In){In=!1;return}}else{if(K===n||Z===n)return;E=y.right(y.fromRight(K)(y.fromRight(Z))),M._3=E}break;case C:if(K=M._1._3,Z=M._2._3,K===n&&y.isLeft(Z)||Z===n&&y.isLeft(K))return;if(K!==n&&y.isLeft(K)&&Z!==n&&y.isLeft(Z))F=E===K?Z:K,E=null,M._3=F;else if(M._3=E,In=!0,kn=un++,q[kn]=Nn(Fn,E===K?M._2:M._1,function(){return function(){delete q[kn],In?In=!1:B===null?dr(E,null,null):dr(E,B._1,B._2)}}),In){In=!1;return}break}B===null?M=null:(M=B._1,B=B._2)}}function yt(Ln){return function(M){return function(){delete m[Ln._1],Ln._3=M,dr(M,Ln._2._1,Ln._2._2)}}}function rr(){var Ln=rt,M=wn,B=null,F=null,E,K;n:for(;;)switch(E=null,K=null,Ln){case rt:switch(M.tag){case L:B&&(F=new b(x,B,F)),B=new b(L,M._1,n,n),M=M._2;break;case I:B&&(F=new b(x,B,F)),B=new b(I,n,M._2,n),M=M._1;break;case C:B&&(F=new b(x,B,F)),B=new b(C,n,M._2,n),M=M._1;break;default:K=T++,Ln=st,E=M,M=new b(Lt,K,new b(x,B,F),n),E=Xa(y,nn,E),E.onComplete({rethrow:!1,handler:yt(M)})(),m[K]=E,nn&&nn.register(E)}break;case st:if(B===null)break n;B._1===n?(B._1=M,Ln=rt,M=B._2,B._2=n):(B._2=M,M=B,F===null?B=null:(B=F._1,F=F._2))}for(pn=M,K=0;K<T;K++)m[K].run()}function er(Ln,M){Un=y.left(Ln);var B;for(var F in q)if(q.hasOwnProperty(F)){B=q[F];for(F in B)B.hasOwnProperty(F)&&B[F]()}q=null;var E=Nn(Ln,pn,M);return function(K){return new b(o,function(Z){return function(){for(var In in E)E.hasOwnProperty(In)&&E[In]();return Ya}})}}return rr(),function(Ln){return new b(o,function(M){return function(){return er(Ln,M)}})}}function tc(y,nn,wn){return new b(o,function(ln){return function(){return nc(y,nn,wn,ln)}})}return b.EMPTY=n,b.Pure=Dt(t),b.Throw=Dt(r),b.Catch=Dt(e),b.Sync=Dt(a),b.Async=Dt(o),b.Bind=Dt(f),b.Bracket=Dt(i),b.Fork=Dt(h),b.Seq=Dt(N),b.ParMap=Dt(L),b.ParApply=Dt(I),b.ParAlt=Dt(C),b.Fiber=Xa,b.Supervisor=Zf,b.Scheduler=Ke,b.nonCanceler=Ya,b}(),Kp=Or.Pure,Yp=Or.Throw;var Xp=Or.Sync;var Ef=Or.Async;var Zp=function(){function n(r,e){return r===0&&typeof setImmediate<"u"?setImmediate(e):setTimeout(e,r)}function t(r,e){return r===0&&typeof clearImmediate<"u"?clearImmediate(e):clearTimeout(e)}return function(r,e){return Or.Async(function(a){return function(){var o=n(e,a(r()));return function(){return Or.Sync(function(){return r(t(e,o))})}}})}}(),nm=Or.Seq;var Wf=(n,t)=>Object.assign({},n,t),$f=(n,t)=>n&&t?r=>n(t(r)):n||t,Hf=(n,t,r,e,a,o,f)=>{if(t==="style")for(let i in Wf(r,e))r=e==null||e[i]==null?"":e[i],i[0]==="-"?n[t].setProperty(i,r):n[t][i]=r;else if(t[0]==="o"&&t[1]==="n"){let i=t.slice(2);n.actions||(n.actions={}),n.actions[i]=f&&e?f(e):e,e?r||n.addEventListener(i,a):n.removeEventListener(i,a)}else!o&&t in n?n[t]=e:e==null||e===!1||t==="class"&&!e?n.removeAttribute(t):n.setAttribute(t,e)},Qa=(n,t,r,e)=>{let a=n.type===3?document.createTextNode(n.tag):(r=r||n.tag==="svg")?document.createElementNS("http://www.w3.org/2000/svg",n.tag):document.createElement(n.tag),o=n.props,f=$f(e,n.mapf);for(let i in o)Hf(a,i,null,o[i],t,r,f);for(let i=0,h=n.children.length;i<h;i++)a.appendChild(Qa(Jr(n.children[i])[1],t,r,f));return n.node=a,a},sm=n=>n&&n[0],kr=(n,t,r,e,a,o,f)=>{if(r!==e)if(r!=null&&r.type===3&&e.type===3)r.tag!==e.tag&&(t.nodeValue=e.tag);else if(r==null||r.tag!==e.tag)t=n.insertBefore(Qa(e,a,o,f),t),r&&r.node&&n.removeChild(r.node);else{let i=r.props,h=e.props,N=r.children,L=e.children,I=0,C=0,x=N.length-1,Tn=L.length-1;f=$f(f,e.mapf),o=o||e.tag==="svg";for(let P in Wf(i,h))(P==="value"||P==="selected"||P==="checked"?t[P]:i[P])!==h[P]&&Hf(t,P,i[P],h[P],a,o,f);if(e.keyed){for(;C<=Tn&&I<=x;){let[P,Cn]=N[I];if(P!==L[C][0])break;let xn=Jr(L[C],Cn);kr(t,Cn.node,Cn,xn[1],a,o,f),C++,I++}for(;C<=Tn&&I<=x;){let[P,Cn]=N[x];if(P!==L[Tn][0])break;let xn=Jr(L[Tn],Cn);kr(t,Cn.node,Cn,xn[1],a,o,f),Tn--,x--}if(I>x)for(;C<=Tn;){let P=Jr(L[C])[1];t.insertBefore(Qa(P,a,o,f),N[I]&&N[I][1].node),C++}else if(C>Tn)for(;I<=x;)t.removeChild(N[I][1].node),I++;else{let P={},Cn={};for(let xn=I;xn<=x;xn++)P[N[xn][0]]=N[xn][1];for(;C<=Tn;){let[xn,Lt]=N[I],[vr,Ge]=Jr(L[C],Lt);if(Cn[xn]||vr===sm(N[I+1])){I++;continue}if(xn===vr)kr(t,Lt.node,Lt,Ge,a,o,f),Cn[vr]=!0,I++;else{let b=P[vr];b!=null?(kr(t,t.insertBefore(b.node,Lt.node),b,L[C][1],a,o,f),Cn[vr]=!0):kr(t,Lt.node,null,L[C][1],a,o,f)}C++}for(let xn in P)Cn[xn]||t.removeChild(P[xn].node)}}else{for(let P=0;P<=x&&P<=Tn;P++){let Cn=N[P][1],xn=Jr(L[P],Cn)[1];kr(t,Cn.node,Cn,xn,a,o,f)}for(let P=x+1;P<=Tn;P++){let Cn=Jr(L[P],r)[1];t.appendChild(Qa(Cn,a,o,f))}for(let P=Tn+1;P<=x;P++)t.removeChild(N[P][1].node)}}return e.node=t,t},_m=(n,t)=>{for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!0;return!1},pm=(n,t)=>t.reduce((r,e)=>r(e),n),Jr=(n,t)=>(typeof n[1].type=="function"&&((!t||t.memo==null||_m(t.memo,n[1].memo))&&(t=Qe(pm(n[1].type,n[1].memo)),t.memo=n[1].memo),n[1]=t),n),Qe=n=>Object.assign({},n,{children:n.children&&n.children.map(([t,r])=>[t,Qe(r)])}),uu=n=>t=>()=>n.actions[t],iu=n=>t=>r=>e=>a=>()=>kr(n,t,r,e,o=>a(o)());function fu(n){return function(t){return n===t}}var Uf=fu;var Ga=function(n){return function(t){return t[n]}},wm=Ga("namespaceURI"),Lm=Ga("prefix"),Im=Ga("localName"),xm=Ga("tagName");var Ka=function(n){return function(t){return function(){return t[n]}}},Am=Ka("children"),Pm=Ka("firstElementChild"),Sm=Ka("lastElementChild"),Rm=Ka("childElementCount");function qf(n){return function(t){return function(){return t.querySelector(n)}}}var Of=function(n){var t=u(on)(Mn),r=qf(n);return function(e){return t(r(e))}};var Bf=_;var Wt=function(n){return function(t){return function(){return t[n]}}};var Bm=Wt("baseURI"),zm=Wt("ownerDocument"),zf=Wt("parentNode"),km=Wt("parentElement");var Jm=Wt("childNodes"),jm=Wt("firstChild"),Vm=Wt("lastChild"),Qm=Wt("previousSibling"),Gm=Wt("nextSibling"),Km=Wt("nodeValue");var Ym=Wt("textContent");var kf=function(){var n=u(on)(Mn);return function(t){return n(zf(t))}}();var cu=function(){return window};var Jf=_;function lu(n){return function(){return n.document}}var nd=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}};var td=function(n){var t=function(r){return function(e){return function(a){var o=ir(r),f=function(C){return function(){var Tn=ir(r)();return Kr(On)(Uf(Tn)(C))(function(){return Er(C)(r)(),i(n.view(C))()})()}},i=function(C){return function(){var Tn=ir(a)(),P=ir(e)(),Cn=kf(P)();return Kt(On)(cr)(Cn)(function(xn){var Lt=Qe(C);return function(){var Ge=iu(xn)(P)(Tn)(Lt)(h)();return Er(Ge)(e)(),Er(Lt)(a)()}})()}},h=function(C){var x=zo(C);return Kt(On)(cr)(Sa(C))(function(Tn){return function(){var Cn=uu(Tn)(x)();return N(C)(Cn)()}})},N=function(C){return function(x){return function(){var P=x(C)();return Kt(On)(cr)(P)(L(75))()}}},L=nd("dispatch","Pha.App",function(){return n.update({get:o,put:function(C){return f(C)}})}),I=L(68);return function(){return i(n.view(n.init.state))(),Kt(On)(Tt)(n.subscriptions)(function(x){return x(I)})(),Kt(On)(cr)(n.init.action)(I)()}}}};return function(){var e=et(on)(X(oa)(cu)(lu))(Jf)(),a=u(on)(u(Wn)(Bf))(Of(n.selector)(e))();return Kt(On)(cr)(a)(function(o){return function(){var i=ne(n.init.state)(),h=ne(o)(),N=ne(lt(""))();return t(i)(h)(N)()}})()}},Qf=function(n){return td({init:{state:n.init,action:s.value},view:n.view,update:function(t){return function(r){return function(){var a=t.get();return t.put(n.update(r)(a))()}}},subscriptions:[],selector:n.selector})};var Gf=Qf({init:uf,view:Tf,update:ff,selector:"#root"});Gf();})();

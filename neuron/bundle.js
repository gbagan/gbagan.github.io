(()=>{var ye={compose:function(n){return function(t){return function(r){return n(t(r))}}}},Qr=function(n){return n.compose},he=function(n){return function(t){return function(r){return Qr(n)(r)(t)}}};var A=function(n){return n.identity},R={identity:function(n){return n},Semigroupoid0:function(){return ye}};var hr=function(n){return function(t){for(var r=n>t?-1:1,e=new Array(r*(t-n)+1),a=n,o=0;a!==t;)e[o++]=a,a+=r;return e[o]=a,e}},oc=function(n){return function(t){if(n<1)return[];var r=new Array(n);return r.fill(t)}},uc=function(n){return function(t){for(var r=[],e=0,a=0;a<n;a++)r[e++]=t;return r}},su=typeof Array.prototype.fill=="function"?oc:uc,ic=function(){function n(a,o){this.head=a,this.tail=o}var t={};function r(a){return function(o){return new n(a,o)}}function e(a){for(var o=[],f=0,i=a;i!==t;)o[f++]=i.head,i=i.tail;return o}return function(a){return function(o){return e(a(r)(t)(o))}}}(),gr=function(n){return n.length};var _u=function(n){return function(t){return function(r){return function(e){return e<0||e>=r.length?t:n(r[e])}}}};var pu=function(n){return function(t){return function(r){return function(e){return function(a){if(r<0||r>=a.length)return t;var o=a.slice();return o[r]=e,n(o)}}}}};var ge=function(n){if(n.length<=1e4)return Array.prototype.concat.apply([],n);for(var t=[],r=0,e=n.length;r<e;r++)for(var a=n[r],o=0,f=a.length;o<f;o++)t.push(a[o]);return t},Ce=function(n){return function(t){return t.filter(n)}};var fc=function(){function n(t,r,e,a,o,f){var i,g,N,E,I,C,x;for(i=o+(f-o>>1),i-o>1&&n(t,r,a,e,o,i),f-i>1&&n(t,r,a,e,i,f),g=o,N=i,E=o;g<i&&N<f;)I=a[g],C=a[N],x=r(t(I)(C)),x>0?(e[E++]=C,++N):(e[E++]=I,++g);for(;g<i;)e[E++]=a[g++];for(;N<f;)e[E++]=a[N++]}return function(t){return function(r){return function(e){var a;return e.length<2?e:(a=e.slice(0),n(t,r,a,e.slice(0),0,e.length),a)}}}}();var Kr=function(n){return function(t){return function(r){for(var e=t.length<r.length?t.length:r.length,a=new Array(e),o=0;o<e;o++)a[o]=n(t[o])(r[o]);return a}}};var mu=function(n){return function(t){for(var r=t.length,e=new Array(r),a=0;a<r;a++)e[a]=n(t[a]);return e}};var yn=function(n){return function(t){return function(r){return n(r)(t)}}},Dn=function(n){return function(t){return n}};var vu=function(n){return function(t){return n(t)}};var En=function(){function n(){}return n.value=new n,n}();var u=function(n){return n.map},ot=function(n){return function(t){return function(r){return u(n)(r)(t)}}};var gt={map:Qr(ye)},Wn={map:mu};var du=function(n){return function(t){return n.length===0?t:t.length===0?n:n.concat(t)}};var pt=function(n){return n.reflectSymbol};var Ut=function(n){return function(t){return t[n]}},Qt=function(n){return function(t){return function(r){var e={};for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e[n]=t,e}}};var Cr={append:du};var $=function(n){return n.append};var mn=function(n){return n.apply};var ea=function(n){return function(t){return function(r){return mn(n)(u(n.Functor0())(Dn(A(R)))(t))(r)}}};var L=function(n){return n.pure},Yr=function(n){return function(t){return function(r){if(!t)return r;if(t)return L(n)(void 0);throw new Error("Failed pattern match at Control.Applicative (line 68, column 1 - line 68, column 65): "+[t.constructor.name,r.constructor.name])}}};var be=function(n){return function(t){return function(r){return mn(n.Apply0())(L(n)(t))(r)}}};var rn=function(n){return n.bind};var Ct=function(n){return function(t){return function(r){return rn(n.Bind1())(t)(function(e){return rn(n.Bind1())(r)(function(a){return L(n.Applicative0())(e(a))})})}}};var hc=String.fromCharCode(65535),gc=String.fromCharCode(0),Cc=Number.POSITIVE_INFINITY,bc=Number.NEGATIVE_INFINITY;var Fc=function(n){return function(t){return function(r){return function(e){return function(a){return e<a?n:e===a?t:r}}}}};var Cu=Fc;var Mc=function(n){return function(t){return n===t}};var bu=Mc;var Xr={eq:bu};var U=function(n){return n.eq};var on=function(){function n(){}return n.value=new n,n}(),X=function(){function n(){}return n.value=new n,n}(),vn=function(){function n(){}return n.value=new n,n}();var Tu=function(n){return function(t){return n-t|0}};var Fu=function(n){return function(t){return n+t|0}},Eu=function(n){return function(t){return n*t|0}};var At=function(n){return n.zero};var br={add:Fu,zero:0,mul:Eu,one:1};var mt=function(n){return n.add};var Mu={sub:Tu,Semiring0:function(){return br}};var Ot=function(){return{compare:Cu(on.value)(vn.value)(X.value),Eq0:function(){return Xr}}}();var Z=function(n){return n.compare};var ua=function(n){return function(t){return function(r){var e=Z(n)(t)(r);if(e instanceof on)return r;if(e instanceof vn||e instanceof X)return t;throw new Error("Failed pattern match at Data.Ord (line 181, column 3 - line 184, column 12): "+[e.constructor.name])}}};var Lu=function(n){return n.toString()},Iu=function(n){var t=n.toString();return isNaN(t+".0")?t:t+".0"};var bt={show:Iu},Jn={show:Lu};var h=function(n){return n.show};var m=function(){function n(){}return n.value=new n,n}(),l=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var $n=function(n){return function(t){return function(r){if(r instanceof m)return n;if(r instanceof l)return t(r.value0);throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}};var jn={map:function(n){return function(t){return t instanceof l?new l(n(t.value0)):m.value}}};var ft=function(n){return $n(n)(A(R))};var Tr=function(n){return{eq:function(t){return function(r){return t instanceof m&&r instanceof m?!0:t instanceof l&&r instanceof l?U(n)(t.value0)(r.value0):!1}}}};var _n=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ln=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}();var Ee={map:function(n){return function(t){if(t instanceof _n)return new _n(t.value0);if(t instanceof ln)return new ln(n(t.value0));throw new Error("Failed pattern match at Data.Either (line 0, column 0 - line 0, column 0): "+[t.constructor.name])}}};var Pt=function(n){return function(t){return function(r){if(r instanceof _n)return n(r.value0);if(r instanceof ln)return t(r.value0);throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}};var xu=function(n){return Math.min(Math.abs(n),2147483647)},Nu=function(n){return function(t){return t===0?0:t>0?Math.floor(n/t):-Math.floor(n/-t)}},Au=function(n){return function(t){if(t===0)return 0;var r=Math.abs(t);return(n%r+r)%r}};var Pu={Ring0:function(){return Mu}};var Bt=function(n){return n.mod};var qn={degree:xu,div:Nu,mod:Au,CommutativeRing0:function(){return Pu}},ct=function(n){return n.div};var dn=function(n){return n.mempty};var Su=function(n){return function(){return n}},Ru=function(n){return function(t){return function(){return t(n())()}}};var Wu=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}},ia={Applicative0:function(){return Vn},Bind1:function(){return fa}},fa={bind:Ru,Apply0:function(){return Hu(0)}},Vn={pure:Su,Apply0:function(){return Hu(0)}},$u=Wu("functorEffect","Effect",function(){return{map:be(Vn)}}),Hu=Wu("applyEffect","Effect",function(){return{apply:Ct(ia),Functor0:function(){return $u(0)}}}),nn=$u(20);var Uu=function(n){return function(){return{value:n}}};var fr=function(n){return function(){return n.value}};var Er=function(n){return function(t){return function(){t.value=n}}};var re=Uu;var tl=function(){function n(t,r,e,a,o,f){var i,g,N,E,I,C,x;for(i=o+(f-o>>1),i-o>1&&n(t,r,a,e,o,i),f-i>1&&n(t,r,a,e,i,f),g=o,N=i,E=o;g<i&&N<f;)I=a[g],C=a[N],x=r(t(I)(C)),x>0?(e[E++]=C,++N):(e[E++]=I,++g);for(;g<i;)e[E++]=a[g++];for(;N<f;)e[E++]=a[N++]}return function(t){return function(r){return function(e){return function(){return e.length<2||n(t,r,e,e.slice(0),0,e.length),e}}}}}();var Vu=function(n){return function(t){return n&&t}},Qu=function(n){return function(t){return n||t}},Gu=function(n){return!n};var Kt=function(n){return n.not};var ee=function(n){return n.disj},zt={ff:!1,tt:!0,implies:function(n){return function(t){return ee(zt)(Kt(zt)(n))(t)}},conj:Vu,disj:Qu,not:Gu};var Xu=function(n){return function(t){return function(r){for(var e=t,a=r.length,o=a-1;o>=0;o--)e=n(r[o])(e);return e}}},Zu=function(n){return function(t){return function(r){for(var e=t,a=r.length,o=0;o<a;o++)e=n(e)(r[o]);return e}}};var V=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}();var ae={map:function(n){return function(t){return new V(t.value0,n(t.value1))}}};var s=function(n){return n};var Qn=function(n){return n.foldr};var ha=function(n){return function(t){return function(r){return Qn(t)(function(){var e=ea(n.Apply0());return function(a){return e(r(a))}}())(L(n)(void 0))}}},Yt=function(n){return function(t){return yn(ha(n)(t))}};var Gn=function(n){return n.foldl};var yo=function(n){return function(t){return Gn(n)(mt(t))(At(t))}};var lr={foldr:function(n){return function(t){return function(r){if(r instanceof m)return t;if(r instanceof l)return n(r.value0)(t);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldl:function(n){return function(t){return function(r){if(r instanceof m)return t;if(r instanceof l)return n(t)(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[n.constructor.name,t.constructor.name,r.constructor.name])}}},foldMap:function(n){return function(t){return function(r){if(r instanceof m)return dn(n);if(r instanceof l)return t(r.value0);throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): "+[t.constructor.name,r.constructor.name])}}}};var ii=function(n){return function(t){return function(r){return Qn(n)(function(e){return function(a){return $(t.Semigroup0())(r(e))(a)}})(dn(t))}}},Et={foldr:Xu,foldl:Zu,foldMap:function(n){return ii(Et)(n)}};var Ll=function(){function n(a){return[a]}function t(a){return function(o){return[a,o]}}function r(a){return function(o){return function(f){return[a,o,f]}}}function e(a){return function(o){return a.concat(o)}}return function(a){return function(o){return function(f){return function(i){return function(g){function N(E,I){switch(I-E){case 0:return f([]);case 1:return o(n)(i(g[E]));case 2:return a(o(t)(i(g[E])))(i(g[E+1]));case 3:return a(a(o(r)(i(g[E])))(i(g[E+1])))(i(g[E+2]));default:var C=E+Math.floor((I-E)/4)*2;return a(o(e)(N(E,C)))(N(C,I))}}return N(0,g.length)}}}}}}();var wo=function(){return pu(l.create)(m.value)}();var dt=function(n){return function(t){return Kr(n)(hr(0)(gr(t)-1|0))(t)}};var Xt=function(){return _u(l.create)(m.value)}();var Hn=function(n){return n},Ei=function(n){return function(t){return function(r){var e;r<11?e="[0-"+(r-1).toString()+"]":r===11?e="[0-9a]":e="[0-9a-"+String.fromCharCode(86+r)+"]";var a=new RegExp("^[\\+\\-]?"+e+"+$","i");return function(o){if(a.test(o)){var f=parseInt(o,r);return(f|0)===f?n(f):t}else return t}}}};var As=function(){return Ei(l.create)(m.value)}(),Lo=As(10);var Nr=function(n){var t=null;return function(){return n===void 0||(t=n(),n=void 0),t}},Ar=function(n){return n()};var Ss=function(){function n(f){this.fn=f}var t={},r=function(f,i){this.head=f,this.tail=i};function e(f){return new r(f,t)}function a(f){return function(i){return new r(f,i)}}function o(f){for(var i=[],g=f;g!==t;)i.push(g.head),g=g.tail;return i}return function(f){return function(i){return function(g){var N=function(I,C){return f(i(a)(g(I)))(C)},E=function(I,C,x){if(C===0)return I;var Tn=x[C-1];return new n(function(){var S=E(N(Tn,I),C-1,x);return S})};return function(I){for(var C=i(e)(g(I[I.length-1])),x=E(C,I.length-1,I);x instanceof n;)x=x.fn();return i(o)(x)}}}}}();var $e={dimap:function(n){return function(t){return function(r){return function(e){return t(r(n(e)))}}}}},Dt=function(n){return n.dimap};var So=function(n){return function(t){return Dt(n)(A(R))(t)}};var ce=function(n){return n.right};var jt={left:function(n){return function(t){if(t instanceof _n)return new _n(n(t.value0));if(t instanceof ln)return new ln(t.value0);throw new Error("Failed pattern match at Data.Profunctor.Choice (line 32, column 1 - line 35, column 16): "+[n.constructor.name,t.constructor.name])}},right:u(Ee),Profunctor0:function(){return $e}};var Bn={first:function(n){return function(t){return new V(n(t.value0),t.value1)}},second:u(ae),Profunctor0:function(){return $e}},He=function(n){return n.second},Ue=function(n){return n.first},Vs=function(n){return function(t){return function(r){return function(e){return he(n.Semigroupoid0())(Ue(t)(r))(He(t)(e))}}}},Si=function(n){return function(t){return function(r){return function(e){var a=Dt(t.Profunctor0())(A(R))(function(o){return new V(o,o)})(A(n));return he(n.Semigroupoid0())(a)(Vs(n)(t)(r)(e))}}}};var c_=function(n){return function(t){return function(r){return function(e){return Dt(r.Profunctor0())(n)(function(a){return Pt(A(R))(a.value0)(a.value1)})(He(t)(ce(r)(e)))}}}},$i=function(n){return function(t){return function(r){return function(e){return c_(Si(R)(Bn)(n)(t))(r)(e)}}}};var p_=function(n){return function(t){return function(r){return Dt(t.Profunctor0())(n)(function(e){return e.value1(e.value0)})(Ue(t)(r))}}},Wo=function(n){return function(t){return function(r){return p_(function(e){return new V(n(e),function(a){return t(e)(a)})})(r)}}};var Oi=function(n){return function(t){return function(r){return function(e){return Dt(r.Profunctor0())(t)(Pt(A(R))(A(R)))(ce(r)(So(r.Profunctor0())(n)(e)))}}}},Bi=function(n){return function(t){return function(r){return Oi(n)(function(e){return $n(new _n(e))(ln.create)(t(e))})(r)}}};function $o(n){return function(t){var r=[];for(var e in t)hasOwnProperty.call(t,e)&&r.push(n(e)(t[e]));return r}}var ep=Object.keys||$o(function(n){return function(){return n}});var Rr=function(n){return n.ix};var Wr={ix:function(n){return function(t){return function(r){var e=function(o){return function(f){return ft(o)(wo(n)(f)(o))}},a=function(o){return $n(new _n(o))(ln.create)(Xt(o)(n))};return $i(e)(a)(t)(r)}}}};var nf=function(n){return function(){return function(){return function(t){return function(r){return function(e){return Qt(pt(n)(t))(r)(e)}}}}}};var tf=function(n){return function(){return function(t){return function(r){return Ut(pt(n)(t))(r)}}}};var pr=function(n){return function(){return function(){return function(t){return function(r){return Wo(tf(n)()(t))(yn(nf(n)()()(t)))(r)}}}}};var Ho=function(n){return n},Na=function(n){return function(t){return Ho(n)(Dn(t))}};var bp=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}},me=function(){function n(){}return n.value=new n,n}(),Aa=function(){function n(){}return n.value=new n,n}(),Pa=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Uo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),qo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Oo=function(){function n(t,r){this.value0=t,this.value1=r}return n.create=function(t){return function(r){return new n(t,r)}},n}(),Bo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Sa=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),zo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),ko=function(){function n(){}return n.value=new n,n}(),Jo=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Rt=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Kn=function(){function n(t){this.value0=t}return n.create=function(t){return new n(t)},n}(),Tp={eq:function(n){return function(t){return n instanceof me&&t instanceof me||n instanceof Aa&&t instanceof Aa}}},af=function(n){if(n instanceof me)return"standard";if(n instanceof Aa)return"bool";throw new Error("Failed pattern match at Neuron.Model (line 33, column 1 - line 33, column 49): "+[n.constructor.name])},of=ot(Wn)([0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),uf=ot(Wn)([0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),ff=ot(Wn)([0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,0,0,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),cf=ot(Wn)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,0,0,1,0,0,0,0,1,1,1,1,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0])(function(n){return n===1}),Fp=function(n){var t=Ce(A(R)),r=dt(function(e){return function(a){var o=ct(qn)(e)(27),f=ct(qn)(Bt(qn)(e)(9))(3);return a&&function(){var i=n<3;return i?o===n:f===(n-3|0)}()}});return function(e){return gr(t(r(e)))}},mr=function(n){var t=ft([])(Xt(n.patterns)(n.selectedPattern)),r=bp("values","Neuron.Model",function(){return dt(function(a){return function(o){return Nr(function(f){if(o instanceof Rt)return Fp(a)(t);if(o instanceof Kn){var i=yo(Et)(br)(ot(Wn)(o.value0.coeffs)(function(E){return E.coeff*$n(0)(Ar)(Xt(r(144))(E.from))|0})),g=U(Tp)(n.thresholdRule)(me.value);if(g)return ua(Ot)(0)(i-o.value0.threshold|0);var N=i<=o.value0.threshold;return N?0:1}throw new Error("Failed pattern match at Neuron.Model (line 140, column 9 - line 151, column 18): "+[o.constructor.name])})}})(n.neurons)}),e=r(138);return{patterns:n.patterns,neurons:n.neurons,values:u(Wn)(Ar)(e),selectedPattern:n.selectedPattern,selectedInput:n.selectedInput,selectedNeuron:n.selectedNeuron,editorOpen:n.editorOpen,thresholdRule:n.thresholdRule}},lf=function(){return mr({patterns:[cf,ff,uf,of],neurons:[new Rt(0),new Rt(1),new Rt(2),new Rt(3),new Rt(4),new Rt(5),new Kn({coeffs:[{from:1,coeff:1},{from:4,coeff:1}],threshold:1}),new Kn({coeffs:[{from:0,coeff:1},{from:2,coeff:1}],threshold:1}),new Kn({coeffs:[{from:2,coeff:1},{from:5,coeff:1}],threshold:1}),new Kn({coeffs:[{from:4,coeff:1},{from:5,coeff:1}],threshold:1}),new Kn({coeffs:[{from:3,coeff:1},{from:4,coeff:1}],threshold:1}),new Kn({coeffs:[{from:1,coeff:1},{from:5,coeff:1}],threshold:1}),new Kn({coeffs:[{from:6,coeff:1},{from:7,coeff:1},{from:8,coeff:1}],threshold:40}),new Kn({coeffs:[{from:6,coeff:1},{from:9,coeff:1},{from:10,coeff:1}],threshold:1}),new Kn({coeffs:[{from:7,coeff:1},{from:9,coeff:1},{from:11,coeff:1}],threshold:1}),new Kn({coeffs:[{from:8,coeff:1},{from:10,coeff:1},{from:11,coeff:1}],threshold:1})],values:[],selectedPattern:0,selectedInput:m.value,selectedNeuron:6,editorOpen:!1,thresholdRule:me.value})}(),ef=function(n){return Bi(Kn.create)(function(t){return t instanceof Kn?new l(t.value0):m.value})(n)},sf=function(n){return function(t){if(n instanceof Pa)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:n.value0,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:t.thresholdRule};if(n instanceof Uo)return mr({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:n.value0,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:t.thresholdRule});if(n instanceof qo)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:n.value0,editorOpen:t.editorOpen,thresholdRule:t.thresholdRule};if(n instanceof Oo){var r=Lo(n.value1);if(r instanceof m)return t;if(r instanceof l)return mr(Na(function(){var e=pr({reflectSymbol:function(){return"neurons"}})()()(En.value)(Bn),a=Rr(Wr)(t.selectedNeuron)(Bn)(jt),o=ef(jt),f=pr({reflectSymbol:function(){return"coeffs"}})()()(En.value)(Bn),i=Rr(Wr)(n.value0)(Bn)(jt),g=pr({reflectSymbol:function(){return"coeff"}})()()(En.value)(Bn);return function(N){return e(a(o(f(i(g(N))))))}}())(r.value0)(t));throw new Error("Failed pattern match at Neuron.Model (line 171, column 22 - line 177, column 33): "+[r.constructor.name])}if(n instanceof Bo){var r=Lo(n.value0);if(r instanceof m)return t;if(r instanceof l)return mr(Na(function(){var a=pr({reflectSymbol:function(){return"neurons"}})()()(En.value)(Bn),o=Rr(Wr)(t.selectedNeuron)(Bn)(jt),f=ef(jt),i=pr({reflectSymbol:function(){return"threshold"}})()()(En.value)(Bn);return function(g){return a(o(f(i(g))))}}())(r.value0)(t));throw new Error("Failed pattern match at Neuron.Model (line 178, column 24 - line 184, column 33): "+[r.constructor.name])}if(n instanceof Sa)return{patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:n.value0,thresholdRule:t.thresholdRule};if(n instanceof zo)return mr(Ho(function(){var e=pr({reflectSymbol:function(){return"patterns"}})()()(En.value)(Bn),a=Rr(Wr)(t.selectedPattern)(Bn)(jt),o=Rr(Wr)(n.value0)(Bn)(jt);return function(f){return e(a(o(f)))}}())(Kt(zt))(t));if(n instanceof ko)return mr(Na(function(){var e=pr({reflectSymbol:function(){return"patterns"}})()()(En.value)(Bn),a=Rr(Wr)(t.selectedPattern)(Bn)(jt);return function(o){return e(a(o))}}())(function(){return t.selectedPattern===0?cf:t.selectedPattern===1?ff:t.selectedPattern===2?uf:of}())(t));if(n instanceof Jo)return n.value0==="standard"?mr({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:me.value}):n.value0==="bool"?mr({patterns:t.patterns,neurons:t.neurons,values:t.values,selectedPattern:t.selectedPattern,selectedInput:t.selectedInput,selectedNeuron:t.selectedNeuron,editorOpen:t.editorOpen,thresholdRule:Aa.value}):t;throw new Error("Failed pattern match at Neuron.Model (line 167, column 20 - line 196, column 15): "+[n.constructor.name])}};var Ra=n=>()=>n.currentTarget.value;var pf=function(n){return function(t){return function(r){return Kr(vu)(dt(r)(n))(t)}}};var wp=(n,t,r,e=!1)=>{let a={},o={style:a},f={tag:n,children:r,props:o,node:null,keyed:e},i=t.length;for(let g=0;g<i;g++){let[N,E,I]=t[g];N==1?o[E]=I:N===2?o.class=(o.class?o.class+" ":"")+E:N===3&&(a[E]=I)}return f},Yn=n=>t=>r=>wp(n,t,r.map(e=>[null,e]));var Lp=n=>({tag:n,props:{},children:[],type:3});var gn=n=>t=>[1,n,t],Sn=n=>[2,n],mf=[-1],Wa=n=>t=>[1,"on"+n,t],Lt=n=>t=>[3,n,t],Xn=Lp;function vf(n){return n.currentTarget}function jo(n){return n.type}function df(n,t,r){return n==null?t:r(n)}var Mn=function(n){return df(n,m.value,l.create)};var Qo=function(n){return Mn(vf(n))};var Ua=Xn("");var Go=function(n){return function(t){if(n instanceof l)return t(n.value0);if(n instanceof m)return Ua;throw new Error("Failed pattern match at Pha.Html.Core (line 81, column 1 - line 81, column 52): "+[n.constructor.name,t.constructor.name])}},Ko=function(n){return function(t){return n?t(void 0):Ua}},Be=function(n){return function(t){return t?Sn(n):mf}};var qa=function(){var n=gn("y2"),t=h(bt);return function(r){return n(t(r))}}(),Oa=function(){var n=gn("y1"),t=h(bt);return function(r){return n(t(r))}}(),ke=function(){var n=gn("y"),t=h(bt);return function(r){return n(t(r))}}(),Ba=function(){var n=gn("x2"),t=h(bt);return function(r){return n(t(r))}}(),za=function(){var n=gn("x1"),t=h(bt);return function(r){return n(t(r))}}(),$r=function(){var n=gn("x"),t=h(bt);return function(r){return n(t(r))}}();var yf=function(n){return function(t){return function(r){return function(e){return gn("viewBox")(h(Jn)(n)+(" "+(h(Jn)(t)+(" "+(h(Jn)(r)+(" "+h(Jn)(e)))))))}}}},ve=gn("value"),Yo=gn("type");var ka=function(){var n=gn("stroke-width"),t=h(bt);return function(r){return n(t(r))}}();var Hr=gn("stroke");var Xo=function(){var n=gn("r"),t=h(bt);return function(r){return n(t(r))}}();var Zo=function(){var n=gn("min"),t=h(Jn);return function(r){return n(t(r))}}();var hf=function(){var n=gn("max"),t=h(Jn);return function(r){return n(t(r))}}();var nu=gn("fill");var Ur=function(n){return function(t){return Yn("text")(t)([Xn(n)])}},gf=Yn("svg");var Ja=function(n){return Yn("line")(n)([])};var vr=Yn("g");var Rn=Yn("div"),tu=function(n){return Yn("circle")(n)([])};var bf=s,qr=Wa;var Or=function(n){return qr("click")(function(){var t=L(Vn);return function(r){return t(l.create(n(r)))}}())};var Tf=function(n){return qr("pointerenter")(function(){var t=L(Vn);return function(r){return t(l.create(n(bf(r))))}}())},Ff=function(n){return qr("pointerleave")(function(){var t=L(Vn);return function(r){return t(l.create(n(bf(r))))}}())};var ru=function(n){return function(t){return"translate("+(n+(","+(t+")")))}};var tr=function(n){return h(bt)(n*100)+"%"};var Vp=function(n){var t=Go(Xt(n.patterns)(n.selectedPattern))(function(r){return Rn([Sn("pattern-editor")])(dt(function(e){return function(a){var o=ct(qn)(e)(9),f=Bt(qn)(e)(9);return Rn([Sn("pattern-pixel"),Be("black")(a),Lt("width")("11.1111111111%"),Lt("height")("11.1111111111%"),Lt("left")(tr(Hn(f)/9)),Lt("top")(tr(Hn(o)/9)),Or(function(i){return new zo(e)})])([])}})(r))});return Rn([Sn("absolute flex-center ui-dialog-container")])([Rn([Sn("ui-dialog")])([Rn([Sn("ui-dialog-head")])([Rn([Sn("ui-dialog-title")])([Xn("Modifier le motif")])]),Rn([Sn("ui-dialog-body")])([t]),Rn([Sn("ui-dialog-buttons")])([Yn("sl-button")([Or(function(r){return ko.value})])([Xn("R\xE9initialiser")]),Yn("sl-button")([Or(function(r){return new Sa(!1)})])([Xn("Ok")])])])])},Qp=function(n){return function(t){return function(r){return function(e){return Rn([Sn("pattern"),Be("selected")(t),Or(function(a){return new Uo(n)})])(dt(function(a){return function(o){var f=ct(qn)(a)(9),i=Bt(qn)(a)(9),g=t&&(U(Tr(Xr))(new l(ct(qn)(f)(3)))(r)||U(Tr(Xr))(new l(ct(qn)(i)(3)+3|0))(r));return Rn([Sn("pattern-pixel"),Be("black")(o),Be("selected")(g),Lt("width")("11.1111111111%"),Lt("height")("11.1111111111%"),Lt("left")(tr(Hn(i)/9)),Lt("top")(tr(Hn(f)/9))])([])}})(e))}}}},Gp=function(n){return Ja([Oa(20+20*Hn(n)),qa(20+20*Hn(n)),za(105),Ba(120),ka(.5),Hr("grey")])},Kp=function(n){return function(t){var r=Bt(qn)(t)(6),e=Bt(qn)(n)(6),a=ct(qn)(t)(6),o=ct(qn)(n)(6);return Ja([Oa(function(){var f=o<=1;return f?10+15*Hn(e):20+20*Hn(e)}()),qa(function(){var f=a<=1;return f?10+15*Hn(r):20+20*Hn(r)}()),za(function(){var f=o===0;if(f)return 15;var i=o===1;return i?60:105}()),Ba(function(){var f=a===0;if(f)return 15;var i=a===1;return i?60:105}()),ka(.5),Hr("grey")])}},Yp=function(n){return Ja([Oa(10+15*Hn(n)),qa(10+15*Hn(n)),za(0),Ba(15),ka(.5),Hr("grey")])},Ef=function(n){var t=gf([yf(0)(0)(150)(100)])([vr([])(ge(dt(function(r){return function(e){if(e instanceof Rt)return[];if(e instanceof Kn)return ot(Wn)(e.value0.coeffs)(function(a){return Kp(r)(a.from)});throw new Error("Failed pattern match at Neuron.View (line 174, column 21 - line 177, column 66): "+[e.constructor.name])}})(n.neurons))),vr([])(u(Wn)(Yp)(hr(0)(5))),vr([])(u(Wn)(Gp)(hr(0)(3))),vr([])(pf(n.neurons)(n.values)(function(r){return function(e){return function(a){var o=Bt(qn)(r)(6),f=ct(qn)(r)(6);if(e instanceof Rt)return vr([Lt("transform")(ru(tr(.1))(tr(.1+Hn(o)*.15)))])([tu([Xo(5),Tf(function(i){return new Pa(new l(r))}),Ff(function(i){return new Pa(m.value)}),nu("pink")]),Ur(h(Jn)(a))([$r(-2.5),ke(2),gn("font-size")("0.3rem"),gn("pointer-events")("none")])]);if(e instanceof Kn)return vr([Lt("transform")(ru(tr(function(){var i=f===1;return i?.4:.7}()))(tr(function(){var i=f===1;return i?.1+.15*Hn(o):.2+.2*Hn(o)}())))])([tu([Xo(5),nu("pink"),Hr(function(){var i=r===n.selectedNeuron;return i?"green":"pink"}()),Or(function(i){return new qo(r)})]),Ur(h(Jn)(a))([$r(-2.5),ke(2),gn("font-size")("0.3rem"),gn("pointer-events")("none")]),Ur("\u2265"+h(Jn)(e.value0.threshold))([$r(-2.5),ke(-5.5),gn("font-size")("0.2rem")]),vr([])(dt(function(i){return function(g){return Ur("\xD7"+h(Jn)(g.coeff))([$r(-8),ke(Hn(i)*3),gn("font-size")("0.18rem"),gn("pointer-events")("none")])}})(e.value0.coeffs)),Ko(f===2)(function(i){var g=a>0;return g?Ur("\u2713")([$r(20),gn("font-size")("0.4rem"),Hr("green")]):Ur("\u2A2F")([$r(20),gn("font-size")("0.4rem"),Hr("red")])})]);throw new Error("Failed pattern match at Neuron.View (line 184, column 17 - line 233, column 26): "+[e.constructor.name])}}}))]);return Rn([Sn("layout")])([Rn([Sn("row")])([Rn([Sn("col-6")])([Yn("sl-button")([Or(function(r){return new Sa(!0)})])([Xn("Modifier le motif")]),Rn([Sn("pattern-container")])(dt(function(r){return Qp(r)(n.selectedPattern===r)(n.selectedInput)})(n.patterns)),Go(Xt(n.neurons)(n.selectedNeuron))(function(r){if(r instanceof Rt)return Ua;if(r instanceof Kn)return Rn([Sn("config-main")])($(Cr)([Rn([])([Xn("R\xE8gle pour le seuil")]),Yn("sl-select")([ve(af(n.thresholdRule)),qr("sl-change")(function(e){return u(nn)(u(gt)(l.create)(Jo.create))(Ra(e))})])([Yn("sl-menu-item")([ve("standard")])([Xn("Standard")]),Yn("sl-menu-item")([ve("bool")])([Xn("Bool\xE9en")])]),Rn([])([Xn("Seuil: ")]),Yn("sl-input")([Yo("number"),ve(h(Jn)(r.value0.threshold)),Zo(0),qr("sl-change")(function(e){return u(nn)(u(gt)(l.create)(Bo.create))(Ra(e))})])([])])(ge(dt(function(e){return function(a){return[Rn([])([Xn("Coeff "+(h(Jn)(e+1|0)+": "))]),Yn("sl-input")([Yo("number"),ve(h(Jn)(a.coeff)),Zo(-9),hf(9),qr("sl-change")(function(o){return u(nn)(u(gt)(l.create)(Oo.create(e)))(Ra(o))})])([])]}})(r.value0.coeffs))));throw new Error("Failed pattern match at Neuron.View (line 133, column 53 - line 162, column 26): "+[r.constructor.name])})]),Rn([Sn("col-24 relative")])([t])]),Ko(n.editorOpen)(function(r){return Vp(n)})])};var Br=function(){var n={},t="Pure",r="Throw",e="Catch",a="Sync",o="Async",f="Bind",i="Bracket",g="Fork",N="Sequential",E="Map",I="Apply",C="Alt",x="Cons",Tn="Resume",S="Release",bn="Finalizer",xn="Finalized",xt="Forked",Dr="Fiber",Xe="Thunk";function b(y,en,wn,sn){this.tag=y,this._1=en,this._2=wn,this._3=sn}function yt(y){var en=function(wn,sn,T){return new b(y,wn,sn,T)};return en.tag=y,en}function Za(y){return new b(t,void 0)}function Xf(y){try{y()}catch(en){setTimeout(function(){throw en},0)}}function Zf(y,en,wn){try{return en(wn())}catch(sn){return y(sn)}}function nc(y,en,wn){try{return en(wn)()}catch(sn){return wn(y(sn))(),Za}}var Ze=function(){var y=1024,en=0,wn=0,sn=new Array(y),T=!1;function p(){var cn;for(T=!0;en!==0;)en--,cn=sn[wn],sn[wn]=void 0,wn=(wn+1)%y,cn();T=!1}return{isDraining:function(){return T},enqueue:function(cn){var O,Fn;en===y&&(Fn=T,p(),T=Fn),sn[(wn+en)%y]=cn,en++,T||p()}}}();function tc(y){var en={},wn=0,sn=0;return{register:function(T){var p=wn++;T.onComplete({rethrow:!0,handler:function(cn){return function(){sn--,delete en[p]}}})(),en[p]=T,sn++},isEmpty:function(){return sn===0},killAll:function(T,p){return function(){if(sn===0)return p();var cn=0,O={};function Fn(pn){O[pn]=en[pn].kill(T,function(Nn){return function(){delete O[pn],cn--,y.isLeft(Nn)&&y.fromLeft(Nn)&&setTimeout(function(){throw y.fromLeft(Nn)},0),cn===0&&p()}})()}for(var Un in en)en.hasOwnProperty(Un)&&(cn++,Fn(Un));return en={},wn=0,sn=0,function(pn){return new b(a,function(){for(var Nn in O)O.hasOwnProperty(Nn)&&O[Nn]()})}}}}}var Vr=0,at=1,na=2,ta=3,ra=4,_t=5,de=6;function no(y,en,wn){var sn=0,T=Vr,p=wn,cn=null,O=null,Fn=null,Un=null,pn=null,Nn=0,yr=0,ht=null,er=!0;function ar(F){for(var M,K,tn;;)switch(M=null,K=null,tn=null,T){case na:T=at;try{p=Fn(p),Un===null?Fn=null:(Fn=Un._1,Un=Un._2)}catch(zn){T=_t,cn=y.left(zn),p=null}break;case ta:y.isLeft(p)?(T=_t,cn=p,p=null):Fn===null?T=_t:(T=na,p=y.fromRight(p));break;case at:switch(p.tag){case f:Fn&&(Un=new b(x,Fn,Un)),Fn=p._2,T=at,p=p._1;break;case t:Fn===null?(T=_t,p=y.right(p._1)):(T=na,p=p._1);break;case a:T=ta,p=Zf(y.left,y.right,p._1);break;case o:T=ra,p=nc(y.left,p._1,function(zn){return function(){sn===F&&(sn++,Ze.enqueue(function(){sn===F+1&&(T=ta,p=zn,ar(sn))}))}});return;case r:T=_t,cn=y.left(p._1),p=null;break;case e:Fn===null?pn=new b(x,p,pn,O):pn=new b(x,p,new b(x,new b(Tn,Fn,Un),pn,O),O),Fn=null,Un=null,T=at,p=p._1;break;case i:Nn++,Fn===null?pn=new b(x,p,pn,O):pn=new b(x,p,new b(x,new b(Tn,Fn,Un),pn,O),O),Fn=null,Un=null,T=at,p=p._1;break;case g:T=ta,M=no(y,en,p._2),en&&en.register(M),p._1&&M.run(),p=y.right(M);break;case N:T=at,p=ec(y,en,p._1);break}break;case _t:if(Fn=null,Un=null,pn===null)T=de,p=O||cn||p;else switch(M=pn._3,tn=pn._1,pn=pn._2,tn.tag){case e:O&&O!==M&&Nn===0?T=_t:cn&&(T=at,p=tn._2(y.fromLeft(cn)),cn=null);break;case Tn:O&&O!==M&&Nn===0||cn?T=_t:(Fn=tn._1,Un=tn._2,T=na,p=y.fromRight(p));break;case i:Nn--,cn===null&&(K=y.fromRight(p),pn=new b(x,new b(S,tn._2,K),pn,M),(O===M||Nn>0)&&(T=at,p=tn._3(K)));break;case S:pn=new b(x,new b(xn,p,cn),pn,O),T=at,O&&O!==M&&Nn===0?p=tn._1.killed(y.fromLeft(O))(tn._2):cn?p=tn._1.failed(y.fromLeft(cn))(tn._2):p=tn._1.completed(y.fromRight(p))(tn._2),cn=null,Nn++;break;case bn:Nn++,pn=new b(x,new b(xn,p,cn),pn,O),T=at,p=tn._1;break;case xn:Nn--,T=_t,p=tn._1,cn=tn._2;break}break;case de:for(var In in ht)ht.hasOwnProperty(In)&&(er=er&&ht[In].rethrow,Xf(ht[In].handler(p)));ht=null,O&&cn?setTimeout(function(){throw y.fromLeft(cn)},0):y.isLeft(p)&&er&&setTimeout(function(){if(er)throw y.fromLeft(p)},0);return;case Vr:T=at;break;case ra:return}}function Ln(F){return function(){if(T===de)return er=er&&F.rethrow,F.handler(p)(),function(){};var M=yr++;return ht=ht||{},ht[M]=F,function(){ht!==null&&delete ht[M]}}}function w(F,M){return function(){if(T===de)return M(y.right(void 0))(),function(){};var K=Ln({rethrow:!1,handler:function(){return M(y.right(void 0))}})();switch(T){case Vr:O=y.left(F),T=de,p=O,ar(sn);break;case ra:O===null&&(O=y.left(F)),Nn===0&&(T===ra&&(pn=new b(x,new b(bn,p(F)),pn,O)),T=_t,p=null,cn=null,ar(++sn));break;default:O===null&&(O=y.left(F)),Nn===0&&(T=_t,p=null,cn=null)}return K}}function B(F){return function(){var M=Ln({rethrow:!1,handler:F})();return T===Vr&&ar(sn),M}}return{kill:w,join:B,onComplete:Ln,isSuspended:function(){return T===Vr},run:function(){T===Vr&&(Ze.isDraining()?ar(sn):Ze.enqueue(function(){ar(sn)}))}}}function rc(y,en,wn,sn){var T=0,p={},cn=0,O={},Fn=new Error("[ParAff] Early exit"),Un=null,pn=n;function Nn(Ln,w,B){var F=w,M=null,K=null,tn=0,In={},zn,De;n:for(;;)switch(zn=null,F.tag){case xt:if(F._3===n&&(zn=p[F._1],In[tn++]=zn.kill(Ln,function(ac){return function(){tn--,tn===0&&B(ac)()}})),M===null)break n;F=M._2,K===null?M=null:(M=K._1,K=K._2);break;case E:F=F._2;break;case I:case C:M&&(K=new b(x,M,K)),M=F,F=F._1;break}if(tn===0)B(y.right(void 0))();else for(De=0,zn=tn;De<zn;De++)In[De]=In[De]();return In}function yr(Ln,w,B){var F,M,K,tn,In,zn;y.isLeft(Ln)?(F=Ln,M=null):(M=Ln,F=null);n:for(;;){if(K=null,tn=null,In=null,zn=null,Un!==null)return;if(w===null){sn(F||M)();return}if(w._3!==n)return;switch(w.tag){case E:F===null?(w._3=y.right(w._1(y.fromRight(M))),M=w._3):w._3=F;break;case I:if(K=w._1._3,tn=w._2._3,F){if(w._3=F,In=!0,zn=cn++,O[zn]=Nn(Fn,F===K?w._2:w._1,function(){return function(){delete O[zn],In?In=!1:B===null?yr(F,null,null):yr(F,B._1,B._2)}}),In){In=!1;return}}else{if(K===n||tn===n)return;M=y.right(y.fromRight(K)(y.fromRight(tn))),w._3=M}break;case C:if(K=w._1._3,tn=w._2._3,K===n&&y.isLeft(tn)||tn===n&&y.isLeft(K))return;if(K!==n&&y.isLeft(K)&&tn!==n&&y.isLeft(tn))F=M===K?tn:K,M=null,w._3=F;else if(w._3=M,In=!0,zn=cn++,O[zn]=Nn(Fn,M===K?w._2:w._1,function(){return function(){delete O[zn],In?In=!1:B===null?yr(M,null,null):yr(M,B._1,B._2)}}),In){In=!1;return}break}B===null?w=null:(w=B._1,B=B._2)}}function ht(Ln){return function(w){return function(){delete p[Ln._1],Ln._3=w,yr(w,Ln._2._1,Ln._2._2)}}}function er(){var Ln=at,w=wn,B=null,F=null,M,K;n:for(;;)switch(M=null,K=null,Ln){case at:switch(w.tag){case E:B&&(F=new b(x,B,F)),B=new b(E,w._1,n,n),w=w._2;break;case I:B&&(F=new b(x,B,F)),B=new b(I,n,w._2,n),w=w._1;break;case C:B&&(F=new b(x,B,F)),B=new b(C,n,w._2,n),w=w._1;break;default:K=T++,Ln=_t,M=w,w=new b(xt,K,new b(x,B,F),n),M=no(y,en,M),M.onComplete({rethrow:!1,handler:ht(w)})(),p[K]=M,en&&en.register(M)}break;case _t:if(B===null)break n;B._1===n?(B._1=w,Ln=at,w=B._2,B._2=n):(B._2=w,w=B,F===null?B=null:(B=F._1,F=F._2))}for(pn=w,K=0;K<T;K++)p[K].run()}function ar(Ln,w){Un=y.left(Ln);var B;for(var F in O)if(O.hasOwnProperty(F)){B=O[F];for(F in B)B.hasOwnProperty(F)&&B[F]()}O=null;var M=Nn(Ln,pn,w);return function(K){return new b(o,function(tn){return function(){for(var In in M)M.hasOwnProperty(In)&&M[In]();return Za}})}}return er(),function(Ln){return new b(o,function(w){return function(){return ar(Ln,w)}})}}function ec(y,en,wn){return new b(o,function(sn){return function(){return rc(y,en,wn,sn)}})}return b.EMPTY=n,b.Pure=yt(t),b.Throw=yt(r),b.Catch=yt(e),b.Sync=yt(a),b.Async=yt(o),b.Bind=yt(f),b.Bracket=yt(i),b.Fork=yt(g),b.Seq=yt(N),b.ParMap=yt(E),b.ParApply=yt(I),b.ParAlt=yt(C),b.Fiber=no,b.Supervisor=tc,b.Scheduler=Ze,b.nonCanceler=Za,b}(),tm=Br.Pure,rm=Br.Throw;var em=Br.Sync;var wf=Br.Async;var am=function(){function n(r,e){return r===0&&typeof setImmediate<"u"?setImmediate(e):setTimeout(e,r)}function t(r,e){return r===0&&typeof clearImmediate<"u"?clearImmediate(e):clearTimeout(e)}return function(r,e){return Br.Async(function(a){return function(){var o=n(e,a(r()));return function(){return Br.Sync(function(){return r(t(e,o))})}}})}}(),om=Br.Seq;var Hf=(n,t)=>Object.assign({},n,t),Uf=(n,t)=>n&&t?r=>n(t(r)):n||t,qf=(n,t,r,e,a,o,f)=>{if(t==="style")for(let i in Hf(r,e))r=e==null||e[i]==null?"":e[i],i[0]==="-"?n[t].setProperty(i,r):n[t][i]=r;else if(t[0]==="o"&&t[1]==="n"){let i=t.slice(2);n.actions||(n.actions={}),n.actions[i]=f&&e?f(e):e,e?r||n.addEventListener(i,a):n.removeEventListener(i,a)}else!o&&t in n?n[t]=e:e==null||e===!1||t==="class"&&!e?n.removeAttribute(t):n.setAttribute(t,e)},Ka=(n,t,r,e)=>{let a=n.type===3?document.createTextNode(n.tag):(r=r||n.tag==="svg")?document.createElementNS("http://www.w3.org/2000/svg",n.tag):document.createElement(n.tag),o=n.props,f=Uf(e,n.mapf);for(let i in o)qf(a,i,null,o[i],t,r,f);for(let i=0,g=n.children.length;i<g;i++)a.appendChild(Ka(jr(n.children[i])[1],t,r,f));return n.node=a,a},dm=n=>n&&n[0],Jr=(n,t,r,e,a,o,f)=>{if(r!==e)if(r!=null&&r.type===3&&e.type===3)r.tag!==e.tag&&(t.nodeValue=e.tag);else if(r==null||r.tag!==e.tag)t=n.insertBefore(Ka(e,a,o,f),t),r&&r.node&&n.removeChild(r.node);else{let i=r.props,g=e.props,N=r.children,E=e.children,I=0,C=0,x=N.length-1,Tn=E.length-1;f=Uf(f,e.mapf),o=o||e.tag==="svg";for(let S in Hf(i,g))(S==="value"||S==="selected"||S==="checked"?t[S]:i[S])!==g[S]&&qf(t,S,i[S],g[S],a,o,f);if(e.keyed){for(;C<=Tn&&I<=x;){let[S,bn]=N[I];if(S!==E[C][0])break;let xn=jr(E[C],bn);Jr(t,bn.node,bn,xn[1],a,o,f),C++,I++}for(;C<=Tn&&I<=x;){let[S,bn]=N[x];if(S!==E[Tn][0])break;let xn=jr(E[Tn],bn);Jr(t,bn.node,bn,xn[1],a,o,f),Tn--,x--}if(I>x)for(;C<=Tn;){let S=jr(E[C])[1];t.insertBefore(Ka(S,a,o,f),N[I]&&N[I][1].node),C++}else if(C>Tn)for(;I<=x;)t.removeChild(N[I][1].node),I++;else{let S={},bn={};for(let xn=I;xn<=x;xn++)S[N[xn][0]]=N[xn][1];for(;C<=Tn;){let[xn,xt]=N[I],[Dr,Xe]=jr(E[C],xt);if(bn[xn]||Dr===dm(N[I+1])){I++;continue}if(xn===Dr)Jr(t,xt.node,xt,Xe,a,o,f),bn[Dr]=!0,I++;else{let b=S[Dr];b!=null?(Jr(t,t.insertBefore(b.node,xt.node),b,E[C][1],a,o,f),bn[Dr]=!0):Jr(t,xt.node,null,E[C][1],a,o,f)}C++}for(let xn in S)bn[xn]||t.removeChild(S[xn].node)}}else{for(let S=0;S<=x&&S<=Tn;S++){let bn=N[S][1],xn=jr(E[S],bn)[1];Jr(t,bn.node,bn,xn,a,o,f)}for(let S=x+1;S<=Tn;S++){let bn=jr(E[S],r)[1];t.appendChild(Ka(bn,a,o,f))}for(let S=Tn+1;S<=x;S++)t.removeChild(N[S][1].node)}}return e.node=t,t},Dm=(n,t)=>{for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!0;return!1},ym=(n,t)=>t.reduce((r,e)=>r(e),n),jr=(n,t)=>(typeof n[1].type=="function"&&((!t||t.memo==null||Dm(t.memo,n[1].memo))&&(t=Ye(ym(n[1].type,n[1].memo)),t.memo=n[1].memo),n[1]=t),n),Ye=n=>Object.assign({},n,{children:n.children&&n.children.map(([t,r])=>[t,Ye(r)])}),uu=n=>t=>()=>n.actions[t],iu=n=>t=>r=>e=>a=>()=>Jr(n,t,r,e,o=>a(o)());function fu(n){return function(t){return n===t}}var Of=fu;var Ya=function(n){return function(t){return t[n]}},Am=Ya("namespaceURI"),Pm=Ya("prefix"),Sm=Ya("localName"),Rm=Ya("tagName");var Xa=function(n){return function(t){return function(){return t[n]}}},$m=Xa("children"),Hm=Xa("firstElementChild"),Um=Xa("lastElementChild"),qm=Xa("childElementCount");function Bf(n){return function(t){return function(){return t.querySelector(n)}}}var zf=function(n){var t=u(nn)(Mn),r=Bf(n);return function(e){return t(r(e))}};var kf=s;var $t=function(n){return function(t){return function(){return t[n]}}};var Vm=$t("baseURI"),Qm=$t("ownerDocument"),Jf=$t("parentNode"),Gm=$t("parentElement");var Km=$t("childNodes"),Ym=$t("firstChild"),Xm=$t("lastChild"),Zm=$t("previousSibling"),nv=$t("nextSibling"),tv=$t("nodeValue");var rv=$t("textContent");var jf=function(){var n=u(nn)(Mn);return function(t){return n(Jf(t))}}();var cu=function(){return window};var Vf=s;function lu(n){return function(){return n.document}}var od=function(n,t,r){var e=0,a;return function(o){if(e===2)return a;if(e===1)throw new ReferenceError(n+" was needed before it finished initializing (module "+t+", line "+o+")",t,o);return e=1,a=r(),e=2,a}};var ud=function(n){var t=function(r){return function(e){return function(a){var o=fr(r),f=function(C){return function(){var Tn=fr(r)();return Yr(Vn)(Of(Tn)(C))(function(){return Er(C)(r)(),i(n.view(C))()})()}},i=function(C){return function(){var Tn=fr(a)(),S=fr(e)(),bn=jf(S)();return Yt(Vn)(lr)(bn)(function(xn){var xt=Ye(C);return function(){var Xe=iu(xn)(S)(Tn)(xt)(g)();return Er(Xe)(e)(),Er(xt)(a)()}})()}},g=function(C){var x=jo(C);return Yt(Vn)(lr)(Qo(C))(function(Tn){return function(){var bn=uu(Tn)(x)();return N(C)(bn)()}})},N=function(C){return function(x){return function(){var S=x(C)();return Yt(Vn)(lr)(S)(E(75))()}}},E=od("dispatch","Pha.App",function(){return n.update({get:o,put:function(C){return f(C)}})}),I=E(68);return function(){return i(n.view(n.init.state))(),Yt(Vn)(Et)(n.subscriptions)(function(x){return x(I)})(),Yt(Vn)(lr)(n.init.action)(I)()}}}};return function(){var e=ot(nn)(rn(fa)(cu)(lu))(Vf)(),a=u(nn)(u(jn)(kf))(zf(n.selector)(e))();return Yt(Vn)(lr)(a)(function(o){return function(){var i=re(n.init.state)(),g=re(o)(),N=re(Xn(""))();return t(i)(g)(N)()}})()}},Kf=function(n){return ud({init:{state:n.init,action:m.value},view:n.view,update:function(t){return function(r){return function(){var a=t.get();return t.put(n.update(r)(a))()}}},subscriptions:[],selector:n.selector})};var Yf=Kf({init:lf,view:Ef,update:sf,selector:"#root"});Yf();})();
